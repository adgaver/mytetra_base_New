<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:11pt; font-weight:400; font-style:normal;">
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#6a9955;"># ---------------------------------------------------------------------</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">    </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">page</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">.</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#dcdcaa;">locator</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">(</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#ce9178;">&quot;#modal&quot;</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">).</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#dcdcaa;">get_by_text</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">(</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#ce9178;">&quot;Добавить&quot;</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">).</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">first</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">.</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#dcdcaa;">set_input_files</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">(</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">file_path</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">)</span></p>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">    </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">page</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">.</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#dcdcaa;">get_by_role</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">(</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#ce9178;">&quot;button&quot;</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">, </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">name</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#d4d4d4;">=</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#ce9178;">&quot;Загрузить&quot;</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">).</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#dcdcaa;">click</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">    </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">page</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">.</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#dcdcaa;">wait_for_timeout</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">(</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#b5cea8;">10000</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">)</span></pre>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#6a9955;"># ---------------------------------------------------------------------</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Calibri'; color:#cc7832;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Calibri'; color:#cc7832; background-color:transparent;">import​​ </span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">os<br /><br /></span><span style=" font-family:'Calibri'; color:#cc7832; background-color:transparent;">from​​ </span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">playwright.sync_api​​ </span><span style=" font-family:'Calibri'; color:#cc7832; background-color:transparent;">import​​ </span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">Playwright</span><span style=" font-family:'Calibri'; color:#cc7832; background-color:transparent;">,​​ </span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">sync_playwright</span><span style=" font-family:'Calibri'; color:#cc7832; background-color:transparent;">,​​ </span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">expect<br /><br /><br /></span><span style=" font-family:'Calibri'; color:#cc7832; background-color:transparent;">def​​ </span><span style=" font-family:'Calibri'; color:#ffc66d; background-color:transparent;">run</span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">(playwright: Playwright) -&gt;​​ </span><span style=" font-family:'Calibri'; color:#cc7832; background-color:transparent;">None</span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">:<br /> ​​ ​​ ​​​​ browser = playwright.chromium.launch(</span><span style=" font-family:'Calibri'; color:#aa4926; background-color:transparent;">headless</span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">=</span><span style=" font-family:'Calibri'; color:#cc7832; background-color:transparent;">False</span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">)<br /> ​​ ​​ ​​​​ context = browser.new_context()<br /><br /> ​​ ​​ ​​​​ page = context.new_page()<br /> ​​ ​​ ​​​​ page.goto(</span><span style=" font-family:'Calibri'; color:#6a8759; background-color:transparent;">&quot;https://the-internet.herokuapp.com/upload&quot;</span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">)<br /><br /> ​​ ​​ ​​​​ current_working_dir = os.getcwd()<br /> ​​ ​​ ​​​​ file_path = os.path.join(current_working_dir</span><span style=" font-family:'Calibri'; color:#cc7832; background-color:transparent;">,​​ </span><span style=" font-family:'Calibri'; color:#6a8759; background-color:transparent;">&quot;downloads/fileToUpload.txt&quot;</span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">)<br /><br /> ​​ ​​ ​​​​ page.set_input_files(</span><span style=" font-family:'Calibri'; color:#6a8759; background-color:transparent;">'#file-upload'</span><span style=" font-family:'Calibri'; color:#cc7832; background-color:transparent;">,​​ </span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">file_path)<br /><br /> ​​ ​​ ​​​​ page.locator(</span><span style=" font-family:'Calibri'; color:#6a8759; background-color:transparent;">&quot;text = Upload&quot;</span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">).last.click()<br /><br /> ​​ ​​ ​​​​ page.wait_for_timeout(</span><span style=" font-family:'Calibri'; color:#6897bb; background-color:transparent;">10000</span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">)<br /><br /> ​​ ​​ ​​​​ </span><span style=" font-family:'Calibri'; color:#808080; background-color:transparent;"># ---------------------<br /> ​​ ​​ ​​​​ </span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">context.close()<br /> ​​ ​​ ​​​​ browser.close()<br /><br /><br /></span><span style=" font-family:'Calibri'; color:#cc7832; background-color:transparent;">with​​ </span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">sync_playwright()​​ </span><span style=" font-family:'Calibri'; color:#cc7832; background-color:transparent;">as​​ </span><span style=" font-family:'Calibri'; color:#a9b7c6; background-color:transparent;">playwright:<br /> ​​ ​​ ​​​​ run(playwright)</span></p></body></html>