<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="question-header"></a><a href="https://stackoverflow.com/questions/3207219/how-do-i-list-all-files-of-a-directory"><span style=" font-size:xx-large; font-weight:600; text-decoration: underline; color:#0000ff;">К</span></a><span style=" font-size:xx-large; font-weight:600; text-decoration: underline; color:#0000ff;">ак мне перечислить все файлы каталога?</span></p>
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#c586c0;">import</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"> </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#4ec9b0;">glob</span></p>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">mylist</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"> </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#d4d4d4;">=</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"> [</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">f</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"> </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#c586c0;">for</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"> </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">f</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"> </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#c586c0;">in</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"> </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#4ec9b0;">glob</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">.</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#dcdcaa;">glob</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">(</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#4ec9b0;">glob</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">.</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#dcdcaa;">escape</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">(</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">directory_name</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">) </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#d4d4d4;">+</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"> </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#ce9178;">&quot;/*.xlsm&quot;</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">)]</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">или</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">list_file</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#d4d4d4;">=</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#4ec9b0;">glob</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">.</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#dcdcaa;">glob</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">(</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#4ec9b0;">glob</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">.</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#dcdcaa;">escape</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">(</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">directory_name</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">) </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#d4d4d4;">+</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"> </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#ce9178;">&quot;/*.xlsm&quot;</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">)</span></pre>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">или</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"><br /></p>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">txtfiles</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"> </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#d4d4d4;">=</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"> []</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#c586c0;">for</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"> </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">file</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"> </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#c586c0;">in</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;"> </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#4ec9b0;">glob</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">.</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#dcdcaa;">glob</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">(</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">directory_name</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">,</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#ce9178;">&quot;*.xlsm&quot;</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">):    </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">    </span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">txtfiles</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">.</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#dcdcaa;">append</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">(</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#9cdcfe;">file</span><span style=" font-family:'Consolas,Courier New,monospace'; font-size:14px; color:#cccccc;">)</span></pre>
<p style="-qt-paragraph-type:empty; margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:xx-large; font-weight:600; text-decoration: underline; color:#0000ff;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Как я могу перечислить все файлы каталога в Python и добавить их в файл <span style=" font-family:'Courier New';">list</span>?</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="answers"></a><span style=" font-size:x-large; font-weight:600;">2</span><span style=" font-size:x-large; font-weight:600;">1 ответ</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Отсортировано по:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="answer-sort-dropdown-select-menu"></a>                                              Наивысший балл (по умолчанию)                                                                   В тренде (недавние голоса имеют большее значение)                                                                   Дата изменения (сначала самые новые)                                                                   Дата создания (сначала самое старое)                              </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="answer-3207973"></a>6421</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://docs.python.org/3/library/os.html#os.listdir"><span style=" font-family:'Courier New'; font-weight:600; text-decoration: underline; color:#0000ff;">os.listdir()</span></a>возвращает все внутри каталога, включая <span style=" font-weight:600;">файлы</span> и <span style=" font-weight:600;">каталоги</span> .</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://docs.python.org/3/library/os.path.html#module-os.path"><span style=" font-family:'Courier New'; font-weight:600; text-decoration: underline; color:#0000ff;">os.path</span></a>можно <span style=" font-family:'Courier New';">isfile()</span>использовать только для вывода списка файлов:</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">from os import listdirfrom os.path import isfile, joinonlyfiles = [f for f in listdir(mypath) if isfile(join(mypath, f))]</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Альтернативно, <span style=" font-weight:600;">выдает два списка</span> для каждого посещаемого каталога — один для <span style=" font-weight:600;">файлов</span> и один для <span style=" font-weight:600;">каталогов</span> . Если вам нужен только верхний каталог, вы можете сломать его в первый раз:<a href="https://docs.python.org/3/library/os.html#os.walk"><span style=" font-family:'Courier New'; font-weight:600; text-decoration: underline; color:#0000ff;">os.walk()</span></a></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">from os import walkf = []for (dirpath, dirnames, filenames) in walk(mypath):    f.extend(filenames)    break</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">или, короче:</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">from os import walkfilenames = next(walk(mypath), (None, None, []))[2]  # [] if no file</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Я предпочитаю использовать <a href="https://docs.python.org/library/glob.html"><span style=" font-family:'Courier New'; text-decoration: underline; color:#0000ff;">glob</span></a>модуль, поскольку он выполняет сопоставление и расширение шаблонов.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">import globprint(glob.glob(&quot;/home/adam/*&quot;))</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Он интуитивно выполняет сопоставление с образцом</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">import glob# All files and directories ending with .txt and that don't begin with a dot:print(glob.glob(&quot;/home/adam/*.txt&quot;)) # All files and directories ending with .txt with depth of 2 folders, ignoring names beginning with a dot:print(glob.glob(&quot;/home/adam/*/*.txt&quot;)) </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Он вернет список запрошенных файлов и каталогов:</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">['/home/adam/file1.txt', '/home/adam/file2.txt', .... ]</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Обратите внимание, что <span style=" font-family:'Courier New';">glob</span>файлы и каталоги, начинающиеся с точки, игнорируются <span style=" font-family:'Courier New';">.</span>, поскольку они считаются скрытыми файлами и каталогами, если только шаблон не имеет ничего общего с <span style=" font-family:'Courier New';">.*</span>.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Используйте <a href="https://docs.python.org/3/library/glob.html#glob.escape"><span style=" font-family:'Courier New'; text-decoration: underline; color:#0000ff;">glob.escape</span></a>для экранирования строк, которые не должны быть шаблонами:</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">print(glob.glob(glob.escape(directory_name) + &quot;/*.txt&quot;))</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">список в текущем каталоге</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">С помощью <span style=" font-family:'Courier New';">listdir</span>модуля <span style=" font-family:'Courier New';">os</span>вы получаете файлы и папки в текущем каталоге.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">import os</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">arr = os.listdir()</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Ищем в каталоге</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">arr = os.listdir('c:\\files')</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">с помощью <span style=" font-family:'Courier New';">glob </span>вы можете указать тип файла для вывода в список следующим образом</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">import glob</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">txtfiles = []</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">for file in glob.glob(&quot;*.txt&quot;):    </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">    txtfiles.append(file)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">или</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">mylist = [f for f in glob.glob(&quot;*.txt&quot;)]</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">получить полный путь только к файлам в текущем каталоге</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">import osfrom os import listdirfrom os.path import isfile, joincwd = os.getcwd()onlyfiles = [os.path.join(cwd, f) for f in os.listdir(cwd) if os.path.isfile(os.path.join(cwd, f))]print(onlyfiles) ['G:\\getfilesname\\getfilesname.py', 'G:\\getfilesname\\example.txt']</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Получение полного пути с помощью<span style=" font-family:'Courier New';">os.path.abspath</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Взамен вы получите полный путь</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';"> import os files_path = [os.path.abspath(x) for x in os.listdir()] print(files_path)  ['F:\\documenti\applications.txt', 'F:\\documenti\collections.txt']</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Прогулка: просматривая подкаталоги</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">os.walk возвращает корень, список каталогов и список файлов, поэтому я распаковал их в r, d, f в цикле for; затем он ищет другие файлы и каталоги в подпапках корня и так далее, пока подпапок не останется.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">import os# Getting the current work directory (cwd)thisdir = os.getcwd()# r=root, d=directories, f = filesfor r, d, f in os.walk(thisdir):    for file in f:        if file.endswith(&quot;.docx&quot;):            print(os.path.join(r, file))</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для перехода вверх по дереву каталогов</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';"># Method 1x = os.listdir('..')# Method 2x= os.listdir('/')</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Получить файлы из определенного подкаталога с помощью<span style=" font-family:'Courier New';">os.listdir()</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">import osx = os.listdir(&quot;./content&quot;)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">os.walk('.') - текущий каталог</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';"> import os arr = next(os.walk('.'))[2] print(arr)  &gt;&gt;&gt; ['5bs_Turismo1.pdf', '5bs_Turismo1.pptx', 'esperienza.txt']</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">next(os.walk('.')) и os.path.join('dir', 'file')</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';"> import os arr = [] for d,r,f in next(os.walk(&quot;F:\\_python&quot;)):     for file in f:         arr.append(os.path.join(r,file)) for f in arr:     print(files)&gt;&gt;&gt; F:\\_python\\dict_class.py&gt;&gt;&gt; F:\\_python\\programmi.txt</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">следующий... прогулка</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';"> [os.path.join(r,file) for r,d,f in next(os.walk(&quot;F:\\_python&quot;)) for file in f]  &gt;&gt;&gt; ['F:\\_python\\dict_class.py', 'F:\\_python\\programmi.txt']</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">os.walk</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">x = [os.path.join(r,file) for r,d,f in os.walk(&quot;F:\\_python&quot;) for file in f]print(x)&gt;&gt;&gt; ['F:\\_python\\dict.py', 'F:\\_python\\progr.txt', 'F:\\_python\\readl.py']</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">os.listdir() — получить только текстовые файлы</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';"> arr_txt = [x for x in os.listdir() if x.endswith(&quot;.txt&quot;)] </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Использование <span style=" font-family:'Courier New';">glob</span>для получения полного пути к файлам</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">from path import pathfrom glob import globx = [path(f).abspath() for f in glob(&quot;F:\\*.txt&quot;)]</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Использование <span style=" font-family:'Courier New';">os.path.isfile</span>для исключения каталогов в списке</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">import os.pathlistOfFiles = [f for f in os.listdir() if os.path.isfile(f)]</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Использование <span style=" font-family:'Courier New';">pathlib</span>из Python 3.4</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">import pathlibflist = []for p in pathlib.Path('.').iterdir():    if p.is_file():        print(p)        flist.append(p)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">С <span style=" font-family:'Courier New';">list comprehension</span>:</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">flist = [p for p in pathlib.Path('.').iterdir() if p.is_file()]</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Используйте метод glob в pathlib.Path()</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">import pathlibpy = pathlib.Path().glob(&quot;*.py&quot;)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Получить все и только файлы с помощью os.walk: проверяет только третий возвращаемый элемент, то есть список файлов.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">import osx = [i[2] for i in os.walk('.')]y=[]for t in x:    for f in t:        y.append(f)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Получить только файлы со следующими в каталоге: возвращает только файл в корневой папке.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';"> import os x = next(os.walk('F://python'))[2]</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Получите только каталоги с помощью next и пройдитесь по каталогу, потому что в элементе [1] есть только папки</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';"> import os next(os.walk('F://python'))[1] # for the current dir use ('.')  &gt;&gt;&gt; ['python3','others']</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Получите все <span style=" font-family:'Courier New';">subdir</span>имена с помощью<span style=" font-family:'Courier New';">walk</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">for r,d,f in os.walk(&quot;F:\\_python&quot;):    for dirs in d:        print(dirs)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">os.scandir()</span>от Python 3.5 и выше</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">import osx = [f.name for f in os.scandir() if f.is_file()]# Another example with `scandir` (a little variation from docs.python.org)# This one is more efficient than `os.listdir`.# In this case, it shows the files only in the current directory# where the script is executed.import oswith os.scandir() as i:    for entry in i:        if entry.is_file():            print(entry.name)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://stackoverflow.com/a/41447012"><span style=" text-decoration: underline; color:#0000ff;">Делиться</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://stackoverflow.com/posts/41447012/edit"><span style=" text-decoration: underline; color:#0000ff;">Улучшите этот ответ</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="btnFollowPost-41447012"></a>Следовать</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://stackoverflow.com/posts/41447012/revisions"><span style=" text-decoration: underline; color:#0000ff;">отредактировано </span></a><a href="https://stackoverflow.com/posts/41447012/revisions"><span style=" text-decoration: underline; color:#0000ff;">12 апр 2022 в 17:41</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://stackoverflow.com/users/7036713/xxx"><span style=" text-decoration: underline; color:#0000ff;">хХх</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">115311 золотой значок1111 серебряных значков2424 бронзовых знака</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ответ дан 3 янв. 2017 в 15:36</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://stackoverflow.com/users/6464947/pythonprogrammi"><span style=" text-decoration: underline; color:#0000ff;">PythonПрограммы</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">23,1 тыс.33 золотых значка4242 серебряных значка3535 бронзовых знаков</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="comments-41447012"></a>Хороший. Мне нравится cwd: Я всегда так делал: <span style=" font-family:'Courier New';">os.path.dirname(__file__)</span>. <span style=" font-family:'Courier New';">os.getcwd()</span>это намного более лаконично. </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;">– <a href="https://stackoverflow.com/users/495157/jgfmk"><span style=" text-decoration: underline; color:#0000ff;">ЖГФМК</span></a> <a href="https://stackoverflow.com/questions/3207219/how-do-i-list-all-files-of-a-directory#comment137697721_41447012"><span style=" text-decoration: underline; color:#0000ff;">Прокомментировал</span></a><a href="https://stackoverflow.com/questions/3207219/how-do-i-list-all-files-of-a-directory#comment137697721_41447012"><span style=" text-decoration: underline; color:#0000ff;">5 мар в 8:04</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="comments-link-41447012"></a><a href="https://stackoverflow.com/questions/3207219/how-do-i-list-all-files-of-a-directory#"><span style=" text-decoration: underline; color:#0000ff;">Д</span></a><span style=" text-decoration: underline; color:#0000ff;">обавить комментарий</span></p></body></html>