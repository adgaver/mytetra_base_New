<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:24pt; color:#333333;">8 команд для Python по работе с файлами и файловой системой, которые обязательно нужно знать</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; font-weight:600; color:#929ca5;"> </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a href="https://habr.com/ru/companies/selectel/articles/"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; text-decoration: underline; color:#6f7577;">Блог компании Selectel</span></a><a href="https://habr.com/ru/hubs/python/"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; text-decoration: underline; color:#7aa600;">Python</span></a><a href="https://habr.com/ru/hubs/python/"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#7aa600;">*</span></a><a href="https://habr.com/ru/hubs/programming/"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; text-decoration: underline; color:#6f7577;">Программирование</span></a><a href="https://habr.com/ru/hubs/programming/"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#6f7577;">*</span></a><a href="https://habr.com/ru/hubs/lifehacks/"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; text-decoration: underline; color:#6f7577;">Лайфхаки для гиков</span></a> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#6667a3;">Перевод</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><a href="https://towardsdatascience.com/8-must-know-file-system-operations-in-python-7dc185daeccd"><span style=" font-family:'Arial,sans-serif'; font-size:12pt; text-decoration: underline; color:#6667a3;">Автор оригинала: Christopher Tao</span></a> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Python становится все популярнее благодаря относительной простоте изучения, универсальности и другим преимуществам. Правда, у начинающих разработчиков нередко возникают проблемы при работе с файлами и файловой системой. Просто потому, что они знают не все команды, которые нужно знать.<br /><br />Эта статья предназначена как раз для начинающих разработчиков. В ней описаны 8 крайне важных команд для работы с файлами, папками и файловой системой в целом. Все примеры из этой статьи размещены в Google Colab Notebook (ссылка на ресурс — в конце статьи).<br /></span><a name="habracut"></a><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br /></span><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#eb4247;">Показать текущий каталог</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Самая простая и вместе с тем одна из самых важных команд для Python-разработчика. Она нужна потому, что чаще всего разработчики имеют дело с относительными путями. Но в некоторых случаях важно знать, где мы находимся.<br /><br />Относительный путь хорош тем, что работает для всех пользователей, с любыми системами, количеством дисков и так далее.<br /><br />Так вот, для того чтобы показать текущий каталог, нужна встроенная в Python OS-библиотека:<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; font-weight:600; color:#8959a8;">import</span><span style=" font-family:'Consolas'; color:#4d4d4c;"> os</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">os.getcwd()</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Ее легко запомнить, так что лучше выучить один раз, чем постоянно гуглить. Это здорово экономит время.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Имейте в виду, что я использую Google Colab, так что путь /content является абсолютным.<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#eb4247;">Проверяем, существует файл или каталог</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Прежде чем задействовать команду по созданию файла или каталога, стоит убедиться, что аналогичных элементов нет. Это поможет избежать ряда ошибок при работе приложения, включая перезапись существующих элементов с данными.<br /><br />Функция os.path.exists () принимает аргумент строкового типа, который может быть либо именем каталога, либо файлом.<br /><br />В случае с Google Colab при каждом запуске создается папка sample_data. Давайте проверим, существует ли такой каталог. Для этого подойдет следующий код:<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">os.path.exists(</span><span style=" font-family:'Consolas'; color:#718c00;">'sample_data'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"> </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Эта же команда подходит и для работы с файлами:<br /><br />os.path.exists('sample_data/README.md')</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Если папки или файла нет, команда возвращает false.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#eb4247;">Объединение компонентов пути</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />В предыдущем примере я намеренно использовал слеш &quot;/&quot; для разделителя компонентов пути. В принципе это нормально, но не рекомендуется. Если вы хотите, чтобы ваше приложение было кроссплатформенным, такой вариант не подходит. Так, некоторые старые версии ОС Windows распознают только слеш &quot;\&quot; в качестве разделителя.<br /><br />Но не переживайте, Python прекрасно решает эту проблему благодаря функции os.path.join (). Давайте перепишем вариант из примера в предыдущем пункте, используя эту функцию:<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">os.path.exists(os.path.join(</span><span style=" font-family:'Consolas'; color:#718c00;">'sample_data'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">, </span><span style=" font-family:'Consolas'; color:#718c00;">'README.md'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">))</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#eb4247;">Создание директории</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Ну а теперь самое время создать директорию с именем test_dir внутри рабочей директории. Для этого можно использовать функцию<br />os.mkdir():<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">os.mkdir(</span><span style=" font-family:'Consolas'; color:#718c00;">'test_dir'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Давайте посмотрим, как это работает на практике.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br /><br />Если же мы попытаемся создать каталог, который уже существует, то получим исключение.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Именно поэтому рекомендуется всегда проверять наличие каталога с определенным названием перед созданием нового:<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; font-weight:600; color:#8959a8;">if</span><span style=" font-family:'Consolas'; color:#4d4d4c;"> </span><span style=" font-family:'Consolas'; font-weight:600; color:#8959a8;">not</span><span style=" font-family:'Consolas'; color:#4d4d4c;"> os.path.exists(</span><span style=" font-family:'Consolas'; color:#718c00;">'test_dir'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">):</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">    os.mkdir(</span><span style=" font-family:'Consolas'; color:#718c00;">'test_dir'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Еще один совет по созданию каталогов. Иногда нам нужно создать подкаталоги с уровнем вложенности 2 или более. Если мы все еще используем os.mkdir (), нам нужно будет сделать это несколько раз. В этом случае мы можем использовать os.makedirs (). Эта функция создаст все промежуточные каталоги так же, как флаг mkdir -p в системе Linux:<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">os.makedirs(os.path.join(</span><span style=" font-family:'Consolas'; color:#718c00;">'test_dir'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">, </span><span style=" font-family:'Consolas'; color:#718c00;">'level_1'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">, </span><span style=" font-family:'Consolas'; color:#718c00;">'level_2'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">, </span><span style=" font-family:'Consolas'; color:#718c00;">'level_3'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">))</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Вот что получается в результате.</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#eb4247;">Показываем содержимое директории</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Еще одна полезная команда — os.listdir(). Она показывает все содержимое каталога.<br /><br />Команда отличается от os.walk (), где последний рекурсивно показывает все, что находится «под» каталогом. os.listdir () намного проще в использовании, потому что просто возвращает список содержимого:<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">os.listdir(</span><span style=" font-family:'Consolas'; color:#718c00;">'sample_data'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"> </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />В некоторых случаях нужно что-то более продвинутое — например, поиск всех CSV-файлов в каталоге «sample_data». В этом случае самый простой способ — использовать встроенную библиотеку glob:<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; font-weight:600; color:#8959a8;">from</span><span style=" font-family:'Consolas'; color:#4d4d4c;"> glob </span><span style=" font-family:'Consolas'; font-weight:600; color:#8959a8;">import</span><span style=" font-family:'Consolas'; color:#4d4d4c;"> globlist(glob(os.path.join(</span><span style=" font-family:'Consolas'; color:#718c00;">'sample_data'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">, </span><span style=" font-family:'Consolas'; color:#718c00;">'*.csv'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">)))</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"> </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#eb4247;">Перемещение файлов</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Самое время попробовать переместить файлы из одной папки в другую. Рекомендованный способ — еще одна встроенная библиотека shutil.<br />Сейчас попробуем переместить все CSV-файлы из директории «sample_data» в директорию «test_dir». Ниже — пример кода для выполнения этой операции:<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; font-weight:600; color:#8959a8;">import</span><span style=" font-family:'Consolas'; color:#4d4d4c;"> shutilfor file </span><span style=" font-family:'Consolas'; font-weight:600; color:#8959a8;">in</span><span style=" font-family:'Consolas'; color:#4d4d4c;"> </span><span style=" font-family:'Consolas'; color:#f5871f;">list</span><span style=" font-family:'Consolas'; color:#4d4d4c;">(glob(os.path.join(</span><span style=" font-family:'Consolas'; color:#718c00;">'sample_data'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">, </span><span style=" font-family:'Consolas'; color:#718c00;">'*.csv'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">))):</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">    shutil.move(file, </span><span style=" font-family:'Consolas'; color:#718c00;">'test_dir'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"> </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br /><br />Кстати, есть два способа выполнить задуманное. Например, мы можем использовать библиотеку OS, если не хочется импортировать дополнительные библиотеки. Как os.rename, так и os.replace подходят для решения задачи.<br /><br />Но обе они недостаточно «умные», чтобы позволить перемесить файлы в каталог.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br /><br />Чтобы все это работало, нужно явно указать имя файла в месте назначения. Ниже — код, который это позволяет сделать:<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; font-weight:600; color:#8959a8;">for</span><span style=" font-family:'Consolas'; color:#4d4d4c;"> file </span><span style=" font-family:'Consolas'; font-weight:600; color:#8959a8;">in</span><span style=" font-family:'Consolas'; color:#4d4d4c;"> </span><span style=" font-family:'Consolas'; color:#f5871f;">list</span><span style=" font-family:'Consolas'; color:#4d4d4c;">(glob(os.path.join(</span><span style=" font-family:'Consolas'; color:#718c00;">'test_dir'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">, </span><span style=" font-family:'Consolas'; color:#718c00;">'*.csv'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">))):</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">    os.rename(</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">        file,</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">        os.path.join(</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">            </span><span style=" font-family:'Consolas'; color:#718c00;">'sample_data'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">,</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">            os.path.basename(file)</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">    ))</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"> </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br /><br />Здесь функция os.path.basename () предназначена для извлечения имени файла из пути с любым количеством компонентов.<br /><br />Другая функция, os.replace (), делает то же самое. Но разница в том, что os.replace () не зависит от платформы, тогда как os.rename () будет работать только в системе Unix / Linux.<br /><br />Еще один минус — в том, что обе функции не поддерживают перемещение файлов из разных файловых систем, в отличие от shutil.<br /><br />Поэтому я рекомендую использовать shutil.move () для перемещения файлов.<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#eb4247;">Копирование файлов</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Аналогичным образом shutil подходит и для копирования файлов по уже упомянутым причинам.<br /><br />Если нужно скопировать файл README.md из папки «sample_data» в папку «test_dir», поможет функция shutil.copy():<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">shutil.copy(</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">    os.path.join(</span><span style=" font-family:'Consolas'; color:#718c00;">'sample_data'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">, </span><span style=" font-family:'Consolas'; color:#718c00;">'README.md'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">),</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">    os.path.join(</span><span style=" font-family:'Consolas'; color:#718c00;">'test_dir'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"> </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"> </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#eb4247;">Удаление файлов и папок</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Теперь пришел черед разобраться с процедурой удаления файлов и папок. Нам здесь снова поможет библиотека OS.<br /><br />Когда нужно удалить файл, нужно воспользоваться командой os.remove():<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">os.remove(os.path.join(</span><span style=" font-family:'Consolas'; color:#718c00;">'test_dir'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">, </span><span style=" font-family:'Consolas'; color:#718c00;">'README(1).md'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">))</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Если требуется удалить каталог, на помощь приходит os.rmdir():<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">os.rmdir(os.path.join(</span><span style=" font-family:'Consolas'; color:#718c00;">'test_dir'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">, </span><span style=" font-family:'Consolas'; color:#718c00;">'level_1'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">, </span><span style=" font-family:'Consolas'; color:#718c00;">'level_2'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">, </span><span style=" font-family:'Consolas'; color:#718c00;">'level_3'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">))</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"> </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Однако он может удалить только пустой каталог. На приведенном выше скриншоте видим, что удалить можно лишь каталог level_3. Что если мы хотим рекурсивно удалить каталог level_1? В этом случае зовем на помощь shutil.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Функция shutil.rmtree() сделает все, что нужно:<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Consolas'; color:#4d4d4c;">shutil.rmtree(os.path.join(</span><span style=" font-family:'Consolas'; color:#718c00;">'test_dir'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">, </span><span style=" font-family:'Consolas'; color:#718c00;">'level_1'</span><span style=" font-family:'Consolas'; color:#4d4d4c;">))</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;"><br />Пользоваться ею нужно с осторожностью, поскольку она безвозвратно удаляет все содержимое каталога.<br /><br />Собственно, на этом все. 8 важных операций по работе с файлами и каталогами в среде Python мы знаем. Что касается ссылки, о которой говорилось в анонсе, то вот она — это Google Colab Network с </span><a href="https://colab.research.google.com/drive/104ryrhopuEbMRrV6mwfh_BZxUFisnod1?usp=sharing"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; text-decoration: underline; color:#548eaa;">содержимым, готовым к запуску</span></a><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#333333;">.<br /><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; font-weight:600; color:#333333;">Теги:</span><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#548eaa;"> </span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Symbol'; color:#548eaa;">·</span><span style=" font-family:'Times New Roman'; font-size:7pt; color:#548eaa;">         </span><a href="https://habr.com/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bpython%5D"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; text-decoration: underline; color:#548eaa;">python</span></a> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Symbol'; color:#548eaa;">·</span><span style=" font-family:'Times New Roman'; font-size:7pt; color:#548eaa;">         </span><a href="https://habr.com/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%82%D1%83%D1%82%D0%BE%D1%80%D0%B8%D0%B0%D0%BB%D1%8B%5D"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; text-decoration: underline; color:#548eaa;">туториалы</span></a> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Symbol'; color:#548eaa;">·</span><span style=" font-family:'Times New Roman'; font-size:7pt; color:#548eaa;">         </span><a href="https://habr.com/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B%5D"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; text-decoration: underline; color:#548eaa;">команды</span></a> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Symbol'; color:#548eaa;">·</span><span style=" font-family:'Times New Roman'; font-size:7pt; color:#548eaa;">         </span><a href="https://habr.com/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8%5D"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; text-decoration: underline; color:#548eaa;">функции</span></a> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; font-weight:600; color:#333333;">Хабы:</span><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; color:#548eaa;"> </span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Symbol'; color:#548eaa;">·</span><span style=" font-family:'Times New Roman'; font-size:7pt; color:#548eaa;">         </span><a href="https://habr.com/ru/companies/selectel/articles/"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; text-decoration: underline; color:#548eaa;">Блог компании Selectel</span></a> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Symbol'; color:#548eaa;">·</span><span style=" font-family:'Times New Roman'; font-size:7pt; color:#548eaa;">         </span><a href="https://habr.com/ru/hubs/python/"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; text-decoration: underline; color:#548eaa;">Python</span></a> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Symbol'; color:#548eaa;">·</span><span style=" font-family:'Times New Roman'; font-size:7pt; color:#548eaa;">         </span><a href="https://habr.com/ru/hubs/programming/"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; text-decoration: underline; color:#548eaa;">Программирование</span></a> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Symbol'; color:#548eaa;">·</span><span style=" font-family:'Times New Roman'; font-size:7pt; color:#548eaa;">         </span><a href="https://habr.com/ru/hubs/lifehacks/"><span style=" font-family:'Arial,sans-serif'; font-size:13.5pt; text-decoration: underline; color:#548eaa;">Лайфхаки для гиков</span></a> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  </p></body></html>