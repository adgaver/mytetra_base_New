<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2,serif'; font-weight:600;">Record using custom setup</span><a href="https://playwright.dev/docs/codegen#record-using-custom-setup"><span style=" font-family:'MS Shell Dlg 2,serif'; font-weight:600; text-decoration: underline; color:#000000;">​</span></a> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times New Roman,serif'; color:#1c1e21;">If you would like to use codegen in some non-standard setup (for example, use </span><a href="https://playwright.dev/docs/api/class-browsercontext#browser-context-route"><span style=" font-family:'Times New Roman,serif'; text-decoration: underline; color:#000000;">browserContext.route()</span></a><span style=" font-family:'Times New Roman,serif'; color:#1c1e21;">), it is possible to call </span><a href="https://playwright.dev/docs/api/class-page#page-pause"><span style=" font-family:'Times New Roman,serif'; text-decoration: underline; color:#000000;">page.pause()</span></a><span style=" font-family:'Times New Roman,serif'; color:#1c1e21;"> that will open a separate window with codegen controls.</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; color:#cf222e;">const</span><span style=" font-family:'Consolas'; color:#393a34;"> { chromium } </span><span style=" font-family:'Consolas'; color:#d73a49;">=</span><span style=" font-family:'Consolas'; color:#393a34;"> </span><span style=" font-family:'Consolas'; color:#8250df;">require</span><span style=" font-family:'Consolas'; color:#393a34;">(</span><span style=" font-family:'Consolas'; color:#c6105f;">'@playwright/test'</span><span style=" font-family:'Consolas'; color:#393a34;">);<br /><br />(</span><span style=" font-family:'Consolas'; color:#cf222e;">async</span><span style=" font-family:'Consolas'; color:#393a34;"> () </span><span style=" font-family:'Consolas'; color:#d73a49;">=&gt;</span><span style=" font-family:'Consolas'; color:#393a34;"> {<br /></span><span style=" font-family:'Consolas'; font-style:italic; color:#6b6b6b;">// Make sure to run headed.</span><span style=" font-family:'Consolas'; color:#393a34;"><br /></span><span style=" font-family:'Consolas'; color:#cf222e;">const</span><span style=" font-family:'Consolas'; color:#393a34;"> browser </span><span style=" font-family:'Consolas'; color:#d73a49;">=</span><span style=" font-family:'Consolas'; color:#393a34;"> </span><span style=" font-family:'Consolas'; color:#cf222e;">await</span><span style=" font-family:'Consolas'; color:#393a34;"> chromium.</span><span style=" font-family:'Consolas'; color:#8250df;">launch</span><span style=" font-family:'Consolas'; color:#393a34;">({ </span><span style=" font-family:'Consolas'; color:#005cc5;">headless</span><span style=" font-family:'Consolas'; color:#d73a49;">:</span><span style=" font-family:'Consolas'; color:#393a34;"> </span><span style=" font-family:'Consolas'; color:#005cc5;">false</span><span style=" font-family:'Consolas'; color:#393a34;"> });<br /><br /></span><span style=" font-family:'Consolas'; font-style:italic; color:#6b6b6b;">// Setup context however you like.</span><span style=" font-family:'Consolas'; color:#393a34;"><br /></span><span style=" font-family:'Consolas'; color:#cf222e;">const</span><span style=" font-family:'Consolas'; color:#393a34;"> context </span><span style=" font-family:'Consolas'; color:#d73a49;">=</span><span style=" font-family:'Consolas'; color:#393a34;"> </span><span style=" font-family:'Consolas'; color:#cf222e;">await</span><span style=" font-family:'Consolas'; color:#393a34;"> browser.</span><span style=" font-family:'Consolas'; color:#8250df;">newContext</span><span style=" font-family:'Consolas'; color:#393a34;">({ </span><span style=" font-family:'Consolas'; font-style:italic; color:#6b6b6b;">/* pass any options */</span><span style=" font-family:'Consolas'; color:#393a34;"> });<br /></span><span style=" font-family:'Consolas'; color:#cf222e;">await</span><span style=" font-family:'Consolas'; color:#393a34;"> context.</span><span style=" font-family:'Consolas'; color:#8250df;">route</span><span style=" font-family:'Consolas'; color:#393a34;">(</span><span style=" font-family:'Consolas'; color:#c6105f;">'**/*'</span><span style=" font-family:'Consolas'; color:#393a34;">, </span><span style=" font-family:'Consolas'; color:#953800;">route</span><span style=" font-family:'Consolas'; color:#393a34;"> </span><span style=" font-family:'Consolas'; color:#d73a49;">=&gt;</span><span style=" font-family:'Consolas'; color:#393a34;"> route.</span><span style=" font-family:'Consolas'; color:#cf222e;">continue</span><span style=" font-family:'Consolas'; color:#393a34;">());<br /><br /></span><span style=" font-family:'Consolas'; font-style:italic; color:#6b6b6b;">// Pause the page, and start recording manually.</span><span style=" font-family:'Consolas'; color:#393a34;"><br /></span><span style=" font-family:'Consolas'; color:#cf222e;">const</span><span style=" font-family:'Consolas'; color:#393a34;"> page </span><span style=" font-family:'Consolas'; color:#d73a49;">=</span><span style=" font-family:'Consolas'; color:#393a34;"> </span><span style=" font-family:'Consolas'; color:#cf222e;">await</span><span style=" font-family:'Consolas'; color:#393a34;"> context.</span><span style=" font-family:'Consolas'; color:#8250df;">newPage</span><span style=" font-family:'Consolas'; color:#393a34;">();<br /></span><span style=" font-family:'Consolas'; color:#cf222e;">await</span><span style=" font-family:'Consolas'; color:#393a34;"> page.</span><span style=" font-family:'Consolas'; color:#8250df;">pause</span><span style=" font-family:'Consolas'; color:#393a34;">();<br />})();</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2,serif';"> </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2,serif';"> </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="record-using-custom-setup"></a><span style=" font-family:'MS Shell Dlg 2,serif'; font-weight:600;">З</span><span style=" font-family:'MS Shell Dlg 2,serif'; font-weight:600;">апись с использованием индивидуальной </span><a href="https://playwright.dev/docs/codegen#record-using-custom-setup"><span style=" font-family:'MS Shell Dlg 2,serif'; font-weight:600; text-decoration: underline; color:#000000;">настройки</span></a> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times New Roman,serif'; color:#1c1e21;">Если вы хотите использовать кодогенерацию в какой-то нестандартной настройке (например, использовать </span><a href="https://playwright.dev/docs/api/class-browsercontext#browser-context-route"><span style=" font-family:'Times New Roman,serif'; text-decoration: underline; color:#000000;">браузерContext.route()</span></a><span style=" font-family:'Times New Roman,serif'; color:#1c1e21;"> ), можно вызвать </span><a href="https://playwright.dev/docs/api/class-page#page-pause"><span style=" font-family:'Times New Roman,serif'; text-decoration: underline; color:#000000;">page.pause()</span></a><span style=" font-family:'Times New Roman,serif'; color:#1c1e21;"> , которая откроет отдельное окно с элементами управления кодогенерацией.</span> </p></body></html>