<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:xx-large; color:#000000; background-color:#ffffff;">Как обрабатывать загрузку и скачивание файлов с помощью Playwright?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">Playwright предоставляет API для обработки загрузки и скачивания файлов как на Python, так и на JavaScript.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">Вот как это можно сделать на обоих языках:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:600; color:#555a64;">Питон:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">Обработка загрузки файлов:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">Вы можете использовать этот </span><span style=" font-family:'SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace'; font-weight:448; color:#555a64;">set_input_files()</span><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">метод для загрузки файлов.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-weight:496; color:#ffffff; background-color:#2568ef;">Копировать</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#708090;"># Import necessary packages</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">from</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> playwright</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">sync_api </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">import</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> sync_playwright</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#708090;"># Open a new browser instance</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">with</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> sync_playwright</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">()</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">as</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> p</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    browser </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> p</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">chromium</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">launch</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    page </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> browser</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">new_page</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#708090;"># Navigate to the file upload page</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    page</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">goto</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">(</span><span style=" font-family:'Consolas'; font-weight:448; color:#669900;">'https://your-website.com/upload'</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#708090;"># Upload the file</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    page</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">set_input_files</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">(</span><span style=" font-family:'Consolas'; font-weight:448; color:#669900;">'input[type=&quot;file&quot;]'</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">,</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#669900;">'path/to/your/file'</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#708090;"># Close the browser</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    browser</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">close</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">()</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64; background-color:#eff0f1;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-size:10px; font-weight:448; color:#555a64;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">Обработка загрузки файлов:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">Playwright упрощает обработку загрузок файлов с помощью </span><span style=" font-family:'SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace'; font-weight:448; color:#555a64;">page.on(&quot;download&quot;)</span><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">метода и </span><span style=" font-family:'SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace'; font-weight:448; color:#555a64;">download.path()</span><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">метода.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-weight:496; color:#ffffff; background-color:#2568ef;">Копировать</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#708090;"># Import necessary packages</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">from</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> playwright</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">sync_api </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">import</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> sync_playwright</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#708090;"># Open a new browser instance</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">with</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> sync_playwright</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">()</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">as</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> p</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    browser </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> p</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">chromium</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">launch</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    page </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> browser</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">new_page</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#708090;"># Navigate to the download page</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    page</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">goto</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">(</span><span style=" font-family:'Consolas'; font-weight:448; color:#669900;">'https://your-website.com/download'</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#708090;"># Set up download listener</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    download_promise </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> page</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">expect_download</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#708090;"># Perform download action</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    page</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">click</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">(</span><span style=" font-family:'Consolas'; font-weight:448; color:#669900;">'a#download'</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#708090;"># Get download object</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    download </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> download_promise</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">result</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#708090;"># Get downloaded file path</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    path </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> download</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">path</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#708090;"># Close the browser</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    browser</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">close</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">()</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64; background-color:#eff0f1;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-size:10px; font-weight:448; color:#555a64;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:600; color:#555a64;">JavaScript:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">Обработка загрузки файлов:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">Для обработки загрузки файлов в JavaScript вы можете использовать этот </span><span style=" font-family:'SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace'; font-weight:448; color:#555a64;">setInputFiles()</span><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">метод.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-weight:496; color:#ffffff; background-color:#2568ef;">Копировать</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">const</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">{</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> chromium </span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">}</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#dd4a68;">require</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">(</span><span style=" font-family:'Consolas'; font-weight:448; color:#669900;">'playwright'</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">(</span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">async</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">()</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=&gt;</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">const</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> browser </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">await</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> chromium</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#dd4a68;">launch</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">const</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> page </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">await</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> browser</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#dd4a68;">newPage</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">await</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> page</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#dd4a68;">goto</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">(</span><span style=" font-family:'Consolas'; font-weight:448; color:#669900;">'https://your-website.com/upload'</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#708090;">// Upload the file</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">await</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> page</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#dd4a68;">setInputFiles</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">(</span><span style=" font-family:'Consolas'; font-weight:448; color:#669900;">'input[type=&quot;file&quot;]'</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">,</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#669900;">'/path/to/your/file'</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">await</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> browser</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#dd4a68;">close</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">})();</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64; background-color:#eff0f1;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-size:10px; font-weight:448; color:#555a64;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">Обработка загрузки файлов:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">Playwright предоставляет </span><span style=" font-family:'SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace'; font-weight:448; color:#555a64;">page.on('download')</span><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">событие для обработки загрузки файлов в JavaScript.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-weight:496; color:#ffffff; background-color:#2568ef;">Копировать</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">const</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">{</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> chromium </span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">}</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#dd4a68;">require</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">(</span><span style=" font-family:'Consolas'; font-weight:448; color:#669900;">'playwright'</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">(</span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">async</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">()</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=&gt;</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">const</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> browser </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">await</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> chromium</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#dd4a68;">launch</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">const</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> page </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">await</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> browser</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#dd4a68;">newPage</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">await</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> page</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#dd4a68;">goto</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">(</span><span style=" font-family:'Consolas'; font-weight:448; color:#669900;">'https://your-website.com/download'</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#708090;">// Set up download listener</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">const</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">[</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;">download</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">]</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">await</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> Promise</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#dd4a68;">all</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">([</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">        page</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#dd4a68;">waitForEvent</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">(</span><span style=" font-family:'Consolas'; font-weight:448; color:#669900;">'download'</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">),</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">        page</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#dd4a68;">click</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">(</span><span style=" font-family:'Consolas'; font-weight:448; color:#669900;">'a#download'</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">]);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#708090;">// Get downloaded file path</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">const</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> path </span><span style=" font-family:'Consolas'; font-weight:448; color:#9a6e3a;">=</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">await</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> download</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#dd4a68;">path</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#555a64; background-color:#eff0f1;">    </span><span style=" font-family:'Consolas'; font-weight:448; color:#0077aa;">await</span><span style=" font-family:'Consolas'; font-weight:448; color:#555a64;"> browser</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">.</span><span style=" font-family:'Consolas'; font-weight:448; color:#dd4a68;">close</span><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-weight:448; color:#999999;">})();</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64; background-color:#eff0f1;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-size:10px; font-weight:448; color:#555a64;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'system-ui,-apple-system,system-ui,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif'; font-weight:448; color:#555a64;">Примечание. Убедитесь, что путь к файлу для загрузки или скачивания правильный, в противном случае могут возникнуть ошибки.</span></p></body></html>