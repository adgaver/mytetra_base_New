<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica,sans-serif'; font-size:24pt; font-weight:600; color:#333333;">Удаление файла — пошаговое руководство</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a href="https://pythonist.ru/category/modules/"><span style=" font-family:'Segoe UI,sans-serif'; font-size:9pt; font-weight:600; text-decoration: underline; color:#03c4eb; text-transform:uppercase;">МОДУЛИ</span></a><span style=" font-family:'Segoe UI,sans-serif'; font-size:9pt; font-weight:600; color:#777777; text-transform:uppercase;">, </span><a href="https://pythonist.ru/category/voprosy-s-sobesedovaniya-python/funkczii/"><span style=" font-family:'Segoe UI,sans-serif'; font-size:9pt; font-weight:600; text-decoration: underline; color:#03c4eb; text-transform:uppercase;">ФУНКЦИИ</span></a> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Спектр применения различных файлов огромен. Именно поэтому умение их удалять — важный навык. С помощью Python вы можете удалить любой файл на компьютере.</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Допустим, вы пишете программу, которая анализирует статистику </span><a href="https://ru.wikipedia.org/wiki/S%26P_500"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; text-decoration: underline; color:#03c4eb;">фондового индекса S&amp;P 500</span></a><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> и записывает ее в файл. Возможно, вы хотите удалить уже существующий файл, чтобы освободить место для нового. </span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Метод </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.remove()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> позволит вам удалить файл, а метод </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.rmdir()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> — пустую папку. Если нужно удалить папку вместе с файлами внутри, можно воспользоваться методом </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">shutil.rmtree()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">. </span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">В этом руководстве мы научимся удалять файлы с помощью вышеуказанных методов, а также рассмотрим примеры их использования.</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica,sans-serif'; font-size:18pt; font-weight:600; color:#333333;">Руководство по удалению файлов</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Как уже было сказано, в Python есть несколько методов для удаления файлов — </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.remove()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">, </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.rmdir()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> и </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">shutil.rmtree()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">. Предназначены они для удаления файлов, директорий и папок с файлами внутри соответственно.</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica,sans-serif'; font-size:13.5pt; font-weight:600; color:#333333;">Как удалить файл с помощью метода os.remove()</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Метод </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.remove()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> используется для удаления </span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; font-style:italic; color:#777777;">файлов</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> с жесткого диска. Важно: с его помощью нельзя удалить папку, только файл. </span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Модуль </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> позволяет разработчикам работать с операционной и файловой системой компьютера. </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.remove</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> — метод для удаления отдельных файлов, встроенный в модуль </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">. </span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Начать работу с этим методом просто — нужно импортировать модуль </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> с помощью оператора </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">import</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">.</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#286491;">import</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;"> os</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Теперь мы готовы удалять файлы с помощью метода </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.remove()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">. Рассмотрим синтаксис этого метода: </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#286491;">import</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;"> os</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">os.</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#0086b3;">remove</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">(</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">путь_к_файлу</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Метод </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.remove()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> принимает один параметр — путь к файлу, который мы хотим удалить. </span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Допустим, мы пишем программу, которая анализирует оценки учеников математического класса в течение года. </span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Наши данные мы будем хранить в файле /home/school/math/final_analysis.csv. Но создавать файл сразу нельзя: возможно, он уже существует.</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Чтобы удалить этот файл, можно написать следующую программу:</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#286491;">import</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;"> os</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">path = </span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#dd1144;">&quot;/home/school/math/final_analysis.csv&quot;</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">os.</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#0086b3;">remove</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">(</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">path</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#0086b3;">print</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">(</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#dd1144;">&quot;final_analysis.csv удален.&quot;</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">)</span> </p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Файл удален. Также мы вывели сообщение с помощью оператора </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">print()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">:</span> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e9e9e9;"><span style=" font-family:'Consolas'; color:#292b2c;">final_analysis.csv удален.</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">В первой строке программы мы импортируем модуль </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">. В нем содержится метод </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.remove()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">, который мы использовали в нашей программе. Затем мы объявляем переменную </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">path</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">. Эта переменная хранит себе путь к файлу, который мы хотим удалить. </span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Затем мы вызываем </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.remove()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> и передаем в качестве аргумента </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">path</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">. После этого происходит удаление файла.</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica,sans-serif'; font-size:13.5pt; font-weight:600; color:#333333;">Удаление пустой директории с помощью os.rmdir()</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Метод </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.remove()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> не позволяет удалить папку. В этом вам поможет метод </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.rmdir()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">, который используется для удаления </span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; font-style:italic; color:#777777;">пустых</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> файлов и директорий. </span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Метод </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.rmdir()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> принимает лишь один параметр — путь к папке, которую вы хотите удалить. Синтаксис этого метода выглядит так: </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#286491;">import</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;"> os</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">os.</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#0086b3;">rmdir</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">(</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">file_path</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Допустим, мы решили хранить наши обработанные данные внутри папки </span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; font-style:italic; color:#777777;">final</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">, которая находится внутри /home/school/math directory. После запуска программы мы эту папку удаляем, ведь создаем точно такую же новую. Для удаления папки </span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; font-style:italic; color:#777777;">final</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> можно написать следующую программу:</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#286491;">import</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;"> os</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">path = </span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#dd1144;">&quot;/home/school/math/final&quot;</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">os.</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#0086b3;">rmdir</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">(</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">path</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#0086b3;">print</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">(</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#dd1144;">&quot;/home/school/math/final удалена.&quot;</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Наша программа удаляет директорию /home/school/math/final и печатает в консоль следующее:</span> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e9e9e9;"><span style=" font-family:'Consolas'; color:#292b2c;">/home/school/math/final удалена.</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Метод </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.rmdir()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> используется для удаления только </span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; font-style:italic; color:#777777;">пустых</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> директорий. Если внутри папки будут содержаться файлы, программа вернет ошибку: </span> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e9e9e9;"><span style=" font-family:'Consolas'; color:#292b2c;">[Errno 13] Permission denied: '/home/school/math/final' Directory 'final' can not be removed</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Допустим, вы пишете программу для удаления файлов. Вам может понадобиться функция, корректно обрабатывающая ошибки в случае их возникновения. В этом случае вам поможет блок </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">try except</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">.</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">В примерах выше мы видели, что в некоторых случаях может быть возвращена ошибка (например, если методу не хватает прав для удаления объекта). Если мы используем </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.remove()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> для удаления директории — программа вернет ошибку. И если мы используем </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.rmdir()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> для удаления папки, содержащей файлы, тоже будет возвращена ошибка.</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Когда вы пишете программу, удаляющую файлы, вам может понадобиться функция, которая обрабатывает ошибки. Здесь вам пригодится блок </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">except</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">: </span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">В примере вы видите использование того же метода </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.rmdir()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">, но с механизмом обработки ошибок. В случае возникновения ошибки этот механизм выводит заранее определенное сообщение.</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#286491;">import</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;"> os</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">path = </span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#dd1144;">&quot;/home/school/math/final&quot;</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#286491;">try</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">:</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">os.</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#0086b3;">rmdir</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">(</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">path</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#0086b3;">print</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">(</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#dd1144;">&quot;/home/school/math/final удален.&quot;</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#286491;">except</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;"> OSError </span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#286491;">as</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;"> error:</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#0086b3;">print</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">(</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#dd1144;">&quot;Возникла ошибка.&quot;</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Если мы запустим этот код и ошибок не возникнет, то папка будет удалена и в консоль выведется следующее: </span> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e9e9e9;"><span style=" font-family:'Consolas'; color:#292b2c;">/home/school/math/final удален.</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Но если попытаться удалить тем же способом папку, содержащую файлы, программа выведет в консоль следующее сообщение:</span> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e9e9e9;"><span style=" font-family:'Consolas'; color:#292b2c;">Возникла ошибка.</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">В нашей программе мы использовали блок </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">except</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">. Выполнение начинается с проверки блока </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">try</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">. Если возникает ошибка — выполняется код внутри блока </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">except</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">. То есть, этот блок выполняется при возникновении ошибки OSError. </span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica,sans-serif'; font-size:13.5pt; font-weight:600; color:#333333;">Удаление папки с файлами с помощью shutil.rmtree()</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">В библиотеке </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">shutil</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> есть метод </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">shutil.rmtree()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">. Он используется для удаления папок, содержащих файлы. </span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Вообще эта библиотека предлагает сразу несколько методов, позволяющих проводить манипуляции с файловой системой. Но сейчас мы поговорим о </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">shutil.rmtree()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">, с помощью которого можно удалить папку вместе с содержащимися в ней файлами. </span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Синтаксис метода </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">shutil.rmtree()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> выглядит так:</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#286491;">import</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;"> shutil</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">shutil.</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#0086b3;">rmtree</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">(</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">file_path</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Обратите внимание — мы импортируем модуль </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">shutil</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">. Как и </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">os.remove()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">, метод </span><span style=" font-family:'Consolas'; color:#bd4147; background-color:#e9e9e9;">shutil.rmtree()</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> является частью внешнего модуля — именно поэтому мы проводим импорт.</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Чтобы лучше понять метод, рассмотрим пример. Допустим, что программа для анализа оценок должна удалить директорию </span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; font-style:italic; color:#777777;">final</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">. Но в ней уже хранятся файлы. Для удаления этой директории и всех файлов в ней мы можем написать следующую программу: </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#286491;">import</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;"> shutil</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">path = </span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#dd1144;">&quot;/home/school/math/final&quot;</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">shutil.</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#0086b3;">rmtree</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">(</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#2f3235;">path</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#0086b3;">print</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">(</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#dd1144;">&quot;/home/school/math/final удалена.&quot;</span><span style=" font-family:'inherit,serif'; font-size:11.5pt; font-weight:600; color:#777777;">)</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;">Наша программа удаляет папку </span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; font-style:italic; color:#777777;">final</span><span style=" font-family:'Segoe UI,sans-serif'; font-size:12pt; color:#777777;"> и все ее содержимое. После этого в консоль выводится следующее сообщение:</span> </p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e9e9e9;"><span style=" font-family:'Consolas'; color:#292b2c;">/home/school/math/final удалена.</span> </p></body></html>