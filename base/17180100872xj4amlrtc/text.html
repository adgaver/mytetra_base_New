<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:medium; color:#000000;">Моя шпаргалка по pandas</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:medium; color:#000000;">8 мин599K</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:medium; color:#000000;">Блог компании RUVDS.comВеб-разработка*Python*</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">Перевод</span></p>
<p style=" margin-top:0px; margin-bottom:16px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://towardsdatascience.com/my-python-pandas-cheat-sheet-746b11e44368"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-weight:496; color:#000000; background-color:transparent;">Автор оригинала: Chris</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:medium; color:#000000;">Один преподаватель как-то сказал мне, что если поискать аналог программиста в мире книг, то окажется, что программисты похожи не на учебники, а на оглавления учебников: они не помнят всего, но знают, как быстро найти то, что им нужно.<br /><br />Возможность быстро находить описания функций позволяет программистам продуктивно работать, не теряя состояния потока. Поэтому я и создал представленную здесь шпаргалку по pandas и включил в неё то, чем пользуюсь каждый день, создавая веб-приложения и модели машинного обучения.<br /><br /><br /><br />Нельзя сказать, что это — исчерпывающий список возможностей pandas, но сюда входят функции, которыми я пользуюсь чаще всего, примеры и мои пояснения по поводу ситуаций, в которых эти функции особенно полезны.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:medium; color:#000000;">1. Подготовка к работе</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Если вы хотите самостоятельно опробовать то, о чём тут пойдёт речь, загрузите набор данных </span><a href="https://www.kaggle.com/CooperUnion/anime-recommendations-database"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000; background-color:transparent;">Anime Recommendations Database</span></a><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> с Kaggle. Распакуйте его и поместите в ту же папку, где находится ваш Jupyter Notebook (далее — блокнот).<br /><br />Теперь выполните следующие команды.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; font-weight:600; color:#8959a8;">import</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">pandas</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; font-weight:600; color:#8959a8;">as</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">pd</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'Consolas'; font-size:medium; font-weight:600; color:#8959a8;">import</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">numpy</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; font-weight:600; color:#8959a8;">as</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">np</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">pd</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">read_csv</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'anime-recommendations-database/anime.csv'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">rating</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">pd</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">read_csv</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'anime-recommendations-database/rating.csv'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime_modified</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">set_index</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'name'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />После этого у вас должна появиться возможность воспроизвести то, что я покажу в следующих разделах этого материала.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:x-large; font-weight:496; color:#3ac1ef;">2. Импорт данных</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Загрузка CSV-данных</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Здесь я хочу рассказать о преобразовании CSV-данных непосредственно в датафреймы (в объекты Dataframe). Иногда при загрузке данных формата CSV нужно указывать их кодировку (например, это может выглядеть как </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">encoding='ISO-8859–1'</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">). Это — первое, что стоит попробовать сделать в том случае, если оказывается, что после загрузки данных датафрейм содержит нечитаемые символы.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">pd</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">read_csv</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'anime-recommendations-database/anime.csv'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Загруженные CSV-данные</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br />Существует похожая функция для загрузки данных из Excel-файлов — </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">pd.read_excel</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Создание датафрейма из данных, введённых вручную</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Это может пригодиться тогда, когда нужно вручную ввести в программу простые данные. Например — если нужно оценить изменения, претерпеваемые данными, проходящими через конвейер обработки данных.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">pd</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">DataFrame</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">([[</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">1</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">,</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'Bob'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'Builder'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">],<br />                  [</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">2</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">,</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'Sally'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'Baker'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">],<br />                  [</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">3</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">,</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'Scott'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'Candle Stick Maker'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">]], <br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">columns</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'id'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">,</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'name'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'occupation'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">])<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Данные, введённые вручную</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Копирование датафрейма</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Копирование датафреймов может пригодиться в ситуациях, когда требуется внести в данные изменения, но при этом надо и сохранить оригинал. Если датафреймы нужно копировать, то рекомендуется делать это сразу после их загрузки.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime_copy</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">copy</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">deep</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; font-weight:600; color:#8959a8;">True</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Копия датафрейма</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:x-large; font-weight:496; color:#3ac1ef;">3. Экспорт данных</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Экспорт в формат CSV</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />При экспорте данных они сохраняются в той же папке, где находится блокнот. Ниже показан пример сохранения первых 10 строк датафрейма, но то, что именно сохранять, зависит от конкретной задачи.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">rating</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[:</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">10</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">].</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">to_csv</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'saved_ratings.csv'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">index</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; font-weight:600; color:#8959a8;">False</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Экспортировать данные в виде Excel-файлов можно с помощью функции </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">df.to_excel</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:x-large; font-weight:496; color:#3ac1ef;">4. Просмотр и исследование данных</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Получение n записей из начала или конца датафрейма</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Сначала поговорим о выводе первых </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">n</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> элементов датафрейма. Я часто вывожу некоторое количество элементов из начала датафрейма где-нибудь в блокноте. Это позволяет мне удобно обращаться к этим данным в том случае, если я забуду о том, что именно находится в датафрейме. Похожую роль играет и вывод нескольких последних элементов.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">head</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">3</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">rating</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">tail</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">1</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Данные из начала датафрейма</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Данные из конца датафрейма</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Подсчёт количества строк в датафрейме</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Функция </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">len(),</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> которую я тут покажу, не входит в состав </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">pandas</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">. Но она хорошо подходит для подсчёта количества строк датафреймов. Результаты её работы можно сохранить в переменной и воспользоваться ими там, где они нужны.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">len</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#8e908c;">#=&gt; 3</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"><br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Подсчёт количества уникальных значений в столбце</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Для подсчёта количества уникальных значений в столбце можно воспользоваться такой конструкцией:<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">len</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">ratings</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'user_id'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">].</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">unique</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">())<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Получение сведений о датафрейме</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />В сведения о датафрейме входит общая информация о нём вроде заголовка, количества значений, типов данных столбцов.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">info</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">()<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Сведения о датафрейме</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br />Есть ещё одна функция, похожая на </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">df.info</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> — </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">df.dtypes</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">. Она лишь выводит сведения о типах данных столбцов.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Вывод статистических сведений о датафрейме</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Знание статистических сведений о датафрейме весьма полезно в ситуациях, когда он содержит множество числовых значений. Например, знание среднего, минимального и максимального значений столбца </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">rating</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> даёт нам некоторое понимание того, как, в целом, выглядит датафрейм. Вот соответствующая команда:<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">describe</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">()<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Статистические сведения о датафрейме</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Подсчёт количества значений</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Для того чтобы подсчитать количество значений в конкретном столбце, можно воспользоваться следующей конструкцией:<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">type</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">value_counts</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">()<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Подсчёт количества элементов в столбце</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:x-large; font-weight:496; color:#3ac1ef;">5. Извлечение информации из датафреймов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Создание списка или объекта Series на основе значений столбца</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Это может пригодиться в тех случаях, когда требуется извлекать значения столбцов в переменные </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">x</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> и </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">y</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> для обучения модели. Здесь применимы следующие команды:<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'genre'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">].</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">tolist</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">()<br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'genre'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">]<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты работы команды anime['genre'].tolist()</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты работы команды anime['genre']</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Получение списка значений из индекса</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Поговорим о получении списков значений из индекса. Обратите внимание на то, что я здесь использовал датафрейм </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">anime_modified</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">, так как его индексные значения выглядят интереснее.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime_modified</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">index</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">tolist</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">()<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Получение списка значений столбцов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Вот команда, которая позволяет получить список значений столбцов:<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">columns</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">tolist</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">()<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:x-large; font-weight:496; color:#3ac1ef;">6. Добавление данных в датафрейм и удаление их из него</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Присоединение к датафрейму нового столбца с заданным значением</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Иногда мне приходится добавлять в датафреймы новые столбцы. Например — в случаях, когда у меня есть тестовый и обучающий наборы в двух разных датафреймах, и мне, прежде чем их скомбинировать, нужно пометить их так, чтобы потом их можно было бы различить. Для этого используется такая конструкция:<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'train set'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">] </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; font-weight:600; color:#8959a8;">True</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"><br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Создание нового датафрейма из подмножества столбцов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Это может пригодиться в том случае, если требуется сохранить в новом датафрейме несколько столбцов огромного датафрейма, но при этом не хочется выписывать имена столбцов, которые нужно удалить.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[[</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'name'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">,</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'episodes'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">]]<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результат выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Удаление заданных столбцов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Этот приём может оказаться полезным в том случае, если из датафрейма нужно удалить лишь несколько столбцов. Если удалять нужно много столбцов, то эта задача может оказаться довольно-таки утомительной, поэтому тут я предпочитаю пользоваться возможностью, описанной в предыдущем разделе.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">drop</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">([</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'anime_id'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'genre'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'members'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">], </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">axis</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">1</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">).</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">head</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">()<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Добавление в датафрейм строки с суммой значений из других строк</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Для демонстрации этого примера самостоятельно создадим небольшой датафрейм, с которым удобно работать. Самое интересное здесь — это конструкция </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">df.sum(axis=0)</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">, которая позволяет получать суммы значений из различных строк. <br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">pd</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">DataFrame</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">([[</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">1</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">,</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'Bob'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">8000</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">],<br />                  [</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">2</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">,</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'Sally'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">9000</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">],<br />                  [</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">3</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">,</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'Scott'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">20</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">]], </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">columns</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'id'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">,</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'name'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'power level'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">])<br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">append</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">sum</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">axis</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">0</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">), </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">ignore_index</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; font-weight:600; color:#8959a8;">True</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результат выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br />Команда вида </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">df.sum(axis=1)</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> позволяет суммировать значения в столбцах.<br /><br />Похожий механизм применим и для расчёта средних значений. Например — </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">df.mean(axis=0)</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:x-large; font-weight:496; color:#3ac1ef;">7. Комбинирование датафреймов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Конкатенация двух датафреймов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Эта методика применима в ситуациях, когда имеются два датафрейма с одинаковыми столбцами, которые нужно скомбинировать.<br /><br />В данном примере мы сначала разделяем датафрейм на две части, а потом снова объединяем эти части:<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">df1</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">0</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">:</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">2</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">]<br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">df2</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">2</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">:</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">4</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">]<br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">pd</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">concat</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">([</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">df1</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">df2</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">], </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">ignore_index</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; font-weight:600; color:#8959a8;">True</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Датафрейм df1</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Датафрейм df2</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Датафрейм, объединяющий df1 и df2</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Слияние датафреймов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Функция </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">df.merge</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">, которую мы тут рассмотрим, похожа на левое соединение SQL. Она применяется тогда, когда два датафрейма нужно объединить по некоему столбцу.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">rating</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">merge</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">left_on</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">’anime_id’</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">right_on</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">’anime_id’</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">suffixes</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">‘_left’</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">‘_right’</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">))<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:x-large; font-weight:496; color:#3ac1ef;">8. Фильтрация</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Получение строк с нужными индексными значениями</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Индексными значениями датафрейма </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">anime_modified</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> являются названия аниме. Обратите внимание на то, как мы используем эти названия для выбора конкретных столбцов.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime_modified</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">loc</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[[</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'Haikyuu!! Second Season'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">,</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'Gintama'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">]]<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Получение строк по числовым индексам</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Эта методика отличается от той, которая описана в предыдущем разделе. При использовании функции </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">df.iloc</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> первой строке назначается индекс </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">0</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">, второй — индекс </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">1</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">, и так далее. Такие индексы назначаются строкам даже в том случае, если датафрейм был модифицирован и в его индексном столбце используются строковые значения.<br /><br />Следующая конструкция позволяет выбрать три первых строки датафрейма:<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime_modified</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">iloc</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">0</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">:</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">3</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">]<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Получение строк по заданным значениям столбцов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Для получения строк датафрейма в ситуации, когда имеется список значений столбцов, можно воспользоваться следующей командой:<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'type'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">].</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">isin</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">([</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'TV'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'Movie'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">])]<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br />Если нас интересует единственное значение — можно воспользоваться такой конструкцией:<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">‘type’</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">] </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">==</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'TV'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">]<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Получение среза датафрейма</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Эта техника напоминает получение среза списка. А именно, речь идёт о получении фрагмента датафрейма, содержащего строки, соответствующие заданной конфигурации индексов.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">1</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">:</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">3</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">]<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Фильтрация по значению</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Из датафреймов можно выбирать строки, соответствующие заданному условию. Обратите внимание на то, что при использовании этого метода сохраняются существующие индексные значения.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'rating'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">] </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">&gt;</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">8</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">]<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:x-large; font-weight:496; color:#3ac1ef;">9. Сортировка</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Для сортировки датафреймов по значениям столбцов можно воспользоваться функцией </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">df.sort_values</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">:<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">sort_values</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'rating'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">ascending</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; font-weight:600; color:#8959a8;">False</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:x-large; font-weight:496; color:#3ac1ef;">10. Агрегирование</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Функция df.groupby и подсчёт количества записей</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Вот как подсчитать количество записей с различными значениями в столбцах:<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">groupby</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'type'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">).</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">count</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">()<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Функция df.groupby и агрегирование столбцов различными способами</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Обратите внимание на то, что здесь используется </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">reset_index()</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">. В противном случае столбец </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">type</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> становится индексным столбцом. В большинстве случаев я рекомендую делать то же самое.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">groupby</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">([</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">&quot;type&quot;</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">]).</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">agg</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">({<br />  </span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">&quot;rating&quot;</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">: </span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">&quot;sum&quot;</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">,<br />  </span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">&quot;episodes&quot;</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">: </span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">&quot;count&quot;</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">,<br />  </span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">&quot;name&quot;</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">: </span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">&quot;last&quot;</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"><br />}).</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">reset_index</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">()<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Создание сводной таблицы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Для того чтобы извлечь из датафрейма некие данные, нет ничего лучше, чем сводная таблица. Обратите внимание на то, что здесь я серьёзно отфильтровал датафрейм, что ускорило создание сводной таблицы.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">tmp_df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">rating</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">copy</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">()<br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">tmp_df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">sort_values</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'user_id'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">ascending</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; font-weight:600; color:#8959a8;">True</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">inplace</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; font-weight:600; color:#8959a8;">True</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">tmp_df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">tmp_df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">tmp_df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">user_id</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">&lt;</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">10</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">] <br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">tmp_df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">tmp_df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">tmp_df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">anime_id</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">&lt;</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">30</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">]<br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">tmp_df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">tmp_df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">tmp_df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">rating</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">!=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">-</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">1</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">]<br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">pd</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">pivot_table</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">tmp_df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">values</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'rating'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">index</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'user_id'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">], </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">columns</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'anime_id'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">], </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">aggfunc</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">np</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">sum</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">fill_value</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">0</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:x-large; font-weight:496; color:#3ac1ef;">11. Очистка данных</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Запись в ячейки, содержащие значение NaN, какого-то другого значения</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Здесь мы поговорим о записи значения </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">0</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> в ячейки, содержащие значение </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">NaN</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">. В этом примере мы создаём такую же сводную таблицу, как и ранее, но без использования </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">fill_value=0</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">. А затем используем функцию </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">fillna(0)</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> для замены значений </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">NaN</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> на </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">0</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">pivot</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">pd</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">pivot_table</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">tmp_df</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">values</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'rating'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">index</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'user_id'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">], </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">columns</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[</span><span style=" font-family:'Consolas'; font-size:medium; color:#718c00;">'anime_id'</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">], </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">aggfunc</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">np</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">sum</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">pivot</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">fillna</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">0</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Таблица, содержащая значения NaN</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты замены значений NaN на 0</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:x-large; font-weight:496; color:#3ac1ef;">12. Другие полезные возможности</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Отбор случайных образцов из набора данных</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Я использую функцию </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">df.sample</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> каждый раз, когда мне нужно получить небольшой случайный набор строк из большого датафрейма. Если используется параметр </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">frac=1</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">, то функция позволяет получить аналог исходного датафрейма, строки которого будут перемешаны.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">sample</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">frac</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">=</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">0.25</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Перебор строк датафрейма</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Следующая конструкция позволяет перебирать строки датафрейма:<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; font-weight:600; color:#8959a8;">for</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">idx</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">,</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">row</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; font-weight:600; color:#8959a8;">in</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">anime</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">[:</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">2</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">].</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">iterrows</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">():<br />    </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">print</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">(</span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">idx</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">, </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">row</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">)<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-style:italic; color:#999999;">Результаты выполнения команды</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#3ac1ef;">▍Борьба с ошибкой IOPub data rate exceeded</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Если вы сталкиваетесь с ошибкой </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">IOPub data rate exceeded</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> — попробуйте, при запуске Jupyter Notebook, воспользоваться следующей командой:<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">jupyter</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">notebook</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">—</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"> </span><span style=" font-family:'Consolas'; font-size:medium; color:#4271ae;">NotebookApp</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;">.</span><span style=" font-family:'Consolas'; font-size:medium; color:#4d4d4c;">iopub_data_rate_limit=</span><span style=" font-family:'Consolas'; font-size:medium; color:#f5871f;">1.0e10</span><span style=" font-family:'Consolas'; font-size:medium; color:#000000;"><br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:x-large; font-weight:496; color:#3ac1ef;">Итоги</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"><br />Здесь я рассказал о некоторых полезных приёмах использования </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">pandas</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> в среде Jupyter Notebook. Надеюсь, моя шпаргалка вам пригодится.<br /><br /></span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; font-weight:600; color:#000000;">Уважаемые читатели!</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;"> Есть ли какие-нибудь возможности </span><span style=" font-family:'Menlo,Monaco,Consolas,Courier New,Courier,monospace'; font-size:medium; color:#000000;">pandas</span><span style=" font-family:'-apple-system,BlinkMacSystemFont,Arial,sans-serif'; font-size:medium; color:#000000;">, без которых вы не представляете своей повседневной работы?</span></p></body></html>