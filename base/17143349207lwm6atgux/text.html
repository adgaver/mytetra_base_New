<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:xx-large; color:#000000;">Виртуальные среды (venv) в Python</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://pythonist.ru/category/osnovy/"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:12px; font-weight:600; color:#03c4eb; background-color:transparent; text-transform:uppercase;">ОСНОВЫ</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Виртуальные среды Python (англ. virtual enviroment, сокращенно venv или virtualenv) позволяют устанавливать пакеты Python в изолированном от остальной части вашей системы месте. Давайте посмотрим, как их использовать для вашей работы.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px; line-height:1.2%;"><span style=" font-family:'Raleway,Helvetica,Arial,sans-serif'; font-size:x-large; font-weight:600; color:#333333;">Оглавление</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:20px; margin-bottom:6px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><a href="https://pythonist.ru/python-virtual-enviroments/#why"><span style=" font-size:16px; color:#03c4eb; background-color:transparent;">Зачем нужны виртуальные среды</span></a></li>
<li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:8px; margin-bottom:6px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><a href="https://pythonist.ru/python-virtual-enviroments/#alt"><span style=" font-size:16px; color:#03c4eb; background-color:transparent;">Альтернативы виртуальных сред</span></a></li>
<li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:8px; margin-bottom:6px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><a href="https://pythonist.ru/python-virtual-enviroments/#how"><span style=" font-size:16px; color:#03c4eb; background-color:transparent;">Как создать виртуальную среду</span></a></li>
<li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:8px; margin-bottom:6px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><a href="https://pythonist.ru/python-virtual-enviroments/#act"><span style=" font-size:16px; color:#03c4eb; background-color:transparent;">Активация виртуальной среды</span></a></li>
<li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:8px; margin-bottom:6px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><a href="https://pythonist.ru/python-virtual-enviroments/#howwork"><span style=" font-size:16px; color:#03c4eb; background-color:transparent;">Как в Python работают виртуальные среды</span></a></li>
<li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:8px; margin-bottom:6px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><a href="https://pythonist.ru/python-virtual-enviroments/#deact"><span style=" font-size:16px; color:#03c4eb; background-color:transparent;">Деактивация виртуальной среды</span></a></li>
<li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:8px; margin-bottom:6px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><a href="https://pythonist.ru/python-virtual-enviroments/#del"><span style=" font-size:16px; color:#03c4eb; background-color:transparent;">Удаление виртуальной среды</span></a></li>
<li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:8px; margin-bottom:20px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><a href="https://pythonist.ru/python-virtual-enviroments/#conc"><span style=" font-size:16px; color:#03c4eb; background-color:transparent;">Заключение</span></a></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; color:#000000;">Зачем нужны виртуальные среды</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Существует множество причин, по которым виртуальные среды это хорошая идея. И именно поэтому мы вам о них рассказываем до того, как начнем устанавливать сторонние библиотеки. Итак, рассмотрим эти причины по порядку.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; color:#000000;">Предотвращение конфликтов версий</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Вы можете возразить, что установка сторонних пакетов для всей системы очень эффективна. В конце концов, вам нужно установить пакет только один раз, и вы сможете использовать его в нескольких разных проектах Python, экономя драгоценное время и дисковое пространство. Однако в этом подходе есть проблема, которая может начать проявляться через несколько недель или месяцев.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Предположим, ваш проект, назовем его Проект А, написан на основе конкретной версии библиотеки X. В будущем вам может потребоваться обновить библиотеку X. Скажем, вам нужна последняя версия для другого начатого вами проекта под названием Проект Б. Вы обновляете библиотеку X до последней версии, и проект B работает нормально. Прекрасно, но после этого выясняется, что код Проекта А неисправен. При обновлении версий интерфейс может быть серьезным образом изменен.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Виртуальная среда решает эту проблему, изолируя ваш проект от других проектов и общесистемных пакетов. Вы устанавливаете пакеты внутри этой виртуальной среды специально для проекта, над которым работаете.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; color:#000000;">Легкость воспроизведения и установки</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Виртуальные среды упрощают определение и установку пакетов, специфичных для вашего проекта. Используя файл require.txt, вы можете определить точные номера версий необходимых пакетов, чтобы ваш проект всегда работал с версией, протестированной с вашим кодом.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; color:#000000;">Работает везде, даже без прав администратора (root)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Если вы работаете на общем хосте, например, в университете или у провайдера веб-хостинга, вы не сможете устанавливать общесистемные пакеты, поскольку у вас нет для этого прав администратора. В этих местах виртуальная среда позволяет вам локально установить в свой проект все, что вы захотите.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; color:#000000;">Альтернативы виртуальных сред</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Есть и другие варианты для изоляции вашего проекта:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:20px; margin-bottom:6px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">В самом крайнем случае можно купить второй компьютер и запускать на нем свой код. Проблема решена! Хотя это было бы немного дороговато!</span></li>
<li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:8px; margin-bottom:6px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Виртуальная машина — гораздо более дешевый вариант, но она все равно требует установки полной операционной системы, что в большинстве случаев также является расточительством.</span></li>
<li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:8px; margin-bottom:20px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Хорошей альтернативой является контейнеризация, например Docker или Kubernetes. Это весьма мощные инструменты для разработки.</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Тем не менее, во многих случаях мы просто создаем небольшие проекты или одноразовые скрипты. Или, возможно, просто не хотим контейнеризировать свое приложение. В конце концов, это еще одна вещь, которую вам нужно выучить и понять. Какой бы ни была причина, виртуальные среды — отличный способ изолировать зависимости вашего проекта.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; color:#000000;">Как создать виртуальную среду</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Существует несколько способов создания виртуальной среды в зависимости от используемой версии Python.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Прежде чем вы продолжите чтение, мы бы хотели указать вам на два других инструмента: Python </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">Poetry</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;"> и </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">Pipenv</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">. Оба эти инструмента сочетают в себе функциональность инструментов, которые вы собираетесь изучить: virtualenv и pip. Кроме того, они добавляют несколько дополнительных возможностей, и в первую очередь — возможность правильного разрешения зависимостей.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; color:#000000;">Python 3.4 и выше</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Если вы используете Python 3.4+, то модуль venv уже встроен в него.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">python -m venv </span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#777777;">&lt;</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">directory</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#777777;">&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Эта команда создает виртуальную среду в указанном каталоге и также копирует в него пакетный менеджер </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">pip</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">. Если вы не решили, как назвать каталог: обычно по умолчанию используется название venv; это не дает никому усомнится, что там такое. Таким образом, команда в этом случае будет выглядеть вот так:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">python -m venv venv</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Чуть дальше в этой статье мы внимательно рассмотрим только что созданный каталог. Но сначала посмотрим, как активировать эту виртуальную среду.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; color:#000000;">Другие версии Python</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Альтернативой, которая работает для любой версии Python, является использование пакета </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">virtualenv</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">. Но для этого его надо сначала установить:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">pip install virtualenv</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="wrap_2301"></a><span style=" font-family:'YS Text Variable,Helvetica,Arial,sans-serif'; font-size:8px; color:rgba(87,92,102,0.8); background-color:rgba(255,255,255,0.8); text-transform:uppercase;">Р</span><span style=" font-family:'YS Text Variable,Helvetica,Arial,sans-serif'; font-size:8px; color:rgba(87,92,102,0.8); background-color:rgba(255,255,255,0.8); text-transform:uppercase;">ЕКЛАМА</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">После установки можно создать виртуальную среду с помощью следующей команды:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">virtualenv </span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#777777;">[</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">directory</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#777777;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; color:#000000;">Активация виртуальной среды</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Способ активации виртуальной среды зависит от используемой вами ОС.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; color:#000000;">Активация виртуальной среды в Windows</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Чтобы активировать виртуальную среду в Windows, вам необходимо запустить скрипт, который устанавливается вместе с ней. Если вы создали свою виртуальную среду в каталоге с именем </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">venv</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">, то команда будет выглядеть следующим образом:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#8181a1;"># In cmd.exe</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">venv\Scripts\activate.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">bat</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#8181a1;"># In PowerShell</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">venv\Scripts\Activate.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">ps1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; color:#000000;">Активация виртуальной среды в Linux и MacOS</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">В Linux и MacOS мы активируем виртуальную среду при помощи команды </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">source</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">. Если вы создали свою виртуальную среду в каталоге </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">myvenv</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">, то команда будет выглядеть так:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">$ source myvenv/bin/activate</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Вот и все! Мы готовы к работе! Теперь можно устанавливать пакеты при помощи </span><a href="https://pythonist.ru/ustanovka-paketov-python-pri-pomoshhi-pip/"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#03c4eb; background-color:transparent;">пакетного менеджера </span></a><a href="https://pythonist.ru/ustanovka-paketov-python-pri-pomoshhi-pip/"><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#000000; background-color:#000000;">pip</span></a><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">, но мы советуем вам продолжить чтение, чтобы лучше понять механизмы работы виртуальных сред.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; color:#000000;">Как в Python работают виртуальные среды</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">При активации виртуальной среды изменяется переменная </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">PATH</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">. В Linux и MacOS это можно увидеть, распечатав ее с помощью команды </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">echo $PATH</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">. В Windows используется команда </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">echo %PATH%</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;"> (в cmd.exe) или команда </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">$Env:Path</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;"> (в PowerShell). В нашем случае под Windows это выглядит следующим образом:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">C:\Users\erik\Dev\venv\Scripts;C:\Program Files\PowerShell\</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#009999;">7</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">;C:\Program Files\AdoptOpen....</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Это длинный список, и мы показали только его начало. Как видите, каталог Scripts моей виртуальной среды помещен впереди всех других каталогов, фактически переопределяя все общесистемные программы Python.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; color:#000000;">Что же делает переменная PATH?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Когда вы вводите команду, которая не может быть найдена в текущем рабочем каталоге, ваша ОС начинает просматривать все пути в переменной </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">PATH</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">То же самое происходит и с Python. Когда вы импортируете библиотеку, Python просматривает </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">PATH</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;"> на предмет расположения библиотеки. И вот тут-то и происходит наша магия с виртуальной средой: если виртуальная среда находится перед всеми остальными путями, то ОС будет искать сначала в ней, а потом уже обращаться к общесистемным каталогам, таким как </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">/usr/bin</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">. Таким образом, все, что установлено в нашей виртуальной среде, будет найдено первым, и именно так мы можем переопределять общесистемные пакеты и инструменты.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; color:#000000;">Что находится внутри виртуальной среды?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Если заглянуть в каталог виртуальной среды, то под операционной системой Windows вы увидите примерно следующее:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">├── Include</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">├── Lib</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">│   └── site-packages</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">├── pyvenv.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">cfg</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">└── Scripts</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">    ├── activate</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">    ├── activate.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">bat</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">    ├── Activate.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">ps1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">    ├── deactivate.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">bat</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">    ├── pip3.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">10</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">exe</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">    ├── pip3.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">exe</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">    ├── pip.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">exe</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">    ├── python.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">exe</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">    └── pythonw.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">exe</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">А под Linux и MacOS вот что:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Можно заметить, что:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:20px; margin-bottom:6px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">доступны команды </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">python</span><span style=" font-size:16px;"> и </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">python3</span><span style=" font-size:16px;"> (в Linux и MacOS), причем версия соответствует версии Python, в которой была создана виртуальная среда</span></li>
<li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:8px; margin-bottom:6px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">в операционной системе Windows двоичный файл Python копируется в каталог </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">scripts</span></li>
<li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:8px; margin-bottom:6px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">все устанавливаемые пакеты попадают в каталог </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">site-packages</span></li>
<li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:8px; margin-bottom:6px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">у нас есть скрипты активации для различных типов оболочек (bash, csh, fish, PowerShell)</span></li>
<li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;" style=" margin-top:8px; margin-bottom:20px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">пакетный менеджер pip можно запускать посредством команд </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">pip</span><span style=" font-size:16px;"> и </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">pip3</span><span style=" font-size:16px;"> и даже </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">pip3.7</span><span style=" font-size:16px;">, так как на момент установки виртуальной среды у нас была версия Python 3.7.</span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; color:#000000;">Деактивация виртуальной среды</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">По окончании работы над проектом рекомендуется деактивировать его виртуальную среду. Деактивация означает выход из данной виртуальной среды. Без деактивации виртуальной среды весь остальной выполняемый вами Python-код, даже если он находится вне каталога проекта, также будет выполняться внутри этой виртуальной среды.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">К счастью, деактивация виртуальной среды крайне проста. Просто введите команду </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">deactivate</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">. Это работает одинаково во всех операционных системах.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; color:#000000;">Удаление виртуальной среды</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Виртуальную среду можно полностью удалить, но как это сделать, зависит от того, что именно использовалось для ее создания. Рассмотрим наиболее распространенные варианты.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; color:#000000;">Удаление виртуальной среды, созданной при помощи команды Virtualenv или python -m venv</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Если для создания виртуальной среды вы использовали команды </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">virtualenv</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;"> или </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">python -m venv</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">, как это было показано выше в данной статье, то какой-либо специальной команды для ее удаления не существует. При создании виртуальной среды вы задали каталог, в котором было создано данное окружение.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Если вы хотите удалить эту виртуальную среду, то сначала деактивируйте ее, а затем удалите ее каталог со всем его содержимым. В Unix-подобных системах и в Windows PowerShell это можно сделать следующим образом:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">deactivate</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#8181a1;"># Если ваша виртуальная среда находится в каталоге под названием 'venv':</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">rm -r venv</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; color:#000000;">Удаление виртуальной среды, созданной при помощи Pipenv</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Если для создания виртуальной среды вы использовали </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">Pipenv</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">, то все гораздо проще. Для ее удаления можно воспользоваться следующей командой:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">pipenv --rm</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Только убедитесь, что вы находитесь в каталоге проекта. Другими словами, в каталоге, где находятся файлы Pipenv и Pipenv.lock. Таким образом </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">pipenv</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;"> узнает, какое виртуальное окружение ему нужно удалить.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Если это не сработало, можно поступить немного грубее и удалить виртуальную среду вручную. Сначала спросите у </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">pipenv</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">, где находится данная виртуальная среда, выполнив следующую команду:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">pipenv --env</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">/home/username/.local/share/virtualenvs/yourproject-IogVUtsM</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Данная команда выведет путь к виртуальной среде и всем ее файлам, который будет выглядеть примерно так, как показано выше. Следующим шагом будет удаление всего этого каталога. И все, дело сделано.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; color:#000000;">Удаление виртуальной среды, созданной при помощи Poetry</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Если вы создали виртуальную среду при помощи Poetry, то список доступных сред можно составить при помощи следующей команды:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">poetry env list</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Вы получите примерно такой список:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">test-O3eWbxRl-py2.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">7</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">test-O3eWbxRl-py3.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">6</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">test-O3eWbxRl-py3.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">7</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;"> </span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#777777;">(</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">Activated</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#777777;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Удалить нужное окружение можно с помощью команды </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:16px; color:#bd4147; background-color:#e9e9e9;">poetry env remove</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">. При этом необходимо указать точное имя среды из приведенного выше вывода, например:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#2f3235;">poetry env remove test-O3eWbxRl-py3.</span><span style=" font-family:'inherit'; font-size:15px; font-weight:696; color:#0086b3;">7</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; color:#000000;">Заключение</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Вы узнали, как создавать, активировать, деактивировать и удалять виртуальные среды. Мы также слегка заглянули за ширму, чтобы узнать, как работает виртуальная среда и для чего она нужна.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Теперь, когда вы знаете, как создавать виртуальные среды, вам необходимо научиться устанавливать в них пакеты. Для этого мы настоятельно рекомендуем вам познакомиться с Pipenv или Poetry. Эти инструменты объединяют управление виртуальной средой с правильным управлением пакетами и зависимостями.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">Перевод статьи </span><a href="https://python.land/virtual-environments/virtualenv#deactivate"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#03c4eb; background-color:transparent;">«Python venv: How To Create, Activate, Deactivate, And Delete»</span></a><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:16px; color:#242424;">.</span></p></body></html>