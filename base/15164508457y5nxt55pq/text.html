<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="moz-reader-content"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">М</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">одуль csv</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> дает программисту возможность выполнять структурный </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">анализ файлов CSV</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> (</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-style:italic;">Comma Separated Values</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> – переменные, разделенные запятыми). </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">Файл CSV</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> – это текстовый файл, в котором каждая строка имеет несколько полей, разделенных запятыми, или другими разделителями. Вы можете рассматривать каждую строчку как ряд, а каждое поле — как столбец. </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">Формат CSV</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> не имеет стандарта, но эти файлы достаточно похожи, так что </span><a href="https://python-scripts.com/import-csv-python"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; text-decoration: underline; color:#0000ff;">модуль csv</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> может распознавать большую часть этих файлов. Вы также можете создавать файлы CSV, используя данный модуль.</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">Чтение файлов CSV</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Существует два способа </span><a href="https://python-scripts.com/import-csv-python"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; text-decoration: underline; color:#0000ff;">чтения файлов CSV</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Вы можете использовать функцию чтения </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">модуля csv</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, или использовать класс </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">DictReader</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Мы рассмотрим оба метода. Но сначала, нам нужно получить файлы CSV, чтобы было над чем работать. В интернете есть много сайтов, предлагающих познавательную информацию в формате CSV. Мы используем сайт </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">всемирной организации здравоохранения</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, чтобы скачать кое-какую информацию о туберкулёзе. Вы можете получить её здесь: </span><a href="http://www.who.int/tb/country/data/download/en/"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; text-decoration: underline; color:#0000ff;">http://www.who.int/tb/country/data/download/en/</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"><br />Как только вы скачаете файл, мы будем готовы начать. Готовы? Давайте взглянем на следующий код: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45780e053218468"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">i</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">mport csv</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45780e053218468-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">d</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ef csv_reader(file_obj):</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45780e053218468-4"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   &quot;&quot;&quot;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45780e053218468-5"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   Read a csv file</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45780e053218468-6"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   &quot;&quot;&quot;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45780e053218468-7"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   reader = csv.reader(file_obj)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45780e053218468-8"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   for row in reader:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45780e053218468-9"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       print(&quot; &quot;.join(row))</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45780e053218468-11"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">i</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">f __name__ == &quot;__main__&quot;:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45780e053218468-12"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   csv_path = &quot;TB_data_dictionary_2014-02-26.csv&quot;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45780e053218468-13"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   with open(csv_path, &quot;r&quot;) as f_obj:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45780e053218468-14"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       csv_reader(f_obj)</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Вот здесь мы остановимся. В первую очередь, нам нужно импортировать </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">модуль csv</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. После этого, нам нужно создать очень простую функцию, под названием </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">csv_reader</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, которая получает доступ к объекту файла. Внутри функции, мы передаем файл функции </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">csv.reader</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, которая возвращает объект-считыватель. Объект-считыватель позволяет выполнить итерацию также, как это делает обычный объект </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">file</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Это позволяет выполнять итерацию над каждым рядом в объекте-считывателе и отобразить строку данных, но без запятых. Это работает по той причине, что каждый ряд является списком, и мы можем объединить все элементы в списке вместе, создав одну большую строку. А теперь мы создадим наш собственный файл </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">CSV</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> и загрузим его в класс </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">DictReader</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Вот очень простой пример: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45781c568972515"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">f</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">irst_name,last_name,address,city,state,zip_code</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45781c568972515-2"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">T</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">yrese,Hirthe,1404 Turner Ville,Strackeport,NY,19106-8813</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45781c568972515-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">J</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ules,Dicki,2410 Estella Cape Suite 061,Lake Nickolasville,ME,00621-7435</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45781c568972515-4"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">D</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">edric,Medhurst,6912 Dayna Shoal,Stiedemannberg,SC,43259-2273</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Давайте сохраним это в файле, под названием </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">data.csv</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> . Теперь мы готовы проанализировать файл при помощи класса </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">DictReader</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Давайте попробуем: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457828852051718"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">i</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">mport csv</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457828852051718-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">d</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ef csv_dict_reader(file_obj):</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457828852051718-4"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   &quot;&quot;&quot;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457828852051718-5"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   Read a CSV file using csv.DictReader</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457828852051718-6"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   &quot;&quot;&quot;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457828852051718-7"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   reader = csv.DictReader(file_obj, delimiter=',')</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457828852051718-8"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   for line in reader:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457828852051718-9"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       print(line[&quot;first_name&quot;]),</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457828852051718-10"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       print(line[&quot;last_name&quot;])</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457828852051718-12"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">i</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">f __name__ == &quot;__main__&quot;:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457828852051718-13"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   with open(&quot;data.csv&quot;) as f_obj:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457828852051718-14"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       csv_dict_reader(f_obj)</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">В данном примере мы открыли файл и привязали объект файла к нашей функции таким же образом, каким мы делали это раньше. Функция привязывает наш объект к нашему классу DictReader. Мы указываем классу DictReader, что </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">разделителем является запятая</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Не то, что бы это было необходимо в нашем коде, так как он работает и без этого аргумента. Тем не менее, это хорошая идея, так как это позволяет пролить свет на то, что именно происходит внутри кода. Далее, мы применяем цикл над объектом-считывателем, и обнаруживаем, что каждая строка в нем – это </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">словарь</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Это упрощает печать отдельных фрагментов линии. Теперь мы готовы научиться </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">писать файл csv</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> на диск. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">Пишем CSV файл</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">Модуль csv</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> также имеет два метода, которые вы можете применять для написания </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">файла CSV</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Вы можете использовать функцию </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">writer</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, или класс </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">DictWriter</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Мы рассмотрим оба метода. Начнем с </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">функции writer</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Давайте взглянем на простой пример: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">1</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">2</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">3</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">4</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">5</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">6</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">7</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">8</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">9</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">10</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">11</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">12</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">13</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">14</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">15</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">16</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">17</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">18</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">19</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">20 </span></p></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-1"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">i</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">mport csv</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">d</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ef csv_writer(data, path):</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-4"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   &quot;&quot;&quot;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-5"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   Write data to a CSV file path</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-6"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   &quot;&quot;&quot;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-7"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   with open(path, &quot;w&quot;, newline='') as csv_file:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-8"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       writer = csv.writer(csv_file, delimiter=',')</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-9"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       for line in data:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-10"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">           writer.writerow(line)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-12"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">i</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">f __name__ == &quot;__main__&quot;:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-13"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   data = [&quot;first_name,last_name,city&quot;.split(&quot;,&quot;),</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-14"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">           &quot;Tyrese,Hirthe,Strackeport&quot;.split(&quot;,&quot;),</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-15"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">           &quot;Jules,Dicki,Lake Nickolasville&quot;.split(&quot;,&quot;),</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-16"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">           &quot;Dedric,Medhurst,Stiedemannberg&quot;.split(&quot;,&quot;)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-17"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">           ]</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-19"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   path = &quot;output.csv&quot;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457835287740124-20"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   csv_writer(data, path)</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">В данном коде мы создали </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">функцию csv_writer</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> которая принимает два аргумента: </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">path</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> и </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">data</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. «data» — это список списков, которые мы создали внизу скрипта. Мы использовали сокращенную версию аргумента data из предыдущего примера и разделили строки запятыми. Это возвращает список. Таким образом, мы получаем вложенный список, который выглядит следующим образом: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457842008972488"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">[</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">['first_name', 'last_name', 'city'],</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457842008972488-2"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">[</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">'Tyrese', 'Hirthe', 'Strackeport'],</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457842008972488-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">[</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">'Jules', 'Dicki', 'Lake Nickolasville'],</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457842008972488-4"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">[</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">'Dedric', 'Medhurst', 'Stiedemannberg']]</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Функция </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">csv_writer</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> открывает путь, по которому мы проходим, и создает объект записи </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">csv</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. После этого мы используем цикл в нашем вложенном списке, и записываем каждую строку на наш диск. Обратите внимание на то, что мы указали на то, какой именно символ является разделителем, когда создавали объект записи. Если вы хотите, чтобы разделителем была не запятая, а любой другой символ – это именно та самая часть, в которой вы можете это указать. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Теперь мы готовы к тому, чтобы научиться </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">писать файлы CSV</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> при помощи класса DictWriter. Мы используем аргумент data из предыдущего примера, и превратим его в список словарей, которые мы можем загрузить в наш DictWriter. Давайте взглянем: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">1</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">2</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">3</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">4</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">5</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">6</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">7</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">8</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">9</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">10</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">11</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">12</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">13</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">14</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">15</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">16</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">17</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">18</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">19</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">20</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">21</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">22</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">23</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">24</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">25</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">26</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">27 </span></p></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-1"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">i</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">mport csv</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">d</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ef csv_dict_writer(path, fieldnames, data):</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-4"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   &quot;&quot;&quot;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-5"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   Writes a CSV file using DictWriter</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-6"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   &quot;&quot;&quot;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-7"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   with open(path, &quot;w&quot;, newline='') as out_file:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-8"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       writer = csv.DictWriter(out_file, delimiter=',', fieldnames=fieldnames)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-9"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       writer.writeheader()</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-10"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       for row in data:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-11"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">           writer.writerow(row)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-13"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">i</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">f __name__ == &quot;__main__&quot;:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-14"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   data = [&quot;first_name,last_name,city&quot;.split(&quot;,&quot;),</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-15"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">           &quot;Tyrese,Hirthe,Strackeport&quot;.split(&quot;,&quot;),</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-16"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">           &quot;Jules,Dicki,Lake Nickolasville&quot;.split(&quot;,&quot;),</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-17"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">           &quot;Dedric,Medhurst,Stiedemannberg&quot;.split(&quot;,&quot;)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-18"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">           ]</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-20"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   my_list = []</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-21"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   fieldnames = data[0]</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-22"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   for values in data[1:]:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-23"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       inner_dict = dict(zip(fieldnames, values))</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-24"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       my_list.append(inner_dict)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-26"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   path = &quot;dict_output.csv&quot;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457855472066738-27"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   csv_dict_writer(path, fieldnames, my_list)</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Начнем со второй части. Как вы видите, мы начали со структуры вложенного списка, который у нас был ранее. Теперь мы создаем пустой список и список, который содержит имена полей, который будет первым списком во вложенном списке. Помните, </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">списки начинаются с нуля</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, так что первый элемент в нем начинается с нуля. Далее мы используем цикл во вложенном списке, начиная со второго элемента: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457866649250395"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">f</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">or values in data[1:]:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457866649250395-2"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   inner_dict = dict(zip(fieldnames, values))</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457866649250395-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   my_list.append(inner_dict)</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Внутри </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">цикла for</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> мы используем встроенные инструменты Python, чтобы создать словарь. </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">Метод zip</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> будет использовать два итератора (списка, в нашем случае), и превратит их в список кортежей. Давайте взглянем на пример: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45786e032708158"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">z</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ip(fieldnames, values)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef45786e032708158-2"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">[</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">('first_name', 'Dedric'), ('last_name', 'Medhurst'), ('city', 'Stiedemannberg')]</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Теперь, когда вы оборачиваете этот вызов в </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">dict</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, этот список кортежей превращается в словарь. И наконец, мы добавляем словарь в список. Когда for завершит работу, вы получите структуру данных, которая будет выглядеть так: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457879064816918"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">[</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457879064816918-2"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> {‘city’: ‘Strackeport’, ‘first_name’: ‘Tyrese’, ‘last_name’: ‘Hirthe’},</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457879064816918-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> {‘city’: ‘Lake Nickolasville’, ‘first_name’: ‘Jules’, ‘last_name’: ‘Dicki’},</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457879064816918-4"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> {‘city’: ‘Stiedemannberg’, ‘first_name’: ‘Dedric’, ‘last_name’: ‘Medhurst’}</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61eef457879064816918-5"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">]</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">В конце второй сессии, мы вызываем нашу функцию </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">csv_dict_writer</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> и передаем ей все необходимые аргументы. Внутри функции мы создаем </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">экземпляр DictWriter</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> и передаем ей объекту файла, значение разделителя и наш список наименований полей. Далее, мы записываем наименования полей на наш диск, зацикливаем данные по одной строке за раз, и записываем данные на диск. Класс DictWriter также поддерживает метод </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">writerows</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, который мы можем использовать вместо цикла. Функция </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">csv.writer</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> также может делать это. Вы, может быть, заинтересованы в том, что бы научиться создавать диалекты при помощи </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">модуля csv</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Это позволит вам указывать модулю csv, как именно читать или писать файл в очень простой форме. Если вам это нужно, так файл вашего клиента непонятно как отформатирован – вы найдете эту часть функционала просто незаменимой.</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">Подведем итоги</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Теперь вы знаете, как использовать </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">метод csv</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, а также научились читать и писать файлы в формате </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">CSV</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Существует великое множество сайтов, которые размещают свою информацию в этом формате, также он часто используется в сфере бизнеса. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p></body></html>