<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-weight:400; font-style:normal; "  bgcolor="#ffffff">
Version:0.9
StartHTML:0000000219
EndHTML:0000080796
StartFragment:0000000255
EndFragment:0000080760
SourceURL:https://codeby.net/threads/izvlekaem-metadannye-iz-foto-audio-i-video-fajlov-s-pomoschju-python.80200/
<html>
<body>
<!--StartFragment--><div class="p-body-header" style="box-sizing: border-box; max-width: 100%; margin-left: auto; margin-right: auto; width: 1643px; padding-left: 0px; padding-right: 0px; transition: max-width 0.2s ease 0s; margin-bottom: 16px; font-size: 13px; color: rgb(141, 141, 141); border-radius: 2px; min-height: 36px; font-family: &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Helvetica, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(55, 55, 55); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div class="pageContent" style="box-sizing: border-box; max-width: 100%; width: 1643px; padding-left: 0px; padding-right: 0px; display: flex; align-items: center;"><div class="uix_headerInner" style="box-sizing: border-box; margin: 5px 5px 5px 0px; flex-grow: 1; min-width: 0px;"><div class="test" style="box-sizing: border-box;"><div class="p-title " style="box-sizing: border-box; display: flex; flex-wrap: wrap; align-items: center; max-width: 100%;"><h1 class="p-title-value" style="box-sizing: border-box; font-size: 22px; margin: 0px auto 3px 0px; padding: 0px; font-weight: 400; min-width: 0px; color: rgb(233, 233, 233); font-family: Roboto, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif;">Извлекаем метаданные из фото, аудио и видео файлов с помощью Python</h1></div><div class="p-description" style="box-sizing: border-box; margin: 0px; padding: 0px; font-size: inherit; color: inherit;"><ul class="listInline listInline--bullet" style="box-sizing: border-box; list-style: none; margin: 0px; padding: 0px;"><li style="box-sizing: border-box; display: inline; margin: 0px; padding: 0px;"><i class="fa--xf fal fa-user" aria-hidden="true" title="Автор темы" style="box-sizing: border-box; font-family: &quot;Font Awesome 5 Pro&quot;; position: relative; font-weight: 300; -webkit-font-smoothing: antialiased; display: inline-block; font-style: normal; font-variant: normal; text-rendering: auto; line-height: 1;"></i><span> </span><span class="u-srOnly" style="box-sizing: border-box; position: absolute; height: 1px; width: 1px; margin: -1px; padding: 0px; border: 0px; clip: rect(0px, 0px, 0px, 0px); overflow: hidden;">Автор темы</span><a href="https://codeby.net/members/johan-van.198365/" class="username  u-concealed" dir="auto" data-user-id="198365" data-xf-init="member-tooltip" id="js-XFUniqueId7" style="box-sizing: border-box; background-color: transparent; color: inherit !important; text-decoration: inherit !important; text-align: left;">Johan Van</a><span> </span></li><li style="box-sizing: border-box; display: inline; margin: 0px; padding: 0px;"><i class="fa--xf fal fa-clock" aria-hidden="true" title="Дата начала" style="box-sizing: border-box; font-family: &quot;Font Awesome 5 Pro&quot;; position: relative; font-weight: 300; -webkit-font-smoothing: antialiased; display: inline-block; font-style: normal; font-variant: normal; text-rendering: auto; line-height: 1;"></i><span> </span><span class="u-srOnly" style="box-sizing: border-box; position: absolute; height: 1px; width: 1px; margin: -1px; padding: 0px; border: 0px; clip: rect(0px, 0px, 0px, 0px); overflow: hidden;">Дата начала</span><a href="https://codeby.net/threads/izvlekaem-metadannye-iz-foto-audio-i-video-fajlov-s-pomoschju-python.80200/" class="u-concealed" style="box-sizing: border-box; background-color: transparent; color: inherit !important; text-decoration: inherit !important;"><time class="u-dt" dir="auto" datetime="2022-07-05T11:32:58+0300" data-time="1657009978" data-date-string="05.07.2022" data-time-string="11:32" title="05.07.2022 в 11:32" style="box-sizing: border-box; text-align: left; border: none; text-decoration: none;">05.07.2022</time></a><span> </span></li><li style="box-sizing: border-box; display: inline; margin: 0px; padding: 0px;"><dl class="tagList tagList--thread-80200 " style="box-sizing: border-box; display: inline; padding: 0px; margin: 0px;"><dt style="box-sizing: border-box; display: inline; padding: 0px; margin: 0px;"><i class="fa--xf fal fa-tags" aria-hidden="true" title="Теги" style="box-sizing: border-box; font-family: &quot;Font Awesome 5 Pro&quot;; position: relative; font-weight: 300; -webkit-font-smoothing: antialiased; display: inline-block; font-style: normal; font-variant: normal; text-rendering: auto; line-height: 1;"></i><span> </span><span class="u-srOnly" style="box-sizing: border-box; position: absolute; height: 1px; width: 1px; margin: -1px; padding: 0px; border: 0px; clip: rect(0px, 0px, 0px, 0px); overflow: hidden;">Теги</span></dt><dd style="box-sizing: border-box; display: inline; padding: 0px; margin: 0px;"><span class="js-tagList" style="box-sizing: border-box;"><a href="https://codeby.net/tags/ffmpeg/" class="tagItem tagItem--tag_ffmpeg" dir="auto" style="box-sizing: border-box; background: rgb(65, 65, 65); color: rgb(141, 141, 141); text-decoration: none; text-align: left; font-size: 12px; border: 1px solid rgb(76, 76, 76); display: inline-block; max-width: 100%; padding: 0px 6px 1px; margin: 0px 0px 2px; border-radius: 3px;">ffmpeg</a><span> </span><a href="https://codeby.net/tags/metadata/" class="tagItem tagItem--tag_metadata" dir="auto" style="box-sizing: border-box; background: rgb(65, 65, 65); color: rgb(141, 141, 141); text-decoration: none; text-align: left; font-size: 12px; border: 1px solid rgb(76, 76, 76); display: inline-block; max-width: 100%; padding: 0px 6px 1px; margin: 0px 0px 2px; border-radius: 3px;">metadata</a><span> </span><a href="https://codeby.net/tags/python/" class="tagItem tagItem--tag_python" dir="auto" style="box-sizing: border-box; background: rgb(65, 65, 65); color: rgb(141, 141, 141); text-decoration: none; text-align: left; font-size: 12px; border: 1px solid rgb(76, 76, 76); display: inline-block; max-width: 100%; padding: 0px 6px 1px; margin: 0px 0px 2px; border-radius: 3px;">python</a><span> </span><a href="https://codeby.net/tags/video-1081/" class="tagItem tagItem--tag_video-1081" dir="auto" style="box-sizing: border-box; background: rgb(65, 65, 65); color: rgb(141, 141, 141); text-decoration: none; text-align: left; font-size: 12px; border: 1px solid rgb(76, 76, 76); display: inline-block; max-width: 100%; padding: 0px 6px 1px; margin: 0px 0px 2px; border-radius: 3px;">видео</a><span> </span><a href="https://codeby.net/tags/metedannye/" class="tagItem tagItem--tag_metedannye" dir="auto" style="box-sizing: border-box; background: rgb(65, 65, 65); color: rgb(141, 141, 141); text-decoration: none; text-align: left; font-size: 12px; border: 1px solid rgb(76, 76, 76); display: inline-block; max-width: 100%; padding: 0px 6px 1px; margin: 0px 0px 2px; border-radius: 3px;">метеданные</a><span> </span><a href="https://codeby.net/tags/programmirovanie/" class="tagItem tagItem--tag_programmirovanie" dir="auto" style="box-sizing: border-box; background: rgb(65, 65, 65); color: rgb(141, 141, 141); text-decoration: none; text-align: left; font-size: 12px; border: 1px solid rgb(76, 76, 76); display: inline-block; max-width: 100%; padding: 0px 6px 1px; margin: 0px 0px 2px; border-radius: 3px;">программирование</a><span> </span><a href="https://codeby.net/tags/foto/" class="tagItem tagItem--tag_foto" dir="auto" style="box-sizing: border-box; background: rgb(65, 65, 65); color: rgb(141, 141, 141); text-decoration: none; text-align: left; font-size: 12px; border: 1px solid rgb(76, 76, 76); display: inline-block; max-width: 100%; padding: 0px 6px 1px; margin: 0px 0px 2px; border-radius: 3px;">фото</a></span></dd></dl></li></ul></div></div></div><div class="uix_headerInner--opposite" style="box-sizing: border-box; display: inline-flex; align-items: center; flex-wrap: wrap; justify-content: center; margin: 5px auto;"><div class="p-title-pageAction" style="box-sizing: border-box; margin-left: 15px; margin-top: 0px; display: inline-flex; gap: 10px;"><a href="https://codeby.net/threads/izvlekaem-metadannye-iz-foto-audio-i-video-fajlov-s-pomoschju-python.80200/reply" class="button--cta uix_quickReply--button button button--icon button--icon--write rippleButton" style="box-sizing: content-box; background: rgb(52, 151, 219); color: rgb(255, 255, 255); text-decoration: none; align-items: center; justify-content: center; white-space: nowrap; font-size: 14px; padding: 0px 10px; text-align: center; outline: none; line-height: 40px; height: 40px; display: inline-block; cursor: pointer; appearance: none; font-weight: 500; will-change: box-shadow; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1) 0s; border-radius: 4px; box-shadow: none; border: none rgb(87, 169, 225); position: relative;"><span class="button-text" style="box-sizing: border-box; display: inline-flex; align-items: center; border-right: 1px solid transparent;">Ответ</span></a></div></div></div></div><div class="block block--messages " data-xf-init="lightbox select-to-quote" data-message-selector=".js-post" data-lb-id="thread-80200" style="box-sizing: border-box; margin-bottom: 16px; color: rgb(233, 233, 233); font-family: &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Helvetica, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(55, 55, 55); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div class="block-outer" style="box-sizing: border-box; padding-bottom: 15px;"><div class="block-outer-opposite" style="box-sizing: border-box; float: right;"><div class="buttonGroup" style="box-sizing: border-box; display: inline-block; vertical-align: top;"><a href="https://codeby.net/threads/izvlekaem-metadannye-iz-foto-audio-i-video-fajlov-s-pomoschju-python.80200/watch" class="button--link button rippleButton" data-xf-click="switch-overlay" data-sk-watch="Отслеживать" data-sk-unwatch="Перестать отслеживать" style="box-sizing: content-box; background: rgb(45, 45, 45); color: rgb(141, 141, 141); text-decoration: none; cursor: pointer; align-items: center; justify-content: center; white-space: nowrap; font-size: 12px; padding: 0px 8px; text-align: center; outline: none; line-height: 28px; height: 28px; display: inline-block; appearance: none; font-weight: 500; will-change: box-shadow; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1) 0s; border-radius: 2px; box-shadow: none; border: 1px solid rgb(76, 76, 76); position: relative; text-transform: initial; float: left;"><span class="button-text" style="box-sizing: border-box; display: inline-flex; align-items: center; border-right: 1px solid transparent;">Отслеживать</span></a></div></div></div><div class="block-container" style="box-sizing: border-box; color: rgb(197, 197, 197); border-radius: 0px; background: none; border: none; padding: 0px; box-shadow: none; overflow: visible;"><div class="block-body" style="box-sizing: border-box; list-style: none; margin: 0px; padding: 0px; border-radius: 3px;"><article class="message message--article js-post js-inlineModContainer
		
		" data-author="Johan Van" data-content="post-420379" id="js-post-420379" style="box-sizing: border-box; display: block; color: rgb(197, 197, 197); background: rgb(50, 50, 50); border: 1px solid rgb(76, 76, 76); border-radius: 4px; padding: 8px;"><span class="u-anchorTarget" id="post-420379" style="box-sizing: border-box; display: block; height: 104px; width: 0px; visibility: hidden; pointer-events: none; position: absolute; margin-top: -104px;"></span><div class="message-inner" style="box-sizing: border-box; display: flex;"><div class="message-cell message-cell--main" style="box-sizing: border-box; display: block; vertical-align: top; padding: 8px 8px 8px 16px; flex: 1 1 auto; width: 1625px; min-width: 0px; background: rgb(50, 50, 50); border-radius: 3px;"><div class="message-expandWrapper js-expandWatch is-expanded" style="box-sizing: border-box; position: relative; overflow: hidden;"><div class="message-expandContent js-expandContent" style="box-sizing: border-box; max-height: none; overflow: hidden;"><div class="message-main js-quickEditTarget" style="box-sizing: border-box; height: 4028.81px; display: flex; flex-direction: column; width: 1601px; min-width: 0px;"><header class="message-attribution message-attribution--split" style="box-sizing: border-box; display: flex; color: rgb(141, 141, 141); font-size: 12px; border-bottom: 0px solid rgba(170, 170, 170, 0.3); border-top-width: 0px; border-right-width: 0px; border-left-width: 0px; border-top-style: solid; border-right-style: solid; border-left-style: solid; padding-bottom: 8px; align-items: flex-end; justify-content: space-between; flex-wrap: wrap; gap: 8px;"><ul class="message-attribution-main listInline listInline--bullet" style="box-sizing: border-box; list-style: none; margin: 0px 8px 0px 0px; padding: 0px; float: left;"><li class="u-concealed" style="box-sizing: border-box; text-decoration: inherit !important; color: inherit !important; display: inline; margin: 0px; padding: 0px;"><a href="https://codeby.net/threads/izvlekaem-metadannye-iz-foto-audio-i-video-fajlov-s-pomoschju-python.80200/post-420379" rel="nofollow" style="box-sizing: border-box; background-color: transparent; color: inherit !important; text-decoration: inherit !important;"><time class="u-dt" dir="auto" datetime="2022-07-05T11:32:58+0300" data-time="1657009978" data-date-string="05.07.2022" data-time-string="11:32" title="05.07.2022 в 11:32" itemprop="datePublished" style="box-sizing: border-box; text-align: left; border: none; text-decoration: none;">05.07.2022</time></a></li></ul><ul class="message-attribution-opposite message-attribution-opposite--list " style="box-sizing: border-box; float: right; display: flex; line-height: 1; list-style: none; margin: 0px 0px 0px auto; padding: 0px;"><li style="box-sizing: border-box; margin-left: 0px;"><a href="https://codeby.net/threads/izvlekaem-metadannye-iz-foto-audio-i-video-fajlov-s-pomoschju-python.80200/post-420379" class="message-attribution-gadget" data-xf-init="share-tooltip" data-href="/posts/420379/share" aria-label="Поделиться" rel="nofollow" id="js-XFUniqueId8" style="box-sizing: border-box; background-color: transparent; color: inherit; text-decoration: none; display: inline-block; margin: -3px -7px; padding: 3px 7px;"><i class="fa--xf fal fa-share-alt" aria-hidden="true" style="box-sizing: border-box; font-family: &quot;Font Awesome 5 Pro&quot;; position: relative; font-weight: 300; -webkit-font-smoothing: antialiased; display: inline-block; font-style: normal; font-variant: normal; text-rendering: auto; line-height: 1;"></i></a></li><li style="box-sizing: border-box; margin-left: 14px;"><a href="https://codeby.net/posts/420379/bookmark" class="bookmarkLink message-attribution-gadget bookmarkLink--highlightable " title="Добавить закладку" data-xf-click="bookmark-click" data-label=".js-bookmarkText" data-sk-bookmarked="addClass:is-bookmarked, titleAttr:sync" data-sk-bookmarkremoved="removeClass:is-bookmarked, titleAttr:sync" style="box-sizing: border-box; background-color: transparent; color: inherit; text-decoration: none; cursor: pointer; display: inline-block; margin: -3px -7px; padding: 3px 7px;"><span class="js-bookmarkText u-srOnly" style="box-sizing: border-box; position: absolute; height: 1px; width: 1px; margin: -1px -1px -1px 0.35em; padding: 0px; border: 0px; clip: rect(0px, 0px, 0px, 0px); overflow: hidden;">Добавить закладку</span></a></li></ul></header><div class="message-content js-messageContent" style="box-sizing: border-box; flex: 1 1 auto; min-height: 1px; max-width: 100%; position: relative;"><div class="message-userContent lbContainer js-lbContainer " data-lb-id="post-420379" data-lb-caption-desc="Johan Van · 05.07.2022 в 11:32" style="box-sizing: border-box;"><article class="message-body js-selectToQuote" style="box-sizing: border-box; display: block; font-family: &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Helvetica, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, sans-serif; padding-bottom: 8px; margin: 0px;"><div style="box-sizing: border-box;"><div class="bbWrapper" style="box-sizing: border-box;">Давайте представим, что к вам попал некий файл: изображение, видео, а может быть аудиофайл, и вам нужно узнать о данном файле чуть больше информации чем отображается в свойствах файла. Если она там есть. Ведь современные камеры, смартфоны и прочее фото и видео оборудование добавляет их в файл в автоматическом режиме. И если файл не обработан программами, которые могут их затереть, то из таких метаданных, иногда, можно получить много разнообразной информации. В этом вам могут помочь специализированные программы, а можно воспользоваться небольшим скриптом на Python и получить необходимую информацию. Давайте создадим скрипт, который будет получать метаданные из фото, видео и аудио файлов.<br style="box-sizing: border-box; margin-top: 0px;"><br style="box-sizing: border-box;"><div style="box-sizing: border-box; text-align: center;"><div class="bbImageWrapper  js-lbImage" title="52bd08545c8e0d74b54dac88d9027bc7.jpg" data-src="https://codeby.net/attachments/52bd08545c8e0d74b54dac88d9027bc7-jpg.61004/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1" style="box-sizing: border-box; display: inline-block; max-width: 100%;"></div></div><br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><b style="box-sizing: border-box; font-weight: 600;"><span style="box-sizing: border-box; color: rgb(0, 168, 133);">Что понадобиться?</span></b><br style="box-sizing: border-box;"><br style="box-sizing: border-box;">Для работы с изображениями установим библиотеку Pillow. Именно с ее помощью мы будем получать метаданные, если они, конечно же есть. А также установим библиотеку ffmpeg, которая работает с очень большим количеством форматов как аудио, так и видео. Причем, извлекает метаданные из фото (правда не все). Пишем в терминале команду:<br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><code class="bbCodeInline" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Roboto Mono&quot;, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-size: 13.5px; margin: 0px; background: rgb(50, 50, 50); border: 1px solid rgb(76, 76, 76); border-radius: 2px; padding: 1px 4px; line-height: 1.4; -webkit-box-decoration-break: clone; white-space: pre-wrap;">pip install Pillow ffmpeg-python</code><br style="box-sizing: border-box;"><br style="box-sizing: border-box;">После того, как все библиотеки будут установлены, импортируем нужные модули в скрипт.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code" style="box-sizing: border-box; display: flow-root; margin: 0.5em 0px; background: rgb(50, 50, 50); border-width: 1px 1px 1px 2px; border-style: solid; border-color: rgba(170, 170, 170, 0.3) rgba(170, 170, 170, 0.3) rgba(170, 170, 170, 0.3) rgb(52, 151, 219); border-image: initial;"><div class="bbCodeBlock-title" style="box-sizing: border-box; padding: 8px 15px; font-size: 13px; color: rgb(107, 166, 94); background: rgb(45, 45, 45);">Python:</div><div class="bbCodeBlock-content" dir="ltr" style="box-sizing: border-box; position: relative; padding: 8px 15px; background-color: rgb(45, 45, 45); color: rgb(233, 233, 233); max-height: 70vh; overflow: auto;"><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">import</span> os<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>path</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">from</span> pprint <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">import</span> pprint</p><p style="-qt-paragraph-type:empty; margin-top:0px; background-color:#eff0f1; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">import</span> ffmpeg</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">from</span> PIL <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">import</span> Image<span class="prism-token prism-punctuation" style="box-sizing: border-box;">,</span> ExifTags</p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></div></div><br style="box-sizing: border-box;">Давайте приступим к созданию скрипта.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><b style="box-sizing: border-box; font-weight: 600;"><span style="box-sizing: border-box; color: rgb(0, 168, 133);">Извлекаем метаданные из файлов JPG</span></b><br style="box-sizing: border-box;"><br style="box-sizing: border-box;">Создадим функцию для извлечения метаданных из изображения. Я назвал ее image_metadata(path_f). На входе она принимает только один параметр, а именно путь к файлу изображения. Затем с помощью модуля Image библиотеки Pillow откроем файл. Создадим небольшой словарь, в который добавим базовые данные о фото, такие как имя, разрешение, ширина, высота и прочие. Эти данные будут выводиться пользователю в том случае, если метеданных в фото не оказалось или они не были прочитаны.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code" style="box-sizing: border-box; display: flow-root; margin: 0.5em 0px; background: rgb(50, 50, 50); border-width: 1px 1px 1px 2px; border-style: solid; border-color: rgba(170, 170, 170, 0.3) rgba(170, 170, 170, 0.3) rgba(170, 170, 170, 0.3) rgb(52, 151, 219); border-image: initial;"><div class="bbCodeBlock-title" style="box-sizing: border-box; padding: 8px 15px; font-size: 13px; color: rgb(107, 166, 94); background: rgb(45, 45, 45);">Python:</div><div class="bbCodeBlock-content" dir="ltr" style="box-sizing: border-box; position: relative; padding: 8px 15px; background-color: rgb(45, 45, 45); color: rgb(233, 233, 233); max-height: 70vh; overflow: auto;"><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    img <span class="prism-token prism-operator" style="box-sizing: border-box;">=</span> Image<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span><span class="prism-token prism-builtin" style="box-sizing: border-box; color: rgb(166, 226, 46);">open</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span>path_f<span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    info_dict <span class="prism-token prism-operator" style="box-sizing: border-box;">=</span> <span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">"Имя файла"</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span> os<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>path<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>split<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span>path_f<span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span><span class="prism-token prism-number" style="box-sizing: border-box; color: rgb(174, 129, 255);">1</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">,</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">"Разрешение изображения"</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span> img<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>size<span class="prism-token prism-punctuation" style="box-sizing: border-box;">,</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">"Высота изображения"</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span> img<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>height<span class="prism-token prism-punctuation" style="box-sizing: border-box;">,</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">"Ширина изображения"</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span> img<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>width<span class="prism-token prism-punctuation" style="box-sizing: border-box;">,</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">"Формат изображения"</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span> img<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span><span class="prism-token prism-builtin" style="box-sizing: border-box; color: rgb(166, 226, 46);">format</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">,</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">"Режим изображения"</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span> img<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>mode<span class="prism-token prism-punctuation" style="box-sizing: border-box;">,</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">"Анимированное изображение"</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span> <span class="prism-token prism-builtin" style="box-sizing: border-box; color: rgb(166, 226, 46);">getattr</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span>img<span class="prism-token prism-punctuation" style="box-sizing: border-box;">,</span> <span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">"is_animated"</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">,</span> <span class="prism-token prism-boolean" style="box-sizing: border-box; color: rgb(174, 129, 255);">False</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">,</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">"Кадров в изображении"</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span> <span class="prism-token prism-builtin" style="box-sizing: border-box; color: rgb(166, 226, 46);">getattr</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span>img<span class="prism-token prism-punctuation" style="box-sizing: border-box;">,</span> <span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">"n_frames"</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">,</span> <span class="prism-token prism-number" style="box-sizing: border-box; color: rgb(174, 129, 255);">1</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></div></div><br style="box-sizing: border-box;">Теперь, если данные exif были прочитаны и не было вызвано исключение, формируем словарь из полученных значений, к которому добавим в качестве ключа название тега. Для этого будем использовать параметр ExifTags.TAGS. Если вы распечатаете данный параметр, на выходе получите словарь с тегами, которые могут содержаться в изображении.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;">После того, как словарь будет сформирован, нужно вывести полученные значения пользователю на экран. Пробегаемся в цикле по словарю exif. Здесь, если мы получаем значение тега «GPSInfo», печатаем данные немного по другому, так как за данным тегом есть еще словарь со значениями широты, долготы, направления и прочие параметры. Для наших целей достаточно будет получить значение широты и долготы. Поэтому указываем значения json, где они содержаться, для вывода на экран.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;">Также, некоторые значения в json представлены в байтах, а потому из надо декодировать. Но, если мы будем декодировать все значения, то на экран ничего не выведется. Поэтому делаем проверку, является ли данный параметр байтами. Если да, декодируем и выводим уже декодированное значение.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code" style="box-sizing: border-box; display: flow-root; margin: 0.5em 0px; background: rgb(50, 50, 50); border-width: 1px 1px 1px 2px; border-style: solid; border-color: rgba(170, 170, 170, 0.3) rgba(170, 170, 170, 0.3) rgba(170, 170, 170, 0.3) rgb(52, 151, 219); border-image: initial;"><div class="bbCodeBlock-title" style="box-sizing: border-box; padding: 8px 15px; font-size: 13px; color: rgb(107, 166, 94); background: rgb(45, 45, 45);">Python:</div><div class="bbCodeBlock-content" dir="ltr" style="box-sizing: border-box; position: relative; padding: 8px 15px; background-color: rgb(45, 45, 45); color: rgb(233, 233, 233); max-height: 70vh; overflow: auto;"><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        exif <span class="prism-token prism-operator" style="box-sizing: border-box;">=</span> <span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span>ExifTags<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>TAGS<span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span>k<span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span> v <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">for</span> k<span class="prism-token prism-punctuation" style="box-sizing: border-box;">,</span> v <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">in</span> img<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>_getexif<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>items<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span> <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">if</span> k <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">in</span> ExifTags<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>TAGS<span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; background-color:#eff0f1; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">print</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-string-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">f'\n[+] Метаданные фото: </span><span class="prism-token prism-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span>os<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>path<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>split<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span>path_f<span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span><span class="prism-token prism-number" style="box-sizing: border-box; color: rgb(174, 129, 255);">1</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span><span class="prism-token prism-format-spec" style="box-sizing: border-box;">27</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">\n'</span></span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">for</span> info <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">in</span> exif<span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">if</span> info <span class="prism-token prism-operator" style="box-sizing: border-box;">==</span> <span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">'GPSInfo'</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">print</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-string-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">f'</span><span class="prism-token prism-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span>info<span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span><span class="prism-token prism-format-spec" style="box-sizing: border-box;">27</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">: lat </span><span class="prism-token prism-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span>exif<span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span>info<span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span><span class="prism-token prism-number" style="box-sizing: border-box; color: rgb(174, 129, 255);">2</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);"> </span><span class="prism-token prism-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span>exif<span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span>info<span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span><span class="prism-token prism-number" style="box-sizing: border-box; color: rgb(174, 129, 255);">1</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);"> - long </span><span class="prism-token prism-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span>exif<span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span>info<span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span><span class="prism-token prism-number" style="box-sizing: border-box; color: rgb(174, 129, 255);">4</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);"> </span><span class="prism-token prism-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span>exif<span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span>info<span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span><span class="prism-token prism-number" style="box-sizing: border-box; color: rgb(174, 129, 255);">3</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">'</span></span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">else</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">if</span> <span class="prism-token prism-builtin" style="box-sizing: border-box; color: rgb(166, 226, 46);">isinstance</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span>exif<span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span>info<span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">,</span> <span class="prism-token prism-builtin" style="box-sizing: border-box; color: rgb(166, 226, 46);">bytes</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                    info_d <span class="prism-token prism-operator" style="box-sizing: border-box;">=</span> exif<span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span>info<span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>decode<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                    <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">print</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-string-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">f'</span><span class="prism-token prism-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span>info<span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span><span class="prism-token prism-format-spec" style="box-sizing: border-box;">25</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">: </span><span class="prism-token prism-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span>info_d<span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">'</span></span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">else</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                    <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">print</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-string-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">f'</span><span class="prism-token prism-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span>info<span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span><span class="prism-token prism-format-spec" style="box-sizing: border-box;">25</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">: </span><span class="prism-token prism-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span>exif<span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span>info<span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">'</span></span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></div></div><br style="box-sizing: border-box;">Как вы помните, в изображении тегов может и не содержаться. Поэтому будет вызвано исключение AttributeError. Но, в самом начале функции мы создавали словарь с базовыми параметрами изображения. Вот их и выведем в случае, когда сработает исключение и метаданных в изображении найдено не будет. Поэтому, оборачиваем код в try — except и когда сработает исключение пробегаемся в цикле по созданному ранее словарику из которого извлекаем значения и выводим на печать.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code" style="box-sizing: border-box; display: flow-root; margin: 0.5em 0px; background: rgb(50, 50, 50); border-width: 1px 1px 1px 2px; border-style: solid; border-color: rgba(170, 170, 170, 0.3) rgba(170, 170, 170, 0.3) rgba(170, 170, 170, 0.3) rgb(52, 151, 219); border-image: initial;"><div class="bbCodeBlock-title" style="box-sizing: border-box; padding: 8px 15px; font-size: 13px; color: rgb(107, 166, 94); background: rgb(45, 45, 45);">Python:</div><div class="bbCodeBlock-content" dir="ltr" style="box-sizing: border-box; position: relative; padding: 8px 15px; background-color: rgb(45, 45, 45); color: rgb(233, 233, 233); max-height: 70vh; overflow: auto;"><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">print</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-string-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">f'\n[+] Информация о фото: </span><span class="prism-token prism-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span>os<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>path<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>split<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span>path_f<span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span><span class="prism-token prism-number" style="box-sizing: border-box; color: rgb(174, 129, 255);">1</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span><span class="prism-token prism-format-spec" style="box-sizing: border-box;">27</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">\n'</span></span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">for</span> k<span class="prism-token prism-punctuation" style="box-sizing: border-box;">,</span> v <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">in</span> info_dict<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>items<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">print</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-string-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">f"</span><span class="prism-token prism-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span>k<span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span><span class="prism-token prism-format-spec" style="box-sizing: border-box;">27</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">: </span><span class="prism-token prism-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span>v<span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">"</span></span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        exit<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-number" style="box-sizing: border-box; color: rgb(174, 129, 255);">0</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></div></div><br style="box-sizing: border-box;"><div class="bbCodeSpoiler" style="box-sizing: border-box; margin: 0.5em 0px;"><button type="button" class="bbCodeSpoiler-button button--longText button rippleButton" data-xf-click="toggle" data-xf-init="tooltip" data-original-title="Нажмите для открытия/закрытия спойлера" id="js-XFUniqueId9" style="box-sizing: content-box; overflow: hidden; font-family: &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Helvetica, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, sans-serif; font-size: 14px; line-height: 36px; margin: 0px; text-transform: none; appearance: button; cursor: pointer; align-items: center; justify-content: center; white-space: nowrap; padding: 0px 10px; text-align: center; outline: none; height: 36px; text-decoration: none; display: inline-block; font-weight: 500; will-change: box-shadow; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1) 0s; border-radius: 2px; box-shadow: rgba(0, 0, 0, 0.1) 0px -2px 0px inset; color: rgb(141, 141, 141); background: rgb(45, 45, 45); border: 1px solid rgb(65, 65, 65); position: relative; overflow-wrap: normal; text-overflow: ellipsis; max-width: 100%;"><span class="button-text" style="box-sizing: border-box; display: inline-flex; align-items: center; border-right: 1px solid transparent;"><span class="bbCodeSpoiler-button-title" style="box-sizing: border-box;">Полные код функции извлечения метаданных из изображения</span></span></button></div><br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><b style="box-sizing: border-box; font-weight: 600;"><span style="box-sizing: border-box; color: rgb(0, 168, 133);">Извлекаем метаданные из видео и аудио</span></b><br style="box-sizing: border-box;"><br style="box-sizing: border-box;">Для извлечения метаданных из аудио и видео воспользуемся библиотекой для работы с медиафайлами ffmpeg. Конечно же, функционал данной библиотеки гораздо больше, чем просто извлечение метаданных. Но, нам требуется далеко не все, а потому, если вы желаете чуть более подробно познакомиться с данной библиотекой, можете начать вот с этой<span> </span><a target="_blank" href="https://codeby.net/goto/link-confirmation?url=aHR0cHM6Ly9oYWJyLmNvbS9ydS9jb21wYW55L2VkaXNvbi9ibG9nLzQ5NTYxNC8%3D&amp;s=d0ae62b0fef6f5d15a5b999c0c42ee5c" class="link link--internal" data-proxy-href="/proxy.php?link=%2Fgoto%2Flink-confirmation%3Furl%3DaHR0cHM6Ly9oYWJyLmNvbS9ydS9jb21wYW55L2VkaXNvbi9ibG9nLzQ5NTYxNC8%253D%26s%3Dd0ae62b0fef6f5d15a5b999c0c42ee5c&amp;hash=f8a4a7def19330d33407640b3b69b77b" style="box-sizing: border-box; background-color: transparent; color: rgb(56, 133, 187); text-decoration: none;">статьи</a>.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;">Двигаемся дальше. Для того, чтобы работать с данной библиотекой в скрипте, нужно ее для начала установить. Если вы используете Linux, просто наберите команду:<br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><code class="bbCodeInline" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Roboto Mono&quot;, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-size: 13.5px; margin: 0px; background: rgb(50, 50, 50); border: 1px solid rgb(76, 76, 76); border-radius: 2px; padding: 1px 4px; line-height: 1.4; -webkit-box-decoration-break: clone; white-space: pre-wrap;">sudo apt-get install ffmpeg</code><br style="box-sizing: border-box;"><br style="box-sizing: border-box;">Если же вам нужно установить данную библиотеку на Windows, перейдите на эту<span> </span><a target="_blank" href="https://codeby.net/goto/link-confirmation?url=aHR0cHM6Ly93d3cuZmZtcGVnLm9yZy9kb3dubG9hZC5odG1s&amp;s=5a315ee9681f7809bfad9e0dd63fd953" class="link link--internal" data-proxy-href="/proxy.php?link=%2Fgoto%2Flink-confirmation%3Furl%3DaHR0cHM6Ly93d3cuZmZtcGVnLm9yZy9kb3dubG9hZC5odG1s%26s%3D5a315ee9681f7809bfad9e0dd63fd953&amp;hash=ae0dcf1c69266b0bf7b27e43150c27f3" style="box-sizing: border-box; background-color: transparent; color: rgb(56, 133, 187); text-decoration: none;">страницу</a>, скачайте и установите файл.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;">После того, как данная библиотека будет установлена в вашу операционную систему, нужно установить модуль обертку, с помощью которого мы и будем работать с ffmpeg. На самом деле, модулей для работы с ffmpeg очень много. Но мы воспользуемся ffmpeg-python. Если вы читали статью с самого начала, то он у вас уже будет установлен. Если же нет, то наберите в терминале:<br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><code class="bbCodeInline" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Roboto Mono&quot;, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-size: 13.5px; margin: 0px; background: rgb(50, 50, 50); border: 1px solid rgb(76, 76, 76); border-radius: 2px; padding: 1px 4px; line-height: 1.4; -webkit-box-decoration-break: clone; white-space: pre-wrap;">pip install ffmpeg-python</code><br style="box-sizing: border-box;"><br style="box-sizing: border-box;">Теперь создадим функцию для работы с файлами. Я назвал ее vid_aud_matadata(patn_f). На вход она принимает путь к файлу. После пытается считать метаданные. И если это удается, с помощью pprint мы выводим данные на печать в необработанном виде. А именно, в формате json. При желании вы можете написать функцию, которая будет сохранять данные значения в файл json.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code" style="box-sizing: border-box; display: flow-root; margin: 0.5em 0px; background: rgb(50, 50, 50); border-width: 1px 1px 1px 2px; border-style: solid; border-color: rgba(170, 170, 170, 0.3) rgba(170, 170, 170, 0.3) rgba(170, 170, 170, 0.3) rgb(52, 151, 219); border-image: initial;"><div class="bbCodeBlock-title" style="box-sizing: border-box; padding: 8px 15px; font-size: 13px; color: rgb(107, 166, 94); background: rgb(45, 45, 45);">Python:</div><div class="bbCodeBlock-content" dir="ltr" style="box-sizing: border-box; position: relative; padding: 8px 15px; background-color: rgb(45, 45, 45); color: rgb(233, 233, 233); max-height: 70vh; overflow: auto;"><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">print</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-string-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">f'\n[+] Метаданные файла: </span><span class="prism-token prism-interpolation" style="box-sizing: border-box;"><span class="prism-token prism-punctuation" style="box-sizing: border-box;">{</span>os<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>path<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>split<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span>patn_f<span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span><span class="prism-token prism-operator" style="box-sizing: border-box;">-</span><span class="prism-token prism-number" style="box-sizing: border-box; color: rgb(174, 129, 255);">1</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">}</span></span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">\n'</span></span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        pprint<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span>ffmpeg<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>probe<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span>patn_f<span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">[</span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">"streams"</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">]</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></div></div><br style="box-sizing: border-box;">Обернем данный код в try — except, чтобы обработать исключение, если на входе функции будет файл, метаданные которого не получиться прочитать с помощью данной библиотеке. В исключение мы просто добавим сообщение, что данный формат файлов не поддерживается.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><div class="bbCodeSpoiler" style="box-sizing: border-box; margin: 0.5em 0px;"><button type="button" class="bbCodeSpoiler-button button--longText button rippleButton" data-xf-click="toggle" data-xf-init="tooltip" data-original-title="Нажмите для открытия/закрытия спойлера" id="js-XFUniqueId10" style="box-sizing: content-box; overflow: hidden; font-family: &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Helvetica, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, sans-serif; font-size: 14px; line-height: 36px; margin: 0px; text-transform: none; appearance: button; cursor: pointer; align-items: center; justify-content: center; white-space: nowrap; padding: 0px 10px; text-align: center; outline: none; height: 36px; text-decoration: none; display: inline-block; font-weight: 500; will-change: box-shadow; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1) 0s; border-radius: 2px; box-shadow: rgba(0, 0, 0, 0.1) 0px -2px 0px inset; color: rgb(141, 141, 141); background: rgb(45, 45, 45); border: 1px solid rgb(65, 65, 65); position: relative; overflow-wrap: normal; text-overflow: ellipsis; max-width: 100%;"><span class="button-text" style="box-sizing: border-box; display: inline-flex; align-items: center; border-right: 1px solid transparent;"><span class="bbCodeSpoiler-button-title" style="box-sizing: border-box;">Код функции извлечения метаданных аудио — видео</span></span></button></div><br style="box-sizing: border-box;">Как видите, извлечение метаданных из изображений, аудио или видео, не такое уж сложное занятие. С помощью данного скрипта можно извлечь метаданные из изображения, если они в нем содержаться, а также метаданные из видео и аудио файлов.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><b style="box-sizing: border-box; font-weight: 600;"><span style="box-sizing: border-box; color: rgb(0, 168, 133);">Функция обработки пользовательского ввода</span></b><br style="box-sizing: border-box;"><br style="box-sizing: border-box;">Ну и теперь, когда функции для извлечения метаданных у нас уже созданы, напишем функцию для обработки пользовательского ввода. Для начала будем запрашивать путь к медиафайлу. Проверяем, существует ли данный файл. Если файл не существует, сообщаем об этом пользователю. Если же он существует, проверяем его расширение. И если расширение равно «.jpg» или «.jpeg» вызываем функцию извлечения метаданных из изображения, в которую передаем путь к файлу. Если же расширение не является изображением нужного нам формата, вызываем функцию обработки аудио и видео файлов, куда также передаем путь к файлу.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code" style="box-sizing: border-box; display: flow-root; margin: 0.5em 0px; background: rgb(50, 50, 50); border-width: 1px 1px 1px 2px; border-style: solid; border-color: rgba(170, 170, 170, 0.3) rgba(170, 170, 170, 0.3) rgba(170, 170, 170, 0.3) rgb(52, 151, 219); border-image: initial;"><div class="bbCodeBlock-title" style="box-sizing: border-box; padding: 8px 15px; font-size: 13px; color: rgb(107, 166, 94); background: rgb(45, 45, 45);">Python:</div><div class="bbCodeBlock-content" dir="ltr" style="box-sizing: border-box; position: relative; padding: 8px 15px; background-color: rgb(45, 45, 45); color: rgb(233, 233, 233); max-height: 70vh; overflow: auto;"><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">if</span> __name__ <span class="prism-token prism-operator" style="box-sizing: border-box;">==</span> <span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">"__main__"</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    path_file <span class="prism-token prism-operator" style="box-sizing: border-box;">=</span> <span class="prism-token prism-builtin" style="box-sizing: border-box; color: rgb(166, 226, 46);">input</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">'[~] Введите путь к файлу: '</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">if</span> <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">not</span> os<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>path<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>exists<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span>path_file<span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">print</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">'[-] Файла не существует'</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">else</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">if</span> path_file<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>endswith<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">".jpg"</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            image_metadata<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span>path_file<span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">elif</span> path_file<span class="prism-token prism-punctuation" style="box-sizing: border-box;">.</span>endswith<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span><span class="prism-token prism-string" style="box-sizing: border-box; color: rgb(166, 226, 46);">".jpeg"</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            image_metadata<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span>path_file<span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span class="prism-token prism-keyword" style="box-sizing: border-box; color: rgb(230, 219, 116);">else</span><span class="prism-token prism-punctuation" style="box-sizing: border-box;">:</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            vid_aud_matadata<span class="prism-token prism-punctuation" style="box-sizing: border-box;">(</span>path_file<span class="prism-token prism-punctuation" style="box-sizing: border-box;">)</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></div></div><br style="box-sizing: border-box;">Как вы помните, ffmpeg может извлечь метаданные из файлов множества медиаформатов. И если к нему попадет картинка в формате «png», то метаданные из нее будут извлечены и выведены на экран. Тут смысл в том, что в основном, метаданные, такие как координаты, сведения о камере и прочее содержаться в основном в формате «jpg». Хотя, исключать их наличие в других форматах не совсем правильно.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;">Вот, для примера, метаданные, которые получены из фото, которое я сделал на телефон, предварительно включив перед этим геоданные.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><div class="bbCodeSpoiler" style="box-sizing: border-box; margin: 0.5em 0px;"><button type="button" class="bbCodeSpoiler-button button--longText button rippleButton" data-xf-click="toggle" data-xf-init="tooltip" data-original-title="Нажмите для открытия/закрытия спойлера" id="js-XFUniqueId11" style="box-sizing: content-box; overflow: hidden; font-family: &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Helvetica, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, sans-serif; font-size: 14px; line-height: 36px; margin: 0px; text-transform: none; appearance: button; cursor: pointer; align-items: center; justify-content: center; white-space: nowrap; padding: 0px 10px; text-align: center; outline: none; height: 36px; text-decoration: none; display: inline-block; font-weight: 500; will-change: box-shadow; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1) 0s; border-radius: 2px; box-shadow: rgba(0, 0, 0, 0.1) 0px -2px 0px inset; color: rgb(141, 141, 141); background: rgb(45, 45, 45); border: 1px solid rgb(65, 65, 65); position: relative; overflow-wrap: normal; text-overflow: ellipsis; max-width: 100%;"><span class="button-text" style="box-sizing: border-box; display: inline-flex; align-items: center; border-right: 1px solid transparent;"><span class="bbCodeSpoiler-button-title" style="box-sizing: border-box;">Метаданные из фото</span></span></button></div><br style="box-sizing: border-box;">А это небольшая часть метаданных из видео, которое скачано из YouTube.<br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><div class="bbCodeSpoiler" style="box-sizing: border-box; margin: 0.5em 0px;"><button type="button" class="bbCodeSpoiler-button button--longText button rippleButton" data-xf-click="toggle" data-xf-init="tooltip" data-original-title="Нажмите для открытия/закрытия спойлера" id="js-XFUniqueId12" style="box-sizing: content-box; overflow: hidden; font-family: &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Helvetica, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, sans-serif; font-size: 14px; line-height: 36px; margin: 0px; text-transform: none; appearance: button; cursor: pointer; align-items: center; justify-content: center; white-space: nowrap; padding: 0px 10px; text-align: center; outline: none; height: 36px; text-decoration: none; display: inline-block; font-weight: 500; will-change: box-shadow; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1) 0s; border-radius: 2px; box-shadow: rgba(0, 0, 0, 0.1) 0px -2px 0px inset; color: rgb(141, 141, 141); background: rgb(45, 45, 45); border: 1px solid rgb(65, 65, 65); position: relative; overflow-wrap: normal; text-overflow: ellipsis; max-width: 100%;"><span class="button-text" style="box-sizing: border-box; display: inline-flex; align-items: center; border-right: 1px solid transparent;"><span class="bbCodeSpoiler-button-title" style="box-sizing: border-box;">Метаданные из видео</span></span></button></div><br style="box-sizing: border-box;"><div class="bbCodeSpoiler" style="box-sizing: border-box; margin: 0.5em 0px;"><button type="button" class="bbCodeSpoiler-button button--longText button rippleButton" data-xf-click="toggle" data-xf-init="tooltip" data-original-title="Нажмите для открытия/закрытия спойлера" id="js-XFUniqueId13" style="box-sizing: content-box; overflow: hidden; font-family: &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Helvetica, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, sans-serif; font-size: 14px; line-height: 36px; margin: 0px; text-transform: none; appearance: button; cursor: pointer; align-items: center; justify-content: center; white-space: nowrap; padding: 0px 10px; text-align: center; outline: none; height: 36px; text-decoration: none; display: inline-block; font-weight: 500; will-change: box-shadow; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1) 0s; border-radius: 2px; box-shadow: rgba(0, 0, 0, 0.1) 0px -2px 0px inset; color: rgb(141, 141, 141); background: rgb(45, 45, 45); border: 1px solid rgb(65, 65, 65); position: relative; overflow-wrap: normal; text-overflow: ellipsis; max-width: 100%;"><span class="button-text" style="box-sizing: border-box; display: inline-flex; align-items: center; border-right: 1px solid transparent;"><span class="bbCodeSpoiler-button-title" style="box-sizing: border-box;">Полный код скрипта для извлечения метаданных</span></span></button></div><br style="box-sizing: border-box;"><b style="box-sizing: border-box; font-weight: 600;">Спасибо за внимание. Надеюсь, что данная информация будет вам полезна</b></div></div></article></div></div></div></div></div></div></div></article></div></div></div><!--EndFragment-->
</body>
</html></body></html>