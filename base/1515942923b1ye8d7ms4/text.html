<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt; font-weight:600;">14. Редактирование интерактивного ввода и подстановка истории </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="aswift_0_expand"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt;">Н</span><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt;">екоторые версии интерпретатора Python поддерживают редактирование текущей строки ввода и замещение истории, что похоже на возможности, обнаруживаемые в оболочках Korn и GNU Bash. Это реализуется с помощью библиотеки </span><a href="https://tiswww.case.edu/php/chet/readline/rltop.html"><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt; text-decoration: underline; color:#0000ff;">GNU Readline</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt;">, которая поддерживает различные стили редактирования. Эта библиотека имеет ее собственную документацию, которую мы не будем здесь дублировать. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt; font-weight:600;">14.1. Завершение по табуляции и редактирование истории</span><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt;">Завершение имен переменной и модуля автоматически доступно (docs.python.org/3/library/site.html#rlcompleter-config), исходя из начальной идеи интерпретатора, так что клавиша Tab запускает функцию завершения. Она просматривает операторы имен, текущие локальные переменные и доступные имена модулей. Для выражений с точкой, таких как </span><span style=" font-family:'Courier New,courier'; font-size:9pt;">string.a</span><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt;">, она будет оценивать выражение до финальной точки </span><span style=" font-family:'Courier New,courier'; font-size:9pt;">'.'</span><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt;"> и затем предлагать завершения из атрибутов результирующего объекта. Заметьте, что это может выполнить определенный приложением код, если объект с методом __getattr__() (docs.python.org/3/reference/datamodel.html#object.__getattr__) является частью выражения. По умолчанию конфигурация также сохраняет вашу историю в файле с именем .python_history в вашей пользовательской директории. История будет доступна снова во время следующей интерактивной сессии интерпретатора. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt; font-weight:600;">14.2. Альтернативы интерактивного интерпретатора</span><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt;">Эта возможность есть огромный шаг вперед по-сравнению с ранними версиями интерпретатора; однако, некоторые желания оставлены: было бы прекрасно, если бы правильный отступ был предложен на следующих строках (парсер знает, требуется ли отступ). Механизм завершения мог бы использовать символьную таблицу интерпретатора. Команда проверки (или даже предложения) согласования скобок, кавычек и др. могла бы быть также полезной. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt;">Один альтернативный расширенный интерактивный интерпретатор, который существует давно, есть </span><a href="https://ipython.org/"><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt; text-decoration: underline; color:#0000ff;">IPython</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt;">, включающий tab-завершение, выявление объектов и продвинутое управление историей. Также он может быть тщательно настроен и встроен в другие приложения. Другое похожее расширенное интерактивное окружение - это </span><a href="http://www.bpython-interpreter.org/"><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt; text-decoration: underline; color:#0000ff;">bpython</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt;">.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt; font-weight:600;">Создано</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:9pt;">2017-06-25 </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:9pt;"><br /></p></body></html>