<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="question-header"></a><a href="https://translated.turbopages.org/proxy_u/en-ru.ru.734d406f-6666bf8a-61e82593-74722d776562/https/stackoverflow.com/questions/48641632/extracting-specific-columns-from-pandas-dataframe"><span style=" font-size:xx-large; font-weight:600; text-decoration: underline; color:#0000ff;">И</span></a><span style=" font-size:xx-large; font-weight:600; text-decoration: underline; color:#0000ff;">звлечение определенных столбцов из pandas.dataframe</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Я пытаюсь использовать python для чтения моего csv-файла, извлечения определенных столбцов в <span style=" font-family:'Courier New';">pandas.dataframe</span> и отображения этого фрейма данных. Однако я не вижу фрейм данных, я получаю Series ([], dtype: object) в качестве выходных данных. Ниже приведен код, с которым я работаю: Мой документ состоит из: product sub_product issue sub_issue consumer_complaint_narrative<br />company_public_response состояние компании теги почтового индекса состояния<br />consumer_consent_provided submitted_via date_sent_to_company<br />company_response_to_consumer timely_response consumer_disputed?<br />complaint_id</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Я хочу извлечь: sub_product issue sub_issue consumer_complaint_narrative</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas';">import pandas as pd</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; background-color:#eff0f1;">df=pd.read_csv(</span><span style=" font-family:'Consolas';">&quot;C:\\....\\consumer_complaints.csv&quot;)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; background-color:#eff0f1;">df=df.stack(level=</span><span style=" font-family:'Consolas';">0)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; background-color:#eff0f1;">df2 = df.</span><span style=" font-family:'Consolas';">filter(regex='[B-F]')</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; background-color:#eff0f1;">df[df2]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="comments-48641632"></a>Когда вы извлекаете только один столбец, который автоматически становится <span style=" font-family:'Courier New';">series</span>, вы хотите принудительно превратить его в dataframe? </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;">–<a href="https://translated.turbopages.org/proxy_u/en-ru.ru.734d406f-6666bf8a-61e82593-74722d776562/https/stackoverflow.com/users/5086335/amrrs"><span style=" text-decoration: underline; color:#0000ff;">amrrs</span></a> <a href="https://stackoverflow.com/questions/48641632/extracting-specific-columns-from-pandas-dataframe#comment84279739_48641632"><span style=" text-decoration: underline; color:#0000ff;">6 февраля 2018 г. в 11:12</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="comment-84279899"></a>да, хочу сделать это dataframe со столбцами от B до F </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;">–<a href="https://translated.turbopages.org/proxy_u/en-ru.ru.734d406f-6666bf8a-61e82593-74722d776562/https/stackoverflow.com/users/8495092/yags"><span style=" text-decoration: underline; color:#0000ff;">Yags</span></a> <a href="https://stackoverflow.com/questions/48641632/extracting-specific-columns-from-pandas-dataframe#comment84279899_48641632"><span style=" text-decoration: underline; color:#0000ff;">6 февраля 2018 г. в 11:16</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="comment-84279945"></a>Вы можете просто использовать это следующим образом: <span style=" font-family:'Courier New';">df2 = df[['b','c','d','e','f']]</span> почему вы используете регулярное выражение? </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;">–<a href="https://translated.turbopages.org/proxy_u/en-ru.ru.734d406f-6666bf8a-61e82593-74722d776562/https/stackoverflow.com/users/5086335/amrrs"><span style=" text-decoration: underline; color:#0000ff;">amrrs</span></a> <a href="https://stackoverflow.com/questions/48641632/extracting-specific-columns-from-pandas-dataframe#comment84279945_48641632"><span style=" text-decoration: underline; color:#0000ff;">6 февраля 2018 г. в 11:18</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="comment-84280067"></a>он по-прежнему выдает Series ([], dtype: object) в качестве выходных данных </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;">–<a href="https://translated.turbopages.org/proxy_u/en-ru.ru.734d406f-6666bf8a-61e82593-74722d776562/https/stackoverflow.com/users/8495092/yags"><span style=" text-decoration: underline; color:#0000ff;">Yags</span></a> <a href="https://stackoverflow.com/questions/48641632/extracting-specific-columns-from-pandas-dataframe#comment84280067_48641632"><span style=" text-decoration: underline; color:#0000ff;">6 февраля 2018 г. в 11:21</span></a></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style="" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="comment-84280145"></a>1</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;">но лучше всего добавить несколько примеров данных для ответа, пожалуйста, проверьте, <a href="https://translated.turbopages.org/proxy_u/en-ru.ru.734d406f-6666bf8a-61e82593-74722d776562/stackoverflow.com/questions/20109391/how-to-make-good-reproducible-pandas-examples"><span style=" text-decoration: underline; color:#0000ff;">как предоставить отличный пример pandas</span></a> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;">–<a href="https://translated.turbopages.org/proxy_u/en-ru.ru.734d406f-6666bf8a-61e82593-74722d776562/https/stackoverflow.com/users/2901002/jezrael"><span style=" text-decoration: underline; color:#0000ff;">израэль</span></a> <a href="https://stackoverflow.com/questions/48641632/extracting-specific-columns-from-pandas-dataframe#comment84280145_48641632"><span style=" text-decoration: underline; color:#0000ff;">6 февраля 2018 г. в 11:23</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="comments-link-48641632"></a><a href="https://translated.turbopages.org/proxy_u/en-ru.ru.734d406f-6666bf8a-61e82593-74722d776562/https/stackoverflow.com/questions/48641632/extracting-specific-columns-from-pandas-dataframe"><span style=" text-decoration: underline; color:#0000ff;">П</span></a><span style=" text-decoration: underline; color:#0000ff;">оказать</span><a href="https://translated.turbopages.org/proxy_u/en-ru.ru.734d406f-6666bf8a-61e82593-74722d776562/https/stackoverflow.com/questions/48641632/extracting-specific-columns-from-pandas-dataframe"><span style=" text-decoration: underline; color:#0000ff;"> </span></a><a href="https://translated.turbopages.org/proxy_u/en-ru.ru.734d406f-6666bf8a-61e82593-74722d776562/https/stackoverflow.com/questions/48641632/extracting-specific-columns-from-pandas-dataframe"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">2</span></a><a href="https://translated.turbopages.org/proxy_u/en-ru.ru.734d406f-6666bf8a-61e82593-74722d776562/https/stackoverflow.com/questions/48641632/extracting-specific-columns-from-pandas-dataframe"><span style=" text-decoration: underline; color:#0000ff;"> дополнительные комментарии</span></a></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="answers"></a><span style=" font-size:x-large; font-weight:600;">3</span><span style=" font-size:x-large; font-weight:600;"> Ответа</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Отсортировано по:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="answer-sort-dropdown-select-menu"></a>                                              Highest score (default)                                                                   Trending (recent votes count more)                                                                   Date modified (newest first)                                                                   Date created (oldest first)                              </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="answer-48641912"></a>62</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas';">import pandas as pd</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; background-color:#eff0f1;">input_file = </span><span style=" font-family:'Consolas';">&quot;C:\\....\\consumer_complaints.csv&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; background-color:#eff0f1;">dataset = pd.read_csv(input_file)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; background-color:#eff0f1;">df = pd.DataFrame(dataset)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; background-color:#eff0f1;">cols = [</span><span style=" font-family:'Consolas';">1,2,3,4]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; background-color:#eff0f1;">df = df[df.columns[cols]]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Здесь укажите номера столбцов, которые вы хотите выбрать. В dataframe столбец начинается с index = 0</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; background-color:#eff0f1;">cols = []</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00aa00;">Вы также можете выбрать столбец по имени. Просто используйте следующую строку</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; background-color:#eff0f1;">df = df[[</span><span style=" font-family:'Consolas';">&quot;Column Name&quot;,&quot;Column Name2&quot;]]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://translated.turbopages.org/proxy_u/en-ru.ru.734d406f-6666bf8a-61e82593-74722d776562/https/stackoverflow.com/a/48641912"><span style=" text-decoration: underline; color:#0000ff;">Поделиться</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://translated.turbopages.org/proxy_u/en-ru.ru.734d406f-6666bf8a-61e82593-74722d776562/https/stackoverflow.com/posts/48641912/edit"><span style=" text-decoration: underline; color:#0000ff;">Улучшите эт</span></a></p></body></html>