<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16pt; font-weight:600;">Распаковка файлов из архивов zip или tar.gz с помощью Python</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://pythonist.ru/category/modules/"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; font-weight:600; text-decoration: underline; color:#03c4eb; background-color:transparent; text-transform:uppercase;">МОДУЛИ</span></a><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#777777; text-transform:uppercase;">ОТМЕЧЕНО </span><a href="https://pythonist.ru/tag/primary/"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; font-weight:600; text-decoration: underline; color:#03c4eb; background-color:transparent; text-transform:uppercase;">PRIMARY</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">Перевод статьи </span><a href="https://blog.softhints.com/read-unzip-file-from-zip-tar-gz-python/"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; text-decoration: underline; color:#03c4eb; background-color:transparent;">Read/unzip File(s) from Zip Or Tar.gz With Python</span></a><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;"> от </span><a href="https://blog.softhints.com/author/john/"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; text-decoration: underline; color:#03c4eb; background-color:transparent;">John D K</span></a><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px; font-size:8.25pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">Из этой статьи вы узнаете, как распаковать один или несколько архивов zip и tar.gz и получить информацию о них средствами языка Python. Мы рассмотрим извлечение одного или нескольких файлов из архива.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14pt; font-weight:600;">Шаг 1: получить информацию из архива zip или tar.gz</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">Сперва мы просмотрим содержимое zip-файла с помощью этого фрагмента кода:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">from</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> zipfile </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">import</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> ZipFile</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">zipfile = </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">'file.zip'</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">z = </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">ZipFile</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">(</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">zipfile</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">z.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">infolist</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">Результат:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">[&lt;ZipInfo filename='file/pandas-dataframe-background-color-based-condition-value-python.png' compress_type=deflate external_attr=0x20 file_size=32152 compress_size=31441&gt;,</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> &lt;ZipInfo filename='file/text1.txt.txt' external_attr=0x20 file_size=0&gt;]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">Таким образом мы сможем узнать размеры и имена двух файлов:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;" style=" margin-top:20px; margin-bottom:6px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">pandas-dataframe-background-color-based-condition-value-python.png</span></li>
<li style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;" style=" margin-top:8px; margin-bottom:20px; margin-left:69px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">text1.txt</span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14pt; font-weight:600;">Шаг 2: перечислить и прочитать все файлы из архива</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">Теперь мы можем получить список всех файлов в архиве:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">from</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> zipfile </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">import</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> ZipFile</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">archive = </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">'file.zip'</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">zip_file = </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">ZipFile</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">(</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">archive</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">[</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">text_file.filename </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">for</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> text_file </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">in</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> zip_file.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">infolist</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">()</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">]</span></p>
<p align="center" style=" margin-top:20px; margin-bottom:0px; margin-left:72px; margin-right:72px; -qt-block-indent:0; text-indent:0px;"><a name="wrap_2301"></a><span style=" font-family:'YS Text Variable,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:rgba(87,92,102,0.8); background-color:rgba(255,255,255,0.8); text-transform:uppercase;">Р</span><span style=" font-family:'YS Text Variable,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:rgba(87,92,102,0.8); background-color:rgba(255,255,255,0.8); text-transform:uppercase;">ЕКЛАМА</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">Результат:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">[</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">'pandas-dataframe-background-color-based-condition-value-python.png'</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">,</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">'text1.txt'</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">Если вам нужно отсортировать файлы – например, получить только json – или прочитать их в формате датафреймов Pandas, можно сделать это следующим образом:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">from</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> zipfile </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">import</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> ZipFile</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">archive = </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">'file.zip'</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">zip_file = </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">ZipFile</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">(</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">archive</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">dfs = </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">{</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">text_file.filename: pd.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">read_csv</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">(</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">zip_file.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">open</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">(</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">text_file.filename</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">       </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">for</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> text_file </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">in</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> zip_file.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">infolist</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">       </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">if</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> text_file.filename.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">endswith</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">(</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">'.json'</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">)}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">dfs</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:8.25pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14pt; font-weight:600;">Шаг 3: извлечь файлы из zip-архива</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">Пакет </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:8.25pt; color:#bd4147; background-color:#e9e9e9;">zipfile</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">  можно использовать для извлечения файлов из zip-архивов. Базовый пример:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">import</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> zipfile</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">archive = </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">'file.zip'</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">with</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> zipfile.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">ZipFile</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">(</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">archive, </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">'r'</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">)</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">as</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> zip_file:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">    zip_file.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">extractall</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">(</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">directory_to_extract_to</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:8.25pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14pt; font-weight:600;">Шаг 4: извлечь файлы из tar/tar.gz</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">Чтобы извлечь файлы из архивов </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:8.25pt; color:#bd4147; background-color:#e9e9e9;">tar/tar.gz</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">, можно воспользоваться кодом, приведенным ниже. Он использует модуль </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:8.25pt; color:#bd4147; background-color:#e9e9e9;">tarfile</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">и разделяет эти два типа, чтобы применить подходящий режим распаковки:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">import</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> tarfile</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">zipfile = </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">'file.zip'</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">if</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> zipfile.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">endswith</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">(</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">&quot;tar.gz&quot;</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">)</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">    tar = tarfile.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">open</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">(</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">zipfile, </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">&quot;r:gz&quot;</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">elif</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> zipfile.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">endswith</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">(</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">&quot;tar&quot;</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">)</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">    tar = tarfile.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">open</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">(</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">zipfile, </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">&quot;r:&quot;</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">tar.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">extractall</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">tar.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">close</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#242424;">Примечание:</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;"> все файлы из архива будут распакованы в текущей для данного скрипта рабочей директории.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:8.25pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14pt; font-weight:600;">Шаг 5: извлечь один файл из архива</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">Если вам нужно получить только один файл из архива, можно использовать метод</span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:8.25pt; color:#bd4147; background-color:#e9e9e9;">zipObject.extract(fileName, 'temp_py')</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">. Простой пример:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">import</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> zipfile</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">archive = </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">'file.zip'</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">with</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> zipfile.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">ZipFile</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">(</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">archive, </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">'r'</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">)</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#286491;">as</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;"> zip_file:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">    zip_file.</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#0086b3;">extract</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">(</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">'text1.txt'</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#2f3235;">, </span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#dd1144;">'.'</span><span style=" font-family:'inherit'; font-size:8.25pt; font-weight:696; color:#777777;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">В этом примере мы извлечём файл </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:8.25pt; color:#bd4147; background-color:#e9e9e9;">'text1.txt'</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;"> в текущую рабочую директорию. Если вам нужно извлечь файл в другую директорию, можете изменить второй параметр — </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:8.25pt; color:#bd4147; background-color:#e9e9e9;">'.'</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:8.25pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Заключение</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;">В этом уроке мы выяснили, как с помощью Python извлечь один или несколько файлов из различных архивов, а также — как вывести список запакованных файлов и получить из них информацию. Мы затронули работу с двумя пакетами: </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:8.25pt; color:#bd4147; background-color:#e9e9e9;">zipfile</span><span style=" font-family:'-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif'; font-size:8.25pt; color:#242424;"> и </span><span style=" font-family:'Monaco,Consolas,Andale Mono,DejaVu Sans Mono,monospace'; font-size:8.25pt; color:#bd4147; background-color:#e9e9e9;">tarfile.</span></p></body></html>