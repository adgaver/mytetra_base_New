<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-weight:400; font-style:normal; "  bgcolor="#ffffff">
Version:0.9
StartHTML:0000000157
EndHTML:0000082622
StartFragment:0000000193
EndFragment:0000082586
SourceURL:https://tokmakov.msk.ru/articles/item/18
<html>
<body>
<!--StartFragment--><h1 style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; color: rgb(83, 144, 204); font-weight: normal; font-size: 25px; font-family: Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Урок 4. Использование метасимволов</h1><div id="article-item" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(50, 50, 50); font-family: Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; overflow: hidden;"><p style="margin: 0px; padding: 0px; max-height: 1e+06px; font-size: 12px; color: rgb(150, 150, 150); width: 485px; float: left;">29.03.2018</p><p style="margin: 0px; padding: 0px; max-height: 1e+06px; font-size: 12px; color: rgb(150, 150, 150); width: 485px; float: right; text-align: right;">Категория:<span> </span><a href="https://tokmakov.msk.ru/articles/category/15" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(83, 144, 204); text-decoration: none; font-size: 12px;">Регулярные выражения</a></p></div><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Метасимволы были введены в уроке 2, «Поиск отдельных символов». В этом уроке вы узнаете о дополнительных метасимволах, используемых для указания соответствия с определенными символами или типами символов.</p><h2 style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; color: rgb(83, 144, 204); font-weight: normal; font-size: 21px;">Символ \: новые встречи со старым знакомым</h2><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Перед глубоким погружением в мир метасимволов важно понять назначение символа<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\</code>.</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Метасимволы — символы, которые имеют специальное значение в регулярных выражениях. Точка . является метасимволом, который соответствует любому отдельному символу (как объяснялось в уроке 2, «Поиск отдельных символов»). Точно так же левая скобка (<code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code>) — метасимвол, который отмечает начало набора (см. урок 3, «Соответствие набору символов»).</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Поскольку метасимволы имеют специальное значение в регулярных выражениях, эти символы не могут использоваться для нахождения соответствующих им литералов. Например, вы не можете использовать<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code>, чтобы найти<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code>; точно так же вы не найдете точку<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">.</code><span> </span>с помощью точки<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">.</code>. Рассмотрим следующий пример. Регулярное выражение используется, чтобы в программе на JavaScript попытаться найти выражение с массивом, содержащее<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code><span> </span>и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">]</code>:</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Текст</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">var myArray = new Array();</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">...</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">if (myArray[0] == 0) {</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">...</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">}<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Регулярное выражение</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">myArray[0]<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Результат</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">var myArray = new Array();</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">...</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">if (myArray[0] == 0) {</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">...</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">}<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">В этом примере блок текста — фрагмент кода на JavaScript. Регулярное выражение — то, что вы, вероятно, использовали бы в текстовом редакторе. Подразумевается, что оно должно было бы соответствовать буквальному тексту<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray[0]</code>, но это не так. Почему не так? В регулярном выражении метасимволы<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code><span> </span>и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">]</code><span> </span>используются для того, чтобы определить набор символов (но не сами символы<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code><span> </span>и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">]</code>), Поэтому шаблону<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray[0]</code><span> </span>соответствует текст<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray</code>, за которым следует один из членов набора, а<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">0</code><span> </span>— единственный член. Так что<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray[0]</code><span> </span>соответствует только<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray0</code>.</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Как объяснялось в уроке 2, «Поиск отдельных символов», метасимволы можно защитить наклонной чертой влево. Поэтому<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\.</code><span> </span>соответствует<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">.</code>, а<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\[</code><span> </span>соответствует<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code>. Каждый метасимвол можно защитить предшествующей ему наклонной чертой влево; защищенный символ соответствует самому себе, а не специальному значению метасимвола. Чтобы на самом деле найти<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code><span> </span>и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">]</code>, эти символы нужно защитить. Далее снова рассмотрим тот же самый пример, на сей раз с защищенными метасимволами:</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Текст</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">var myArray = new Array();</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">...</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">if (myArray[0] == 0) {</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">...</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">}<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Регулярное выражение</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">myArray\[0\]<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Результат</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">var myArray = new Array();</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">...</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">if (<span style="margin: 0px; padding: 0px; max-height: 1e+06px; border: 1px solid rgb(255, 0, 0);">myArray[0]</span> == 0) {</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">...</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">}<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Поиск работал правильно.<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\[</code><span> </span>соответствует<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code>, a<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\]</code><span> </span>соответствует<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">]</code>; так что<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray\[0\]</code><span> </span>соответствует<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray[0]</code>.</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Честно говоря, использовать в этом примере регулярное выражение было не особенно необходимо — проще было обойтись поиском буквального текста. Но вообразите, что нужно было бы найти не только<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray[0]</code>, но и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray[1]</code>,<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray[2]</code><span> </span>и т.д. Тогда был бы смысл использовать именно регулярное выражение. Нужно было бы защитить<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code><span> </span>и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">]</code><span> </span>и определить символы, которые могли бы встретиться между квадратными скобками. Если бы нужно было найти элементы массива с индексами от<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">0</code><span> </span>до<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">9</code>, можно было бы использовать следующее регулярное выражение:</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">myArray\[[0-9]\]<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><div class="note" style="margin: 25px 0px; padding: 17px 10px 10px; max-height: 1e+06px; font-size: 13px; color: rgb(100, 100, 100); border: 0.5px solid rgb(209, 209, 209); background: rgb(245, 245, 245); position: relative;">Любой метасимвол, а не только упомянутые здесь, можно защитить предшествующей ему наклонной чертой влево.</div><div class="note" style="margin: 25px 0px; padding: 17px 10px 10px; max-height: 1e+06px; font-size: 13px; color: rgb(100, 100, 100); border: 0.5px solid rgb(209, 209, 209); background: rgb(245, 245, 245); position: relative;">Метасимволы, которые являются частью пары (например,<span> </span><code style="margin: 1px 0px 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code><span> </span>или<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">]</code>), нужно защитить, если они не используются как метасимволы, в противном случае синтаксический анализатор регулярных выражений может сгенерировать сообщение об ошибке.</div><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Наклонная черта влево<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\</code><span> </span>используется для защиты метасимволов. Это означает, что сама по себе наклонная черта влево<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\</code><span> </span>рассматривается как метасимвол; она используется для защиты других символов. Как отмечено в уроке 2, «Поиск отдельных символов», чтобы закодировать наклонную черту<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\</code>, нужно саму ее защитить, т.е. указать ее как<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\\</code>.</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Рассмотрим следующий простой пример. Текст — путь к файлу, в котором используются наклонные черты влево (так принято в DOS и Windows). Теперь вообразите, что этот путь нужно использовать в системе Linux или Unix, и потому вы должны определить местонахождение всех наклонных черт влево для того, чтобы заменить их на наклонные черты вправо:</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Текст</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">\home\ben\sales\<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Регулярное выражение</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">\\<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Результат</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style="margin: 0px; padding: 0px; max-height: 1e+06px; border: 1px solid rgb(255, 0, 0);">\</span>home<span style="margin: 0px; padding: 0px; max-height: 1e+06px; border: 1px solid rgb(255, 0, 0);">\</span>ben<span style="margin: 0px; padding: 0px; max-height: 1e+06px; border: 1px solid rgb(255, 0, 0);">\</span>sales<span style="margin: 0px; padding: 0px; max-height: 1e+06px; border: 1px solid rgb(255, 0, 0);">\</span><span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Выражение<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\\</code><span> </span>соответствует<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\</code>, и потому найдены четыре совпадения. Если бы вы определили<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\</code><span> </span>как регулярное выражение, вполне вероятно, что было бы сгенерировано сообщение об ошибке. (Скорее всего, это произошло бы потому, что синтаксический анализатор регулярных выражений законно предположил бы, что выражение не закончено; ведь, в конце концов, в регулярном выражении после<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\</code><span> </span>всегда следует другой символ.)</p><h2 style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; color: rgb(83, 144, 204); font-weight: normal; font-size: 21px;">Поиск пробельных символов</h2><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Вообще говоря, метасимволы относятся к двум категориям: те, которые используются для поиска текста (они соответствуют искомому тексту; к этому типу относится, например, точка<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">.</code>), и те, которые используются как часть синтаксиса регулярного выражения (к этому типу относятся, например,<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code><span> </span>и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">]</code>). Метасимволов обоих типов много, и проще всего начать с метасимволов, соответствующих пробельным символам.</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Когда вы с помощью регулярного выражения выполняете поиск, часто необходимо найти совпадение с непечатаемыми пробельными символами, входящими в текст. Например, иногда нужно найти все символы табуляции, или все концы строк. Поскольку непосредственно ввести такой символ в регулярное выражение было бы весьма непросто, имеются специальные метасимволы, перечисленные в таблице 4.1.</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;"><strong style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 0); font-weight: 500; text-shadow: rgb(204, 204, 204) 1px 1px 1px;">Таблица 4.1.</strong><span> </span>Метасимволы, обозначающие пробельные символы</p><table class="data-table" style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; border-collapse: collapse;"><tbody style="margin: 0px; padding: 0px; max-height: 1e+06px;"><tr style="margin: 0px; padding: 0px; max-height: 1e+06px;"><th style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50); background-color: rgb(240, 240, 240); font-weight: normal; text-align: left;">Метасимвол</th><th style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50); background-color: rgb(240, 240, 240); font-weight: normal; text-align: left;">Описание метасимвола</th></tr><tr style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[\b]</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Возврат на один символ (Backspace)</td></tr><tr style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\f</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Перевод страницы (Form feed)</td></tr><tr style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\n</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Перевод строки (Line feed)</td></tr><tr style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\r</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Перевод каретки (Carriage return, CR)</td></tr><tr style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\t</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Табуляция (Tab)</td></tr><tr style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\v</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Вертикальная табуляция (Vertical tab)</td></tr></tbody></table><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Следующий блок текста содержит ряд записей в формате с разделителями-запятыми (часто этот формат называется CSV). Перед обработкой записей из данных нужно удалить все пустые строки. Вот пример:</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Текст</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">"101","Ben","Forta" </p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">"102","Jim","James"</p><p style="-qt-paragraph-type:empty; margin-top:0px; background-color:#eff0f1; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">"103","Roberta","Robertson"</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">"104","Bob","Bobson"<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Регулярное выражение</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">\r\n\r\n<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Результат</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">"101","Ben","Forta" </p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">"102","Jim","James"<span style="margin: 0px; padding: 0px; max-height: 1e+06px; border: 1px solid rgb(255, 0, 0);"> </span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style="margin: 0px; padding: 0px; max-height: 1e+06px; border: 1px solid rgb(255, 0, 0);"> </span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">"103","Roberta","Robertson"</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">"104","Bob","Bobson"<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Выражение<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\r\n</code><span> </span>соответствует комбинации перевода строки с переводом каретки, используемой (в Windows) как маркер конца строки. Поэтому<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\r\n\r\n</code><span> </span>соответствует двум маркерам конца строки, т.е. пустой строке между двумя записями.</p><div class="note" style="margin: 25px 0px; padding: 17px 10px 10px; max-height: 1e+06px; font-size: 13px; color: rgb(100, 100, 100); border: 0.5px solid rgb(209, 209, 209); background: rgb(245, 245, 245); position: relative;">В Windows в качестве маркера конца строки используется<span> </span><code style="margin: 1px 0px 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\r\n</code>, однако в системе Unix (и Linux) применяется только символ перевода строки. В этих системах нужно будет использовать только<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\n</code><span> </span>(без<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\r</code>). Идеальное регулярное выражение, вероятно, должно учитывать оба случая и потому должно содержать необязательный символ<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\r</code><span> </span>и требуемый<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\n</code>. Поэтому в следующем уроке этот пример придется рассмотреть повторно.</div><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Чаще всего используются метасимволы<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\r</code><span> </span>и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\n</code>, а также<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\t</code><span> </span>(табуляция). Другие пробельные символы обычно применяются редко.</p><div class="note" style="margin: 25px 0px; padding: 17px 10px 10px; max-height: 1e+06px; font-size: 13px; color: rgb(100, 100, 100); border: 0.5px solid rgb(209, 209, 209); background: rgb(245, 245, 245); position: relative;">Вы только что познакомились с двумя разновидностями метасимволов. Точка<span> </span><code style="margin: 1px 0px 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">.</code><span> </span>и открывающая квадратная скобка<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code><span> </span>— метасимволы, если они не защищены. Символы<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">f</code><span> </span>и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">n</code>, например, являются метасимволами только тогда, когда они защищены. Если они не защищены, то они — буквальные символы, которые соответствуют только самим себе.</div><h2 style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; color: rgb(83, 144, 204); font-weight: normal; font-size: 21px;">Поиск символов определенных типов</h2><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">К настоящему времени вы знаете, как найти конкретный символ или любой символ (используя точку<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">.</code>), один символ из набора (используя для определения набора<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code><span> </span>и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">]</code>), и как отрицать соответствие (используя<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">^</code>). Наборы символов (соответствие одному символу из набора) — самая употребительная форма соответствия, и вместо обычно используемых наборов могут использоваться специальные метасимволы. Говорят, что эти метасимволы соответствуют классам символов. Теоретически метасимволы для обозначения классов не являются необходимыми (ведь всегда можно перечислить символы нужного класса или использовать диапазоны), но на практике они невероятно полезны.</p><div class="note" style="margin: 25px 0px; padding: 17px 10px 10px; max-height: 1e+06px; font-size: 13px; color: rgb(100, 100, 100); border: 0.5px solid rgb(209, 209, 209); background: rgb(245, 245, 245); position: relative;">Перечисленные ниже классы являются основными, поддерживаемыми почти во всех реализациях регулярных выражений.</div><h3 style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; color: rgb(83, 144, 204); font-weight: normal; font-size: 17px;">Поиск цифр (и нецифровых символов)</h3><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Как вы уже знаете из урока 3, «Соответствие набору символов»,<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[0-9]</code><span> </span>— сокращение для<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[0123456789]</code>; оно используется для поиска любой цифры. Чтобы найти что-нибудь отличное от цифры, этот набор может быть инвертирован:<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[^0-9]</code>. В табл. 4.2 перечислены сокращения для класса цифр и класса нецифровых символов.</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;"><strong style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 0); font-weight: 500; text-shadow: rgb(204, 204, 204) 1px 1px 1px;">Таблица 4.2.</strong><span> </span>Метасимволы цифр</p><table class="data-table" style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; border-collapse: collapse;"><tbody style="margin: 0px; padding: 0px; max-height: 1e+06px;"><tr style="margin: 0px; padding: 0px; max-height: 1e+06px;"><th style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50); background-color: rgb(240, 240, 240); font-weight: normal; text-align: left;">Метасимвол</th><th style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50); background-color: rgb(240, 240, 240); font-weight: normal; text-align: left;">Описание метасимвола</th></tr><tr style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\d</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Любая цифра (digit) (то же самое, что и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[0-9]</code>)</td></tr><tr style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\D</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Любой нецифровой символ (то же самое, что и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[^0-9]</code>)</td></tr></tbody></table><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Чтобы продемонстрировать использование этих метасим волов, давайте повторно рассмотрим предыдущий пример:</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Текст</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">var myArray = new Array();</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">...</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">if (myArray[0] == 0) {</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">...</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">}<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Регулярное выражение</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">myArray\[\d\]<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Результат</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">var myArray = new Array();</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">...</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">if (<span style="margin: 0px; padding: 0px; max-height: 1e+06px; border: 1px solid rgb(255, 0, 0);">myArray[0]</span> == 0) {</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">...</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">}<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Выражение<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\[</code><span> </span>соответствует<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code>,<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\d</code><span> </span>соответствует любой от дельной цифре, а<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\]</code><span> </span>соответствует<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">]</code>, так что<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray\[\d\]</code><span> </span>соответствует<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray[0]</code>.<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray\[\d\]</code><span> </span>— сокращение для<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray\[\[0-9]\]</code>, которое в свою очередь является сокращением для<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray\[\[0123456789]\]</code>. Это регулярное выражение также найдет<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray[1]</code>,<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray[2]</code>, и т.д. (но не найдет<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">myArray[10]</code>).</p><div class="note" style="margin: 25px 0px; padding: 17px 10px 10px; max-height: 1e+06px; font-size: 13px; color: rgb(100, 100, 100); border: 0.5px solid rgb(209, 209, 209); background: rgb(245, 245, 245); position: relative;">Почти всегда есть несколько способов определения любого регулярного выражения. Выбирайте тот синтаксис, который вам наиболее удобен.</div><div class="note" style="margin: 25px 0px; padding: 17px 10px 10px; max-height: 1e+06px; font-size: 13px; color: rgb(100, 100, 100); border: 0.5px solid rgb(209, 209, 209); background: rgb(245, 245, 245); position: relative;">Синтаксис регулярных выражений чувствителен к регистру. Метасимвол<span> </span><code style="margin: 1px 0px 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\d</code><span> </span>соответствует цифрам, a<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\D</code><span> </span>— полная противоположность<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\d</code>. To же самое истинно для метасимволов других классов.<br style="margin: 0px; padding: 0px; max-height: 1e+06px;">Это справедливо даже при выполнении поиска без учета регистра: когда текст ищется без учета регистра, все равно учитывается регистр специальных символов (например<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\d</code>).</div><h3 style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; color: rgb(83, 144, 204); font-weight: normal; font-size: 17px;">Поиск алфавитно-цифровых символов (и символов, не относящихся к алфавитно-цифровым)</h3><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Есть еще один часто используемый набор — все алфавитно-цифровые символы, т.е. символы от<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">А</code><span> </span>до<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">z</code><span> </span>(<code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">А</code><span> </span>на верхнем регистре и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">z</code><span> </span>на нижнем регистре), цифры, символ подчеркивания (часто используемый в именах файлов и папок, именах переменных в приложениях, именах объектов баз данных и в других случаях). В табл. 4.3 перечислены сокращения для класса алфавитно-цифровых символов и символов, не относящихся к алфавитно-цифровым.</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Следующий пример — выборка из базы данных, содержащей записи с американскими почтовыми индексами и канадскими почтовыми кодами:</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Текст</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">11213 </p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">А1С2ЕЗ </p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">48075 </p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">48237</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">M1B4F2</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">90046</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Н1Н2Н2<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Регулярное выражение</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">\w\d\w\d\w\d<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Результат</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">11213 </p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style="margin: 0px; padding: 0px; max-height: 1e+06px; border: 1px solid rgb(255, 0, 0);">А1С2Е3</span> </p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">48075 </p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">48237</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style="margin: 0px; padding: 0px; max-height: 1e+06px; border: 1px solid rgb(255, 0, 0);">M1B4F2</span></p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">90046</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style="margin: 0px; padding: 0px; max-height: 1e+06px; border: 1px solid rgb(255, 0, 0);">Н1Н2Н2</span><span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Чтобы отыскать только канадские почтовые коды, шаблон содержит комбинацию метасимволов<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\w</code><span> </span>и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\d</code>.</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;"><strong style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 0); font-weight: 500; text-shadow: rgb(204, 204, 204) 1px 1px 1px;">Таблица 4.3.</strong><span> </span>Метасимволы для алфавитно-цифровых символов</p><table class="data-table" style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; border-collapse: collapse;"><tbody style="margin: 0px; padding: 0px; max-height: 1e+06px;"><tr style="margin: 0px; padding: 0px; max-height: 1e+06px;"><th style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50); background-color: rgb(240, 240, 240); font-weight: normal; text-align: left;">Метасимвол</th><th style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50); background-color: rgb(240, 240, 240); font-weight: normal; text-align: left;">Описание метасимвола</th></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\w</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Любой алфавитно-цифровой символ на верхнем или нижнем регистре и символ подчеркивания (то же самое, что и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[a-zA-Z0-9_]</code>)</td></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\W</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Любой символ, отличный от символа подчеркивания и не относящийся к алфавитно-цифровым (то же самое, что и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[^a-zA-Z0-9_]</code>)</td></tr></tbody></table><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">В этом примере шаблон работал правильно. Но является ли он правильным? Подумайте об этом. Почему не были найдены американские почтовые индексы? Только ли потому, что они составлены исключительно из цифр, или есть еще некоторая другая причина?</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Я не собираюсь давать вам ответ на этот вопрос, потому что, — ну, в общем, шаблон работал правильно. Ключ к решению этого вопроса состоит в том, что правильно работающее регулярное выражение редко можно однозначно считать правильным или неправильным. Чаще всего степень строгости сопоставления с шаблоном должна соответствовать сложности шаблона.</p><h3 style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; color: rgb(83, 144, 204); font-weight: normal; font-size: 17px;">Поиск пробельных символов и символов, не относящихся к ним</h3><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Наконец, рассмотрим класс пробельных символов. Вы уже знаете метасимволы для определенных пробельных символов. В табл. 4.4 перечислены сокращения для класса всех пробельных символов.</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;"><strong style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 0); font-weight: 500; text-shadow: rgb(204, 204, 204) 1px 1px 1px;">Таблица 4.4.</strong><span> </span>Метасимволы для класса всех пробельных символов</p><table class="data-table" style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; border-collapse: collapse;"><tbody style="margin: 0px; padding: 0px; max-height: 1e+06px;"><tr style="margin: 0px; padding: 0px; max-height: 1e+06px;"><th style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50); background-color: rgb(240, 240, 240); font-weight: normal; text-align: left;">Метасимвол</th><th style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50); background-color: rgb(240, 240, 240); font-weight: normal; text-align: left;">Описание метасимвола</th></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\s</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Любой пробельный символ (то же самое, что и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[\f\n\r\t\v]</code>)</td></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\S</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Любой непробельный символ (то же самое, что и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[^\f\n\r\t\v]</code>)</td></tr></tbody></table><div class="note" style="margin: 25px 0px; padding: 17px 10px 10px; max-height: 1e+06px; font-size: 13px; color: rgb(100, 100, 100); border: 0.5px solid rgb(209, 209, 209); background: rgb(245, 245, 245); position: relative;">Обратите внимание, что метасимвол возврата на один символ,<span> </span><code style="margin: 1px 0px 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[\b]</code>, не включен в<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\s</code><span> </span>и не исключается применением<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\S</code>.</div><h3 style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; color: rgb(83, 144, 204); font-weight: normal; font-size: 17px;">Указание шестнадцатеричных и восьмеричных значений</h3><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Хотя определять символ его восьмеричным или шестнадцатеричным значением не рекомендуется, стоит отметить, что это в принципе возможно.</p><h4 style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; color: rgb(83, 144, 204); font-weight: normal; font-size: 15px;">Указание шестнадцатеричных значений</h4><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Чтобы указать шестнадцатеричное (т.е. по основанию<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">16</code>) значение, перед ним нужно написать<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\х</code>. Поэтому<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\х0А</code><span> </span>(символ с ASCII-кодом<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">10</code>, символ перевода строки) функционально эквивалентен<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\n</code>.</p><h4 style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; color: rgb(83, 144, 204); font-weight: normal; font-size: 15px;">Указание восьмеричных значений</h4><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Чтобы указать восьмеричное (т.е. по основанию<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">8</code>) двух- или трехзначное значение, перед ним нужно написать<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\0</code>. Поэтому<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\011</code><span> </span>(символ с ASCII-кодом<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">9</code>, символ табуляции) функционально эквивалентен<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\t</code>.</p><div class="note" style="margin: 25px 0px; padding: 17px 10px 10px; max-height: 1e+06px; font-size: 13px; color: rgb(100, 100, 100); border: 0.5px solid rgb(209, 209, 209); background: rgb(245, 245, 245); position: relative;">Во многих реализациях регулярных выражений допускается также спецификация управляющих символов с помощью<span> </span><code style="margin: 1px 0px 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\c</code>. Например,<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">\cZ</code><span> </span>соответствует<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">Ctrl-Z</code>. На практике этот синтаксис используется очень редко.</div><h2 style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; color: rgb(83, 144, 204); font-weight: normal; font-size: 21px;">Использование символьных классов POSIX</h2><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Урок по метасимволам и сокращениям для различных наборов символов не был бы полным без упоминания о символьных классах POSIX (табл. 4.5). Они — еще одна форма сокращения, которое поддерживается многими (но не всеми) реализациями регулярных выражений.</p><div class="note" style="margin: 25px 0px; padding: 17px 10px 10px; max-height: 1e+06px; font-size: 13px; color: rgb(100, 100, 100); border: 0.5px solid rgb(209, 209, 209); background: rgb(245, 245, 245); position: relative;">JavaScript не поддерживает символьные классы POSIX в регулярных выражениях.</div><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;"><strong style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 0); font-weight: 500; text-shadow: rgb(204, 204, 204) 1px 1px 1px;">Таблица 4.5.</strong><span> </span>Символьные классы POSIX</p><table class="data-table" style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; border-collapse: collapse;"><tbody style="margin: 0px; padding: 0px; max-height: 1e+06px;"><tr style="margin: 0px; padding: 0px; max-height: 1e+06px;"><th style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50); background-color: rgb(240, 240, 240); font-weight: normal; text-align: left;">Класс</th><th style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50); background-color: rgb(240, 240, 240); font-weight: normal; text-align: left;">Описание класса</th></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:alnum:]</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Любой символ или цифра (то же самое, что и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[a-zA-Z0-9]</code>)</td></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:alpha:]</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Любой символ (то же самое, что и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[a-zA-Z]</code>)</td></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:blank:]</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Пробел или табуляция (то же самое, что и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[\t ]</code>)</td></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:cntrl:]</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Управляющие символы ASCII (ASCII-коды от<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">0</code><span> </span>до<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">31</code><span> </span>и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">127</code>)</td></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:digit:]</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Любая цифра (то же самое, что и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[0-9]</code>)</td></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:graph:]</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">То же самое, что и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:print:]</code>, но пробел исключен</td></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:lower:]</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Любой символ нижнего регистра (то же самое, что и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[a-z]</code>)</td></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:print:]</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Любой печатаемый символ</td></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:punct:]</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Любой символ, который не входит ни в<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:alnum:]</code>, ни в<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:cntrl:]</code></td></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:space:]</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Любой пробельный символ, включая пробел (то же самое, что и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[\f\n\r\t\v ]</code>)</td></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:upper:]</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Любая прописная буква (то же самое, что и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[А-Z]</code>)</td></tr><tr valign="top" style="margin: 0px; padding: 0px; max-height: 1e+06px;"><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);"><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:xdigit:]</code></td><td style="margin: 0px; padding: 5px; max-height: 1e+06px; vertical-align: top; border: 1px solid rgb(209, 209, 209); color: rgb(50, 50, 50);">Любая шестнадцатеричная цифра (то же самое, что и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[a-fA-F0-9]</code>)</td></tr></tbody></table><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Синтаксис POSIX весьма отличается от синтаксиса ранее изученных метасимволов. Чтобы продемонстрировать использование классов POSIX, повторно рассмотрим пример из предыдущего урока. В примере используем регулярное выражение, чтобы найти RGB-значения в блоке HTML-кода:</p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Текст</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&lt;BODY BGCOLOR="#336633" TEXT="#FFFFFF" </p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">      MARGINWIDTH="0" MARGINHEIGHT="0"</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">      TOPMARGIN="0" LEFTMARGIN="0"&gt;<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Регулярное выражение</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">#[[:xdigit:]][[:xdigit:]][[:xdigit:]][[:xdigit:]][[:xdigit:]][[:xdigit:]]<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Результат</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&lt;BODY BGCOLOR="<span style="margin: 0px; padding: 0px; max-height: 1e+06px; border: 1px solid rgb(255, 0, 0);">#336633</span>" TEXT="<span style="margin: 0px; padding: 0px; max-height: 1e+06px; border: 1px solid rgb(255, 0, 0);">#FFFFFF</span>" </p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">      MARGINWIDTH="0" MARGINHEIGHT="0"</p><p style=" font-family:'Consolas'; background-color:#eff0f1; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">      TOPMARGIN="0" LEFTMARGIN="0"&gt;<span class="copy" style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(150, 150, 150); font-size: 8px; background: rgb(255, 255, 255); border: 0.5px solid rgb(209, 209, 209); border-radius: 5px; position: absolute; z-index: 1000; right: 1px; top: 1px; cursor: pointer; width: 60px; text-align: center;">Копировать</span></p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; font-size:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">В шаблоне, использованном в предыдущем уроке, набор символов<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[0-9A-Fa-f]</code><span> </span>повторялся шесть раз. Здесь каждый набор<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[0-9A-Fa-f]</code><span> </span>был заменен на<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[[:xdigit:]]</code>. Результат тот же самый.</p><div class="note" style="margin: 25px 0px; padding: 17px 10px 10px; max-height: 1e+06px; font-size: 13px; color: rgb(100, 100, 100); border: 0.5px solid rgb(209, 209, 209); background: rgb(245, 245, 245); position: relative;">Обратите внимание, что регулярное выражение, используемое в этом примере, начинается с<span> </span><code style="margin: 1px 0px 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[[</code><span> </span>и заканчивается<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">]]</code><span> </span>(два набора скобок). Это важно и обязательно при использовании классов POSIX. Классы POSIX заключаются в «скобки»<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:</code><span> </span>и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">:]</code>; мы использовали выражение POSIX<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[:xdigit:]</code><span> </span>(а не<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">:xdigit:</code>). Внешние скобки<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code><span> </span>и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">]</code><span> </span>определяют набор; а внутренние скобки<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">[</code><span> </span>и<span> </span><code style="margin: 0px; padding: 0px; max-height: 1e+06px; color: rgb(0, 0, 187);">]</code><span> </span>сами являются частью имени класса POSIX.</div><div class="note" style="margin: 25px 0px; padding: 17px 10px 10px; max-height: 1e+06px; font-size: 13px; color: rgb(100, 100, 100); border: 0.5px solid rgb(209, 209, 209); background: rgb(245, 245, 245); position: relative;">Все 12 классов POSIX, перечисленные здесь, поддерживаются в любой реализации, которая поддерживает POSIX. Однако могут быть тонкие отклонения от предыдущих описаний.</div><h2 style="margin: 15px 0px; padding: 0px; max-height: 1e+06px; color: rgb(83, 144, 204); font-weight: normal; font-size: 21px;">Резюме</h2><p style="margin: 15px 0px; padding: 0px; max-height: 1e+06px;">Опираясь на основные сведения о соответствии символов и наборов, приведенные в уроках 2, «Поиск отдельных символов», и 3, «Соответствие набору символов», в этом уроке мы ввели метасимволы, которые соответствуют определенным символам (таким как табуляция или перевод строки), наборам либо классам символов (таким как цифры или алфавитно-цифровые символы). Эти обозначения метасимволов и классов POSIX могут использоваться для упрощения шаблонов, построенных по правилам языка регулярных выражений.</p></div><!--EndFragment-->
</body>
</html></body></html>