<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="moz-reader-content"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">В</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ы, наверное, не раз слышали термин </span><a href="https://python-scripts.com/scope"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; text-decoration: underline; color:#0000ff;">область видимости</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, когда изучали </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">программирование</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Это весьма важная тема, незнание которой может привести к достаточно запутанным ошибкам. Область видимости указывает интерпретатору, когда наименование (или переменная) видимо. Другими словами, </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">область видимости</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> определяет, когда и где вы можете использовать свои переменные, </span><a href="https://python-scripts.com/functions-python"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; text-decoration: underline; color:#0000ff;">функции</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, и т.д. Если вы попытаетесь использовать что-либо, что не является в вашей области видимости, вы получите </span><a href="https://python-scripts.com/try-except-finally"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; text-decoration: underline; color:#0000ff;">ошибку NameError</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Python содержит три разных типа </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">области видимости</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:10pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Локальная область видимости</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:10pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Глобальная область видимости</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:10pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Нелокальная область видимости (была добавлена в <a href="http://python-3.ru"><span style=" text-decoration: underline; color:#0000ff;">Python 3</span></a>) </li></ul>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">Локальная область видимости</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Локальная </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">область видимости</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> наиболее часто используется в Python. Когда мы создаем переменную в блоке кода, она будет разрешена при помощи ближайшей области видимости, или областей. Группирование всех этих областей известно как среда блоков кода. Другими словами, все назначения выполняются в </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">локальной области</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> по умолчанию. Если вам нужно что-то другое, тогда вам нужно настроить свою переменную на глобальную или нелокальную область, которые мы рассмотрим немного позже. Сейчас мы создадим простой пример, используя интерпретатор Python, в котором демонстрируется назначение </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">локальной области видимости</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef494f9811418654"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">x</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> = 10</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef494f9811418654-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">d</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ef my_func(a, b):</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef494f9811418654-4"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   print(x)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef494f9811418654-5"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   print(z)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef494f9811418654-7"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">m</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">y_func(1, 2)</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Результат </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49508575185120"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">1</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">0</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49508575185120-2"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">T</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">raceback (most recent call last):</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49508575185120-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   File &quot;&lt;pyshell#19&gt;&quot;, line 1, in &lt;module&gt;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49508575185120-4"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       my_func(1, 2)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49508575185120-5"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   File &quot;&lt;pyshell#18&gt;&quot;, line 3, in my_func</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49508575185120-6"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       print(z)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49508575185120-7"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">N</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ameError: name 'z' is not defined</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Здесь мы создаем </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">переменную х</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> и очень </span><a href="https://python-scripts.com/functions-python"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; text-decoration: underline; color:#0000ff;">простую функцию</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, которая принимает </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">два аргумента</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Далее она выводит х и z. Обратите внимание на то, что мы не определили z, так что когда мы вызываем функцию, мы получаем </span><a href="https://python-scripts.com/try-except-finally"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; text-decoration: underline; color:#0000ff;">ошибку NameError</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Это происходит в связи с тем, что z не определена, или находится </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-style:italic;">вне области видимости</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Если вы определите z перед вызовом функции, тогда она будет найдена и </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">ошибка NameError</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> не возникнет. </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">Ошибка NameError</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> также возникает при попытке получения доступа к переменной, которая находится только внутри функции: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49516268362533"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">d</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ef my_func(a, b):</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49516268362533-2"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   i = 2</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49516268362533-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   print(x)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49516268362533-6"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">i</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">f __name__ == '__main__':</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49516268362533-7"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   x = 10</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49516268362533-8"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   my_func(1, 2)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49516268362533-9"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   print(i)</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Переменная i определена только </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">внутри функции</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, так что при запуске кода мы получаем </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">ошибку NameError</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Давайте немного модифицируем первый пример. Разместим данный код в python-файл и попытаемся его запустить: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4951e918602259"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">d</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ef my_func(a, b):</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4951e918602259-2"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   x = 5</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4951e918602259-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   print(x)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4951e918602259-6"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">i</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">f __name__ == '__main__':</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4951e918602259-7"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   x = 10</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4951e918602259-8"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   my_func(1, 2)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4951e918602259-9"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   print(x)</span></p></td></tr></table>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:10pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Что, по-вашему, должно произойти?</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:10pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Выдаст ли код цифру 10 дважды?</li></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">Нет, не выдаст.</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> Причина в том, что мы имеем две переменные х. Переменная х внутри </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-style:italic;">my_func</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> имеет </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">локальную область видимости</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> функции и переопределяет переменную х </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">вне функции</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Так что когда мы вызываем функцию </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-style:italic;">my_func</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, в выдаче мы видим 5, а не 10. Затем, когда функция возвращается, переменная х внутри функции </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-style:italic;">my_func</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> является кучей мусора и область для выдачи х срабатывает еще один раз. По этой причине последний оператор выдачи выдает именно 10. Если вы хотите кое-что поинтереснее, вы можете попытаться вывести х перед тем как назначить его в нашей функции: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49526693676693"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">d</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ef my_func(a, b):</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49526693676693-2"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   print(x)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49526693676693-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   x = 5</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49526693676693-4"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   print(x)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49526693676693-7"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">i</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">f __name__ == '__main__':</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49526693676693-8"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   x = 10</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49526693676693-9"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   my_func(1, 2)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49526693676693-10"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   print(x)</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Кода вы запустите этот код, вы получите ошибку: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4952e867865817"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">U</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">nboundLocalError: local variable 'x' referenced before assignment</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Это происходит потому, что Python замечает, что вы назначаете х в функцию </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">my_func</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> позже, что и приводит к ошибке, так как х еще не определен. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">Глобальная область видимости</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Python содержит </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">оператор global</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Это ключевое слово Python. Оператор </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">global</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> объявляет переменную доступной для блока кода, следующим за оператором. Хотя вы и можете создать наименование, перед тем, как объявить его глобальным, я настоятельно не рекомендую этого делать. Давайте попробуем использовать глобальную область для исправления нашей ошибке из предыдущего примера: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49535528354874"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">d</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ef my_func(a, b):</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49535528354874-2"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   global x</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49535528354874-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   print(x)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49535528354874-4"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   x = 5</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49535528354874-5"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   print(x)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49535528354874-8"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">i</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">f __name__ == '__main__':</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49535528354874-9"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   x = 10</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49535528354874-10"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   my_func(1, 2)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49535528354874-11"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   print(x)</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Выдача данного кода должна быть следующей: </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Объявляя х как глобальный, мы говорим Python использовать первое объявление х для нашего первого оператора вывода в функции. Далее мы даем х новое значение – а именно 5, и выводим его еще раз, перед тем как выйти из функции. Обратите внимание на то, что х становится </span><a href="https://python-scripts.com/scope"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; text-decoration: underline; color:#0000ff;">глобальной переменной</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, когда мы доходим до последнего оператора вывода в конце кода, и там х все еще равен 5. Давайте смешаем </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">глобальную и локальную область видимости</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> и поглядим, что из этого получится: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4954c710707936"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">d</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ef my_func(a, b):</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4954c710707936-2"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   global c</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4954c710707936-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   b, a = a, b</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4954c710707936-4"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   d = 'Mike'</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4954c710707936-5"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   print(a, b, c, d)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4954c710707936-8"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">a</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, b, c, d = 1, 2, 'c is global', 4</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4954c710707936-9"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">m</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">y_func(1, 2)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4954c710707936-10"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">p</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">rint(a, b, c, d)</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Здесь мы назначаем с в качестве </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">глобальной переменной</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Таким образом, «с» будет выводиться и внутри и снаружи нашей функции. Мы также меняем местами значения переменных а и b в функции, чтобы показать, что мы можем переназначить их внутри функции, не меняя их вне функции. Это показывает, что переменные а и b </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">не являются глобальными</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Если вы запустите этот код, вы увидите следующую выдачу: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49559274895922"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">2</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> 1 c is global Mike</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49559274895922-2"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">1</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> 2 c is global 4</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Я хочу обратить ваше внимание на то, что не нужно менять глобальные переменные внутри функции. Комьюнити Python объявило такую практику очень нежелательной, так как из-за этого исправление кода </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">становится намного сложнее</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Теперь, с пониманием основных принципов локальных и глобальных областей, мы можем перейти к </span><a href="https://python-scripts.com/scope"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; text-decoration: underline; color:#0000ff;">нелокальной области non_local</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">Область nonlocal</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">В Python 3 было добавлено новое ключевое слово под названием </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">nonlocal</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. С его помощью мы можем добавлять переопределение области во внутреннюю область. Вы можете ознакомиться со всей необходимой на данный счет информацией в </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">PEP 3104</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Это наглядно демонстрируется в нескольких примерах. Один из самых простых – это </span><a href="https://python-scripts.com/functions-python"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; text-decoration: underline; color:#0000ff;">создание функции</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, которая может увеличиваться: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49566606467141"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">d</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ef counter():</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49566606467141-2"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   num = 0</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49566606467141-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   def incrementer():</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49566606467141-4"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       num += 1</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49566606467141-5"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       return num</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49566606467141-6"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   return incrementer</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Если вы попробуете запустить этот код, вы получите </span><a href="https://python-scripts.com/try-except-finally"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; text-decoration: underline; color:#0000ff;">ошибку UnboundLocalError</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, так как переменная num ссылается прежде, чем она будет назначена в самой внутренней функции. Давайте добавим </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">nonlocal</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> в наш код: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49573215869292"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">d</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">ef counter():</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49573215869292-2"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   num = 0</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49573215869292-3"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   def incrementer():</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49573215869292-4"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       nonlocal num</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49573215869292-5"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       num += 1</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49573215869292-6"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">       return num</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef49573215869292-7"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">   return incrementer</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Результат работы: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td></td>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4957b580518244"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">c</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> = counter()</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4957b580518244-2"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">p</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">rint(c) # &lt;function counter.&lt;locals&gt;.incrementer at 0x7f45caf44048&gt;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4957b580518244-4"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">c</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">() # 1</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4957b580518244-5"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">c</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">() # 2</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5a61fdef4957b580518244-6"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">c</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">() # 3</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">Теперь наша возрастающая функция работает именно так, как мы от нее и ожидаем. Для заметки, тип такой функции называется </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">closure</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> (дословно – закрытие). Такая функция является блоком кода, который «закрывает» переменные </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">nonlocal</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Суть в том, что вы можете ссылать переменные, которые определены вне вашей функции. Обычно, </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">nonlocal</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> позволяет вам назначать переменные во </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">внешней области</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">, но не в глобальной. Так что вы не можете использовать nonlocal в функции подсчета, так как в таком случае она попытается передать функцию глобальной области. Попробуйте, и получите </span><a href="https://python-scripts.com/try-except-finally"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; text-decoration: underline; color:#0000ff;">ошибку SyntaxError</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> незамедлительно. Вместо этого, вам нужно использовать nonlocal во вложенной функции.</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">Подведем итоги</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">В данной статье мы смогли понять то, как переменная ссылается, используя ключевые слова Python </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">global</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> и </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:600;">nonlocal</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">. Мы узнали, где мы можем их использовать и зачем. Мы также узнали кое-что о локальной области видимости. Хорошего дня и продолжайте экспериментировать! </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:10pt;"><br /></p></body></html>