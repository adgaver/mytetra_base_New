<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#ffffff;"><span style=" font-family:'PT Serif,TimesNewRoman,Times New Roman,Times,Baskerville,Georgia,serif'; font-size:10pt; font-weight:600; color:#073d6d; background-color:#ffffff;">Изменение строки в Python – метод replace</span></p>
<p style=" margin-top:30px; margin-bottom:13px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><a name="kcmenu"></a><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">С</span><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">одержание:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;" style=" margin-top:7px; margin-bottom:0px; margin-left:50px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;"> </span><a href="https://all-python.ru/osnovy/replace.html#chto-delaet-metod"><span style=" font-size:16px; text-decoration: underline; color:#222222;">Что делает метод</span></a></li>
<li style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;" style=" margin-top:0px; margin-bottom:0px; margin-left:50px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;"> </span><a href="https://all-python.ru/osnovy/replace.html#primenenie-replace-dlya-zameny-neskolkih-znachenij"><span style=" font-size:16px; text-decoration: underline; color:#222222;">Применение replace для замены нескольких значений</span></a></li>
<li style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;" style=" margin-top:0px; margin-bottom:0px; margin-left:90px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;"> </span><a href="https://all-python.ru/osnovy/replace.html#s-pomoshhyu-slovarya"><span style=" font-size:16px; text-decoration: underline; color:#222222;">С помощью словаря</span></a></li>
<li style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;" style=" margin-top:0px; margin-bottom:0px; margin-left:90px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;"> </span><a href="https://all-python.ru/osnovy/replace.html#variant-so-spiskami"><span style=" font-size:16px; text-decoration: underline; color:#222222;">Вариант со списками</span></a></li>
<li style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;" style=" margin-top:0px; margin-bottom:13px; margin-left:50px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;"> </span><a href="https://all-python.ru/osnovy/replace.html#drugie-tipy-python-i-metod-replace"><span style=" font-size:16px; text-decoration: underline; color:#222222;">Другие типы Python и метод replace</span></a></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">Строки — это важный тип данных, который есть почти в любом языке программирования. Он служит для создания, изменения и сохранения текстовой информации, а также используется при реализации некоторых задач, связанных с числами.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://all-python.ru/osnovy/yazyk-programmirovaniya.html"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; text-decoration: underline; color:#222222;">Python</span></a><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"> даёт программисту много инструментов для работы со строками, в том числе и метод </span><span style=" font-family:'Courier New'; font-size:10pt; color:#073d6d; background-color:#f0f0f0;">replace()</span><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">Что делает метод</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">Слово replace имеет дословный перевод «заменять», так что название метода точно описывает его назначение. С помощью </span><span style=" font-family:'Courier New'; font-size:10pt; color:#073d6d; background-color:#f0f0f0;">replace</span><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"> можно заменить часть </span><a href="https://all-python.ru/osnovy/stroki.html"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; text-decoration: underline; color:#222222;">строки</span></a><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"> или её всю на другую строку.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">Синтаксис метода выглядит так:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">str.replace(old_str, new_str[, count])</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; font-weight:600; color:#073d6d;">В качестве аргументов в метод передаются</span><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;" style=" margin-top:10px; margin-bottom:0px; margin-left:50px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:16px; background-color:#f0f0f0;">old_str</span><span style=" font-size:16px;"> – часть исходной строки, которую необходимо заменить.</span></li>
<li style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;" style=" margin-top:0px; margin-bottom:0px; margin-left:50px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:16px; background-color:#f0f0f0;">new_str</span><span style=" font-size:16px;"> – строка, на которую заменяют исходную строку (</span><span style=" font-family:'Courier New'; font-size:16px; background-color:#f0f0f0;">old_str</span><span style=" font-size:16px;">).</span></li>
<li style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;" style=" margin-top:0px; margin-bottom:19px; margin-left:50px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:16px; background-color:#f0f0f0;">count</span><span style=" font-size:16px;"> – определяет количество вхождений подстроки, которые необходимо заменить.</span></li></ul>
<p style=" margin-top:5px; margin-bottom:5px; margin-left:3px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#d8f3c9;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d; background-color:#d8f3c9;">Здесь count – не обязательный параметр. Если его не указывать, то будут заменены все вхождения подстрок на новые.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">В качестве </span><span style=" font-family:'Courier New'; font-size:10pt; color:#073d6d; background-color:#f0f0f0;">str</span><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"> используется исходная строка (</span><a href="https://all-python.ru/osnovy/tipy-dannyh.html"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; text-decoration: underline; color:#222222;">тип данных</span></a><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"> string).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">Таким образом, метод </span><span style=" font-family:'Courier New'; font-size:10pt; color:#073d6d; background-color:#f0f0f0;">replace</span><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"> позволяет гибко изменять только необходимые части строки </span><span style=" font-family:'Courier New'; font-size:10pt; color:#073d6d; background-color:#f0f0f0;">str</span><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">, работа метода продемонстрирована в следующих примерах:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">my_str = &quot;one dog, one cat, one rabbit&quot;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d; background-color:#eff0f1;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">#Заменяем все вхождения &quot;one&quot; в строке</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">a = my_str.replace(&quot;one&quot;, &quot;two&quot;)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">print(a) # Выведет two dog, two cat, two rabbit</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d; background-color:#eff0f1;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">#Заменяем первое вхождение &quot;one&quot; в строке</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">b = my_str.replace(&quot;one&quot;, &quot;two&quot;, 1)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">print(b) # Выведет two dog, one cat, one rabbit</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d; background-color:#eff0f1;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">#Заменяем первые два вхождения &quot;one&quot; в строке</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">c = my_str.replace(&quot;one&quot;, &quot;two&quot;, 2)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">print(c) # Выведет two dog, two cat, one rabbit</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"><br /></p>
<p style=" margin-top:5px; margin-bottom:5px; margin-left:3px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffdddd;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d; background-color:#ffdddd;">Важно помнить, что строки — это неизменяемые последовательности. Поэтому метод replace не заменяет отдельные символы в целевой строке, вместо этого он создает её копию с нужными изменениями. Это важная особенность языка Python, которую должен знать каждый программист.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">Это не очевидно, </span><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; font-weight:600; color:#073d6d;">с помощью метода replace можно заменить сразу несколько значений, например все элементы </span><a href="https://all-python.ru/osnovy/spiski.html"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; font-weight:600; text-decoration: underline; color:#222222;">списка</span></a><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">str_list = [&quot;кот&quot;, &quot;собака&quot;, &quot;кот собака&quot;, &quot;кот кот&quot;]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d; background-color:#eff0f1;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;"># в новый список записываем элементы начального списка, измененные</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;"># с помощью replace</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">result_list = [elem.replace(&quot;кот&quot;, &quot;кошка&quot;, 1) for elem in str_list]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">print(result_list) # Выведет ['кошка', 'собака', 'кошка собака', 'кошка кот']</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; color:#000000;">Применение replace для замены нескольких значений</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; color:#000000;">С помощью словаря</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">Предыдущий пример позволяет заменить несколько элементов, однако все они имеют одно и то же значение «кот». Если необходимо заменить несколько разных значений, например «кот» на «кошка» и «кошка» на «собака», то </span><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; font-weight:600; color:#073d6d;">необходимо реализовать чуть более сложную программу с использованием </span><a href="https://all-python.ru/osnovy/slovari.html"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; font-weight:600; text-decoration: underline; color:#222222;">словарей</span></a><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;"># Функция для замены нескольких значений</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">def multiple_replace(target_str, replace_values):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">    # получаем заменяемое: подставляемое из словаря в цикле</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">    for i, j in replace_values.items():</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">        # меняем все target_str на подставляемое</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">        target_str = target_str.replace(i, j)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">    return target_str</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d; background-color:#eff0f1;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;"># создаем словарь со значениями и строку, которую будет изменять</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">replace_values = {&quot;кот&quot;: &quot;кошка&quot;, &quot;кошка&quot;: &quot;собака&quot;}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">my_str = &quot;У меня есть кот и кошка&quot;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d; background-color:#eff0f1;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;"># изменяем и печатаем строку</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">my_str = multiple_replace(my_str, replace_values)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">print(my_str)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">Здесь replace используется в </span><a href="https://all-python.ru/osnovy/funktsii.html"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; text-decoration: underline; color:#222222;">функции</span></a><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">, аргументы которой исходная строка и словарь со значениями для замены.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">У этого варианта программы есть один существенный недостаток, программист не может быть уверен в том, какой результат он получит. Дело в том, что словари — это последовательности без определенного порядка, поэтому </span><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; font-weight:600; color:#073d6d;">рассматриваемый пример программы может привести к двум разным результатам в зависимости от того, как интерпретатор расположит элементы словаря</span><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;" style=" margin-top:10px; margin-bottom:0px; margin-left:50px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">У меня есть собака и собака</span></li>
<li style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;" style=" margin-top:0px; margin-bottom:19px; margin-left:50px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">У меня есть кошка и собака</span></li></ul>
<p style=" margin-top:5px; margin-bottom:5px; margin-left:3px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#d8f3c9;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d; background-color:#d8f3c9;">В Python версии 3.6 и более поздних порядок перебора ключей будет такой же, как и при котором они созданы. В более ранних версиях Python порядок может отличаться.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">Для решения этой проблемы можно заменить обычный словарь на упорядоченный словарь </span><span style=" font-family:'Courier New'; font-size:10pt; color:#073d6d; background-color:#f0f0f0;">OrderedDict</span><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">, который нужно импортировать следующей командой:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">from collections import OrderedDict</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">Помимо импорта в программе нужно поменять буквально одну строку:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">replace_values = {&quot;кот&quot;: &quot;кошка&quot;, &quot;кошка&quot;: &quot;собака&quot;}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">Изменить её надо на:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">replace_values = OrderedDict([(&quot;кот&quot;, &quot;кошка&quot;), (&quot;кошка&quot;, &quot;собака&quot;)])</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">В этом случае, результат будет «У меня есть собака и собака», если же поменять местами элементы упорядоченного словаря при инициализации следующим образом: </span><span style=" font-family:'Courier New'; font-size:10pt; color:#073d6d; background-color:#f0f0f0;">OrderedDict([(&quot;кошка&quot;, &quot;собака&quot;), (&quot;кот&quot;, &quot;кошка&quot;)])</span><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">, то результат будет «У меня есть кошка и собака».</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; color:#000000;">Вариант со списками</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">Замену нескольких значений можно реализовать и по-другому, для этого используем списки:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">my_str = &quot;У меня есть кот и кошка&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;"># в цикле передаем список (заменяемое, подставляемое) в метод replace</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">for x, y in (&quot;кот&quot;, &quot;кошка&quot;), (&quot;кошка&quot;, &quot;собака&quot;):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">    my_str = my_str.replace(x, y)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">print(my_str) # Выведет &quot;У меня есть собака и собака&quot;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; font-weight:600; color:#073d6d;">В данном примере цикл for делает 2 итерации</span><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;" style=" margin-top:10px; margin-bottom:0px; margin-left:50px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Подставляет в метод replace значения из первого списка: replace(«кот», «кошка»), в результате чего получается строка «У меня есть кошка и кошка».</span></li>
<li style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;" style=" margin-top:0px; margin-bottom:19px; margin-left:50px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Подставляет в метод replace значения из второго списка: replace(«кошка», «собака»), получается строка «У меня есть собака и собака».</span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; color:#000000;">Другие типы Python и метод replace</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">Метод replace есть не только у строк, с его помощью программист может изменять последовательности байт, </span><a href="https://all-python.ru/osnovy/modul-datetime.html"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; text-decoration: underline; color:#222222;">время и дату</span></a><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">Синтаксис метода для последовательности байт ничем не отличается от синтаксиса для строк, для дат и времени в аргументах метода replace нужно писать идентификатор изменяемой цели, например:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">from datetime import date</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">t_date = date(2020, 4, 23)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">t_date = t_date.replace(day = 11)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'Consolas'; font-size:10pt; color:#073d6d; background-color:#eff0f1;">print(t_date) # Выведет 2020-04-11</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;">Для времени метод </span><span style=" font-family:'Courier New'; font-size:10pt; color:#073d6d; background-color:#f0f0f0;">replace</span><span style=" font-family:'Open Sans,Tahoma,Verdana,Segoe,sans-serif'; font-size:10pt; color:#073d6d;"> применяется аналогично.</span></p></body></html>