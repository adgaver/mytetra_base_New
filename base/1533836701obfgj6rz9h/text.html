<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Я начал изучать немного питона и теперь хотел бы немного поиграть с gui-building. Qt кажется хорошим выбором из-за его кросс-платформенности. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Теперь, похоже, доступны две привязки: PyQt от Riverbank Computing и PySide, первоначально разработанный Nokia. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Итак, какой из них выбрать? Все, что я могу найти, это сравнение двухлетних функций, но какие отличия есть в настоящее время? </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Какой из них проще в использовании, имеет более/лучшую документацию? Оба находятся в активном развитии? </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Лицензирование меня не очень беспокоит, так как я не собираюсь писать коммерческие приложения.                                        </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<h2 style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">6 ответов</span></h2>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Оба инструментария активно поддерживаются и в настоящее время более или менее равны по характеристикам и качеству. Есть лишь незначительные, незначительные различия.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Тем не менее, я бы рекомендовал PySide для Python 2. Он имеет более разумный API, в основном он не раскрывает типы Qt, которые имеют прямой эквивалент в Python (например, QString, QList и т.д.) или которые полностью излишним из-за динамической природы Python, как QVariant. Это позволяет избежать многих утомительных преобразований в типы Qt и из них, что облегчает программирование и позволяет избежать многих ошибок.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">PyQt также поддерживает этот современный API и использует его по умолчанию для Python 3, но не для Python 2 для поддержки обратной совместимости.                                                        </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Существует также лицензионная разница. PySide - LGPL, а PyQt - GPL. Это может иметь значение, если вы не хотите создавать свой проект с открытым исходным кодом. Хотя PyQt всегда имеет приемлемую версию, доступную по довольно разумной цене.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Я пытаюсь найти документацию PySide более интуитивно понятной. API, на мой взгляд, немного больше Pythonic, и скорость исправления ошибок в настоящий момент впечатляет.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">PyQt имеет то преимущество, что Python 3 поддерживает и поддерживает. Для него существует гораздо больше сторонних документов/учебников.</p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Недавно я портировал значительную базу кода (более 8000 строк кода) из PyQt в PySide.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Сейчас я бы сказал, что PyQt - это гораздо более зрелый, эффективный и стабильный проект. Я попал в ряд ошибок в PySide и подозреваю, что любой большой проект столкнется с проблемами. Сказав это, я сообщил об ошибке в проекте, и он был исправлен и в новом выпуске в течение нескольких недель. У меня также есть проблема, когда приложение занимает около 15 секунд, чтобы выйти. Я еще не потратил время, чтобы узнать, почему. Однако это только вопрос времени, прежде чем не будет причин для выбора PyQt над PySide.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если вы решите пойти с PyQt, убедитесь, что вы используете API v2 повсюду. Это лучший API и облегчит любой будущий переход на PySide. Также, если вы используете порт, просто следуйте инструкциям в вики PySide. Даже для приложения с 8+ kloc, состоящего из примерно 20 исходных файлов, он просто принял второй день.                                                        </p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Важным фактом является то, что PyQt4 имеет две версии своих API для некоторых вещей. Элементы версии 1 - это такие вещи, как использование  <span style=" font-family:'DejaVu LGC Sans';">QString</span> вместо <span style=" font-family:'DejaVu LGC Sans';">unicode</span> и <span style=" font-family:'DejaVu LGC Sans';">QVariant</span> (в основном просто оболочка, я считаю, что я никогда не делал ничего, что ее использует) вместо обернутого. Версия 2, которая может быть включена в Python 2 и включена в Python 3, намного лучше (хотя она по-прежнему неспокойна во многих местах - PySide тоже, но она становится заметно лучше. Есть еще некоторые несовместимости с ними: PyQt4 имеет <span style=" font-family:'DejaVu LGC Sans';">QtCore.pyqt(Signal|Slot|Property)</span>, PySide имеет <span style=" font-family:'DejaVu LGC Sans';">QtCore.(Signal|Slot|Property)</span>.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для моего собственного проекта я решил, что хочу поддержать оба без изменений кода. Я предпочитаю PySide, но в Windows я распространяю с PyQt4, поскольку в настоящее время он довольно мал для распространения в настоящее время. Мое решение состоит в том, чтобы проверить PySide, и если он там вставляет крючок импорта для перенаправления импорта PyQt4 в PySide, или если это не так, исправьте PyQt4, чтобы он работал так, как должен.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Используемые файлы:</p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> <a href="http://portableapps.hg.sourceforge.net/hgweb/portableapps/development-toolkit/file/521dcffa6b4e/pyqt4pysideimporter.py"><span style=" text-decoration: underline; color:#0000ff;">pyqt4pysideimporter.py</span></a></li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> <a href="http://portableapps.hg.sourceforge.net/hgweb/portableapps/development-toolkit/file/521dcffa6b4e/zip_imp.py"><span style=" text-decoration: underline; color:#0000ff;">zip_imp.py</span></a> (для поддержки py2exe)</li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> <a href="http://portableapps.hg.sourceforge.net/hgweb/portableapps/development-toolkit/file/521dcffa6b4e/make_gui.py"><span style=" text-decoration: underline; color:#0000ff;">make_gui.py</span></a> (my script для создания файлов .ui и .qrc с помощью инструментов pyside или pyqt4 и фиксации импорта для согласования; опросы для файл изменяет и перестраивает измененные - ничто не высокотехнологичное, как inotify).</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Затем вы просто  <span style=" font-family:'DejaVu LGC Sans';">import pyqt4pysideimporter</span> и <span style=" font-family:'DejaVu LGC Sans';">pyqt4pysideimporter.autoselect()</span> (как в <span style=" font-family:'DejaVu LGC Sans';">main.py</span> в этом репозитории). А после этого вы можете просто <span style=" font-family:'DejaVu LGC Sans';">import PyQt4</span>.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Кроме того, было также заявлено несколько дней назад в списке рассылки PySide, который они планируют полностью поддерживать Python 3 в течение следующих нескольких месяцев.                                                        </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Хотя они могут иметь аналогичный интерфейс для классов Qt/С++, их интерфейс для макросов Qt/С++, таких как signal/slot/property, очень отличается.Постановка одного на другой - непростая задача. Было бы лучше принять правильное решение в самом начале.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Помимо различий в грамматике/лицензии, я просто хочу указать на некоторый недостаток PyQt в языковой привязке, что может быть необходимо для написания проекта QML в Python.Эти различия полностью подталкивают меня к PySide от PyQt.</p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"> <span style=" font-weight:600;"> qmlRegisterType</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;">qmlRegisterType необходим для создания привязки С++ во время выполнения с QML.В PySide это часть PySide.QtDeclarative. И это очень хорошо работает с Python.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;">В PyQt qmlRegisterType не существует. И я не мог найти альтернативный подход.Я знаю, что простая задача может быть выполнена путем установки QML-контекста.Но если вам действительно нужно связать время исполнения с qmlRegister и Q_INVOKABLE, я думаю, что PySide - единственный выбор на данный момент.</p>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"> <span style=" font-weight:600;"> Shiboken VS SIP</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;">Оба могут обернуть Qt/С++ в плагин python.Для Shiboken я считаю, что это проще и требует меньше кодирования.Просто создайте xml-систему, включая  <span style=" font-weight:600;"> НАЗВАНИЕ классов</span>, которые вы хотите экспортировать, и все.Shiboken не требует дополнительных ручных описаний для структуры целевых классов.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;">Для SIP требуется дополнительное кодирование. Нам нужно будет создать SIP файл, который почти повторяет все заголовки С++.Это требует не только  <span style=" font-weight:600;"> НАЗВАНИЕ класса</span>, но и  <span style=" font-weight:600;"> ПОДРОБНОСТИ, какие методы</span> имеют целевые классы.Если класс С++ находится в хорошем дизайне с использованием Pimp, и мы хотим экспортировать все его методы, SIP должен обеспечить способ автоматического экспорта всех методов класса, которые он не может в данный момент.Это также добавит бремя для поддержания согласованности между заголовками SIP и С++.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;">Но я должен сказать, что документация для Shiboken на вики Qt очень плохая и вводящая в заблуждение.Создание плагина Python с помощью Shiboken в Windows необязательно требует  <span style=" font-weight:600;"> CMake</span>.<span style=" font-weight:600;"> generatorrunner</span> также не требуется.Я использую только Windows cmd  script для вызова shiboken и qmake pro для компиляции целевого плагина.                                                        </p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">У меня есть приложение Python на 20 тыс. строк, которое я безуспешно пытался преобразовать в PySide.Конверсия проста, и большинство функций работает.Существует несколько методов, которые не реализованы, потому что они &quot;устарели&quot;, поэтому я должен был их исправить. Все в порядке.В Windows, используя PySide-1.1.2, оператор '==' не реализован для многих объектов Qt. Один из способов - сказать: &quot;if id (item1) == id (item2):&quot;.Другое наблюдение заключается в том, что PySide казался заметно медленнее. Я не изолировал PySide как причину медленности, но проблема исчезла, когда я вернулся к PyQt.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Наконец, на данный момент комплект Android с PySide не кажется готовым к прайм-тайм.</p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html>