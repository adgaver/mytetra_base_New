<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:xx-large; color:#000000; background-color:#ffffff;">Конвертация строк в объекты datetime в Python</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:28px;"><span style=" font-family:'MuseoSansCyrl-300'; font-size:medium; color:#180620;">Очень часто при работе с данными в Python возникает необходимость конвертировать дату и время, представленные в виде строки, в специальный объект datetime.</span></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:25.2px; background-color:#edecff;"><span style=" font-family:'MuseoSansCyrl-300'; font-size:medium; color:#180620;">Освойте Python на </span><a href="https://sky.pro/courses/programming/python-web-course?utm_source=skypro_blog&amp;utm_medium=free&amp;utm_campaign=konvertacziya-strok-v-obekty-datetime-v-python"><span style=" font-family:'MuseoSansCyrl-300'; font-size:medium; color:#565eef;">курсе от Skypro</span></a><span style=" font-family:'MuseoSansCyrl-300'; font-size:medium; color:#180620;">. Вас ждут 400 часов обучения и практики (достаточно десяти часов в неделю), подготовка проектов для портфолио, индивидуальная проверка домашних заданий и помощь опытных наставников. Получится, даже если у вас нет опыта в IT.Очень часто при работе с данными в Python возникает необходимость конвертировать дату и время, представленные в виде строки, в специальный объект datetime. Например, у вас может быть список таких строк:</span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="0" cellpadding="0">
<tr>
<td bgcolor="#ffffff" style=" vertical-align:middle; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;"></td>
<td bgcolor="#ffffff" style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:25.2px; background-color:#ffffff;"><span style=" font-family:'PT Mono'; font-size:medium; color:#000000;">[</span><span style=" font-family:'PT Mono'; font-size:medium; color:#0000ff;">&quot;Jun 1 2005 1:33PM&quot;</span><span style=" font-family:'PT Mono'; font-size:medium; color:#000000;">, </span><span style=" font-family:'PT Mono'; font-size:medium; color:#0000ff;">&quot;Aug 28 1999 12:00AM&quot;</span><span style=" font-family:'PT Mono'; font-size:medium; color:#000000;">]</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:25.2px;"><span style=" font-family:'MuseoSansCyrl-300'; font-size:medium; color:#180620;">И задача — преобразовать эти строки в объекты datetime.В Python для работы с датами и временем предусмотрен модуль datetime, в котором есть функция </span><span style=" font-family:'Courier New'; font-size:medium; color:#180620;">strptime</span><span style=" font-family:'MuseoSansCyrl-300'; font-size:medium; color:#180620;">. Эта функция позволяет перевести строку с датой и временем в объект datetime.Основная сложность заключается в правильной интерпретации формата даты и времени в строке. Функция </span><span style=" font-family:'Courier New'; font-size:medium; color:#180620;">strptime</span><span style=" font-family:'MuseoSansCyrl-300'; font-size:medium; color:#180620;"> вторым аргументом принимает строку формата.В данном примере формат даты и времени выглядит так: сначала идет трехбуквенное сокращение названия месяца, затем число, год, время и указание AM или PM. В строке формата это будет выглядеть так: </span><span style=" font-family:'Courier New'; font-size:medium; color:#180620;">&quot;%b %d %Y %I:%M%p&quot;</span><span style=" font-family:'MuseoSansCyrl-300'; font-size:medium; color:#180620;">.Таким образом, для конвертации строк в объекты datetime можно использовать следующий код:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:25.2px; font-family:'MuseoSansCyrl-300'; font-size:medium; color:#180620;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="0" cellpadding="0">
<tr>
<td bgcolor="#ffffff" style=" vertical-align:middle; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;"></td>
<td bgcolor="#ffffff" style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:25.2px; background-color:#ffffff;"><span style=" font-family:'PT Mono'; font-size:medium; font-weight:600; color:#da3369;">from</span><span style=" font-family:'PT Mono'; font-size:medium; color:#1b1f21;"> </span><span style=" font-family:'PT Mono'; font-size:medium; color:#000000;">datetime </span><span style=" font-family:'PT Mono'; font-size:medium; font-weight:600; color:#da3369;">import</span><span style=" font-family:'PT Mono'; font-size:medium; color:#1b1f21;"> </span><span style=" font-family:'PT Mono'; font-size:medium; color:#000000;">datetime</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:25.2px; background-color:#ffffff;"><span style=" font-family:'PT Mono'; font-size:medium; color:#000000;">date_strings </span><span style=" font-family:'PT Mono'; font-size:medium; font-weight:600; color:#da3369;">=</span><span style=" font-family:'PT Mono'; font-size:medium; color:#1b1f21;"> </span><span style=" font-family:'PT Mono'; font-size:medium; color:#000000;">[</span><span style=" font-family:'PT Mono'; font-size:medium; color:#0000ff;">&quot;Jun 1 2005 1:33PM&quot;</span><span style=" font-family:'PT Mono'; font-size:medium; color:#000000;">, </span><span style=" font-family:'PT Mono'; font-size:medium; color:#0000ff;">&quot;Aug 28 1999 12:00AM&quot;</span><span style=" font-family:'PT Mono'; font-size:medium; color:#000000;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:25.2px; background-color:#ffffff;"><span style=" font-family:'PT Mono'; font-size:medium; color:#000000;">date_times </span><span style=" font-family:'PT Mono'; font-size:medium; font-weight:600; color:#da3369;">=</span><span style=" font-family:'PT Mono'; font-size:medium; color:#1b1f21;"> </span><span style=" font-family:'PT Mono'; font-size:medium; color:#000000;">[datetime.strptime(date, </span><span style=" font-family:'PT Mono'; font-size:medium; color:#0000ff;">&quot;%b %d %Y %I:%M%p&quot;</span><span style=" font-family:'PT Mono'; font-size:medium; color:#000000;">) </span><span style=" font-family:'PT Mono'; font-size:medium; font-weight:600; color:#da3369;">for</span><span style=" font-family:'PT Mono'; font-size:medium; color:#1b1f21;"> </span><span style=" font-family:'PT Mono'; font-size:medium; color:#000000;">date </span><span style=" font-family:'PT Mono'; font-size:medium; font-weight:600; color:#da3369;">in</span><span style=" font-family:'PT Mono'; font-size:medium; color:#1b1f21;"> </span><span style=" font-family:'PT Mono'; font-size:medium; color:#000000;">date_strings]</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:25.2px;"><span style=" font-family:'MuseoSansCyrl-300'; font-size:medium; color:#180620;">Результатом выполнения этого кода будет список с объектами datetime, которые можно использовать для дальнейшей работы с датами и временем.Важно помнить, что формат даты и времени в строке может быть разным, поэтому перед использованием функции </span><span style=" font-family:'Courier New'; font-size:medium; color:#180620;">strptime</span><span style=" font-family:'MuseoSansCyrl-300'; font-size:medium; color:#180620;"> всегда нужно убедиться, что вы правильно определили формат. Подробнее о форматах даты и времени можно прочитать в </span><a href="https://docs.python.org/3/library/datetime.html#strftime-and-strptime-format-codes"><span style=" font-family:'MuseoSansCyrl-300'; font-size:medium; color:#565eef;">документации к модулю datetime</span></a><span style=" font-family:'MuseoSansCyrl-300'; font-size:medium; color:#180620;">.</span></p></body></html>